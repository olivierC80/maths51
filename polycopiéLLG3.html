<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Mathématiques : du lycée aux CPGE scientifiques - Version Améliorée</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.css" integrity="sha384-Xi8rHCmBmhbuyyhbI88391ZKP2dmMAixvhjsQEo pali4upnVgaWyr/rLcWWAjklMC" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/katex.min.js" integrity="sha384-X/XCfMm41VSsqRNQgDerQczD69XqmjOOOwYQvr/uuC+j4/0WnB/L/l2v+c98HLC/k" crossorigin="anonymous"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.0/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHfEChP+K9V+tC+eC8zWlHhK+8g1F+A/h/Roc/8L3s1F" crossorigin="anonymous"></script>
    <style>
        body {
            font-family: sans-serif;
            line-height: 1.6;
            background-color: #f4f7f9; /* Couleur de fond légère */
            margin: 0;
            padding: 0;
            color: #333;
        }
        .container {
            max-width: 1000px;
            margin: 20px auto;
            background-color: #ffffff; /* Fond blanc pour le contenu */
            padding: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-radius: 8px;
        }
        h1, h2, h3, h4 {
            color: #0056b3; /* Bleu foncé pour les titres */
            border-bottom: 2px solid #e1e8ed;
            padding-bottom: 5px;
            margin-top: 1.5em;
        }
        h1 {
            text-align: center;
            border-bottom: 3px solid #0056b3;
            margin-bottom: 1em;
        }
        p, ul, ol {
            margin-bottom: 1em;
        }
        ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        ol {
             list-style-type: decimal;
             margin-left: 20px;
        }
        li {
            margin-bottom: 0.5em;
        }
        a {
            color: #0066cc;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .sommaire ul {
             list-style-type: none;
             padding-left: 0;
        }
        .sommaire > ul > li {
            margin-bottom: 0.8em;
            font-weight: bold;
        }
        .sommaire ul ul {
            padding-left: 20px;
            font-weight: normal;
            margin-top: 0.3em;
            margin-bottom: 0.5em;
        }
        .sommaire ul ul ul {
            padding-left: 20px;
            font-style: italic;
        }

        .definition, .theorem, .example, .remarque, .complement {
            background-color: #eef7ff; /* Bleu très clair pour les fiches */
            border-left: 5px solid #0056b3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .complement h3, .complement h4 { /* Titres spécifiques pour les compléments */
             color: #1a7d3a; /* Vert pour les compléments */
             border-bottom-color: #a3d9b1;
        }
        .complement {
             border-left-color: #1a7d3a;
             background-color: #e8f5e9;
        }

        .exercise {
            background-color: #fefae0; /* Jaune pâle pour les exercices */
            border: 1px solid #e0cfa2;
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .exercise h3, .exercise h4 {
            color: #9c6f00; /* Marron/Or pour les titres d'exercices */
            border-bottom: none; /* Pas de soulignement pour les titres d'exo */
            margin-top: 0;
        }
        .solution {
            display: none; /* Caché par défaut */
            margin-top: 15px;
            padding: 10px;
            border: 1px dashed #ccc;
            background-color: #f9f9f9;
            border-radius: 4px;
        }
        .solution-toggle {
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 4px;
            font-size: 0.9em;
            margin-top: 10px;
        }
        .solution-toggle:hover {
            background-color: #0056b3;
        }
        .katex-display { /* S'assurer que les maths display ont de l'espace */
             margin: 1em 0;
             overflow-x: auto; /* Pour les formules très larges */
        }
        code, pre { /* Style pour le code si jamais il y en a */
            background-color: #eee;
            border-radius: 3px;
            padding: 2px 4px;
            font-family: monospace;
        }
        pre {
            padding: 10px;
            overflow-x: auto;
        }
        /* Styles pour les notations spécifiques */
        .notation { font-weight: bold; color: #d9534f; } /* Rouge pour les notations */
        .symbole-important { color: #f0ad4e; font-weight: bold; } /* Orange pour les symboles importants */

    </style>
</head>
<body>

<div class="container">

<h1>Mathématiques : du lycée aux CPGE scientifiques</h1>

<section id="introduction">
    <h2>Introduction</h2>

    <h3 id="intro-origine">Origine et buts de ce document</h3>

    <p>Lorsqu'on discute avec des lycéens se destinant aux CPGE scientifiques, deux questions reviennent fréquemment :</p>
    <ul>
        <li>Comment un lycéen peut-il se préparer efficacement aux CPGE, ou, plus largement, à des études supérieures scientifiques ?</li>
        <li>Quelles sont les mathématiques accessibles à un lycéen intéressé par la discipline et désirant un peu dépasser le programme de terminale ?</li>
    </ul>

    <p>Lors de la réforme des CPGE de 2013, un groupe de professeurs du lycée Louis-Le-Grand a élaboré un document pour répondre à ces deux demandes. Ce texte, en libre accès sur le site du lycée depuis 2013, a été largement consulté. La nouvelle réforme du lycée, effective en terminale l'année scolaire 2020-2021, en rendait nécessaire une mise à jour. L'intérêt manifesté par plusieurs professeurs de mathématiques du lycée Henri-IV fait que la nouvelle version a bénéficié du travail d'un groupe de professeurs du secondaire et de CPGE issus des deux établissements, qui espèrent ainsi aider les lycéens à approfondir les mathématiques de l'enseignement secondaire.</p>

    <p>Ce document, qui peut être travaillé dès le début de l'année de terminale, voire avant pour certaines parties, n'a pas vocation à se substituer aux cours du lycée, mais plutôt à les compléter. Il peut aussi donner des points de départ pour le « grand oral » du baccalauréat.</p>

    <p>Les choix principaux demeurent :</p>
    <ul>
        <li>Permettre au lecteur de revoir une grande partie des notions étudiées au lycée, en spécialité ou en option, dans l'optique de l'enseignement supérieur. À cet effet, le style d'écriture est souvent plus proche du post-bac que de la terminale.</li>
        <li>Insister sur les techniques de calcul, dont une solide maîtrise est indispensable pour la suite des études mathématiques. Nous avons souvent proposé des calculs assez « généraux », plus formateurs que des cas particuliers numériques.</li>
        <li>Offrir un choix d'exercices de difficulté variée, de manière à permettre plusieurs niveaux d'utilisation.</li>
        <li>Ne pas se limiter à un pur entraînement technique, en proposant un nombre important d'énoncés aboutissant à des résultats significatifs.</li>
        <li>Mettre en évidence les liens entre les différentes parties des mathématiques étudiées au lycée, afin de créer autant de synergies que possible.</li>
        <li>Introduire, pour les lecteurs les plus motivés, un certain nombre de compléments, choisis pour leur intérêt conceptuel ou technique, prolongeant les notions étudiées sans nécessiter de développements théoriques trop importants.</li>
        <li>Donner, de façon non systématique, quelques indications historiques sur le matériel présenté.</li>
    </ul>

    <p>Mais nous avons opéré un certain nombre de modifications :</p>
    <ul>
        <li>La liste des exercices a été très considérablement augmentée. En particulier, nous avons ajouté aux premiers chapitres une liste substantielle d'exercices assez simples.</li>
        <li>Nous avons ajouté un chapitre d'arithmétique et un chapitre de probabilités.</li>
        <li>Les nouveaux programmes de terminale, plus ambitieux que les anciens, nous ont conduits à aller plus vite sur certains rappels et, symétriquement, à aller un peu plus loin sur quelques points.</li>
    </ul>
</section>

<section id="organisation">
    <h2>Organisation et contenu</h2>

    <p>Pour ne pas alourdir démesurément le texte, nous n'avons pas visé à l'exhaustivité. Nous avons choisi, dans les programmes de terminale, ce qui nous a semblé le plus formateur en vue des études supérieures : analyse de base, dans une optique assez proche du « calculus » anglo-saxon, probabilités, nombres complexes et équations algébriques, arithmétique. Le texte est maintenant découpé en douze chapitres. Les neuf premiers relèvent du programme de la spécialité mathématiques, les trois derniers de celui de l'option mathématiques expertes :</p>
    <ul>
        <li>les chapitres 1 à 4 reprennent des notions de base étudiées pendant les trois années de lycée ;</li>
        <li>les chapitres 5, 6 et 8 couvrent le cœur du programme d'analyse du lycée (limites, dérivation, intégration) ;</li>
        <li>le chapitre 7 introduit les très naturelles fonctions puissances non entières, qui enrichissent à peu de frais la collection des « fonctions usuelles » ;</li>
        <li>le chapitre 9, consacré aux probabilités, permet plusieurs interactions avec les chapitres précédents ;</li>
        <li>les chapitres 10 et 11 traitent de deux thèmes fortement liés, les nombres complexes et les équations algébriques ;</li>
        <li>le chapitre 12 est consacré à l'arithmétique des nombres entiers.</li>
    </ul>

    <p>Les chapitres sont eux-mêmes divisés en paragraphes. Un paragraphe commence par des rappels (ou parfois des compléments) et/ou des exemples et est suivi d'une liste fournie d'exercices. Les résultats les plus classiques sont signalés par le symbole <span class="symbole-important">*</span>.</p>

    <p>Nous fournirons des indications ou des corrigés succincts pour une partie significative des exercices dans un autre document.</p>

    <p>La difficulté d'un exercice est repérée par un numéro : <span class="notation">(1)</span> désigne un exercice facile, <span class="notation">(2)</span> un exercice de niveau moyen, <span class="notation">(3)</span> un exercice assez difficile, <span class="notation">(4)</span> un exercice difficile et <span class="notation">(5)</span> un exercice très difficile. La difficulté peut résider dans le degré d'initiative nécessaire, dans la technique, dans la généralité de l'énoncé, dans le lien à faire entre plusieurs questions, voire avec d'autres exercices (le plus souvent explicitement signalés), ou dans la diversité des notions utilisées. Ces mentions, destinées à vous aider dans votre travail, sont d'une part subjectives, d'autre part relatives : le niveau d'ensemble des exercices proposés est élevé. En particulier, les exercices de niveau <span class="notation">(4)</span> et <span class="notation">(5)</span> dépassent souvent de loin les attendus de terminale.</p>
</section>

<section id="mode-emploi">
    <h2>Mode d'emploi : plusieurs parcours possibles</h2>

    <p>Ce document est très volumineux. Vous ne devez pas viser à en traiter l'intégralité, mais choisir ce qui vous est le plus profitable en termes de niveaux et de thèmes.</p>

    <p>Ainsi, le lecteur désireux d'affermir ses bases aura intérêt à travailler en priorité les chapitres 1 à 8, à l'exception de 7, puis éventuellement 10, en omettant les compléments et en se concentrant sur les exercices de niveau (1), (2) et éventuellement (3).</p>

    <p>À l'inverse, celui qui, maîtrisant très solidement le programme, désire surtout l'approfondir, pourra se concentrer sur les compléments, les exercices de niveau (3) à (5), et privilégier les chapitres (7 à 12), de contenu plus riche.</p>

    <p>Il est conseillé au lecteur de diviser le travail sur un paragraphe en deux temps :</p>
    <ul>
        <li>Étude des rappels, des exemples, éventuellement des compléments. Pour chaque exemple, il est conseillé de refaire complètement (et sans recopier le texte) raisonnements et calculs.</li>
        <li>Résolution d'une partie des exercices.</li>
    </ul>

    <p>Ne pas trouver, même en y passant du temps, un exercice de niveau (1) ou (2), ne préjuge en rien de votre future réussite en CPGE, ou, plus généralement, dans l'enseignement supérieur. Sécher fait partie de l'activité mathématique. D'une part, aboutir après un long travail procure une grande satisfaction. D'autre part, même en cas d'échec, le temps passé à chercher permet de progresser et de comprendre réellement une solution ; inversement, lire le corrigé d'un exercice sans s'être réellement engagé dans la recherche ne procure le plus souvent aucun bénéfice.</p>

    <p>La première version de ce texte comportait un certain nombre d'erreurs, que des lecteurs nous ont gentiment signalées. Nous trouvons ici l'occasion de les remercier chaleureusement. Malgré nos efforts, la présente mouture contient certainement des coquilles. Vous pouvez nous les signaler en écrivant à l'adresse nicolas.emmanuelle.tose1@orange.fr. Nous espérons que l'étude de ce document vous procurera plaisir et profit.</p>
</section>

<nav id="sommaire" class="sommaire">
    <h2>Sommaire</h2>
    <ul>
        <li><a href="#chap1">1 Rédaction, modes de raisonnement</a>
            <ul>
                <li><a href="#sec1-1">1.1 Rédaction, quantificateurs</a>
                    <ul>
                        <li><a href="#sec1-1-1">1.1.1 Vocabulaire et notations utilisés</a></li>
                        <li><a href="#sec1-1-2">1.1.2 Généralités</a></li>
                        <li><a href="#sec1-1-3">1.1.3 Quantificateurs</a></li>
                    </ul>
                </li>
                <li><a href="#sec1-2">1.2 Le raisonnement par récurrence (1)</a></li>
                <li><a href="#sec1-3">1.3 Le raisonnement par récurrence (2)</a></li>
                <li><a href="#sec1-4">1.4 Le raisonnement par l'absurde</a></li>
                <li><a href="#sec1-5">1.5 Le raisonnement par analyse-synthèse</a></li>
            </ul>
        </li>
        <li><a href="#chap2">2 Calculs algébriques</a>
            <ul>
                <li><a href="#sec2-1">2.1 Généralités et rappels</a></li>
                <li><a href="#sec2-2">2.2 Le symbole $\sum$</a></li>
                <li><a href="#sec2-3">2.3 Complément : sommes télescopiques</a></li>
                <li><a href="#sec2-4">2.4 Le symbole $\prod$</a></li>
            </ul>
        </li>
        <li><a href="#chap3">3 Inégalités, inéquations, trinôme du second degré réel</a>
             <ul>
                <li><a href="#sec3-1">3.1 Inégalités, encadrements, inéquations du premier degré</a></li>
                <li><a href="#sec3-2">3.2 Complément : inégalité arithmético-géométrique pour deux réels</a></li>
                <li><a href="#sec3-3">3.3 Le trinôme du second degré réel</a></li>
                <li><a href="#sec3-4">3.4 Complément : inégalité de Cauchy-Schwarz pour les sommes</a></li>
            </ul>
        </li>
        <li><a href="#chap4">4 Trigonométrie</a>
            <ul>
                <li><a href="#sec4-1">4.1 Les formules d'addition et de duplication</a></li>
                <li><a href="#sec4-2">4.2 Congruences modulo un nombre réel</a></li>
                <li><a href="#sec4-3">4.3 Complément : transformation de $a \cos (x)+b \sin (x)$</a></li>
                <li><a href="#sec4-4">4.4 Complément : la fonction tangente</a></li>
            </ul>
        </li>
        <li><a href="#chap5">5 Calcul des limites</a>
             <ul>
                <li><a href="#sec5-1">5.1 Premiers exemples</a></li>
                <li><a href="#sec5-2">5.2 Utilisation de taux d'accroissement</a></li>
                <li><a href="#sec5-3">5.3 Mise en facteur du terme prépondérant</a></li>
                <li><a href="#sec5-4">5.4 Utilisation de la forme exponentielle</a></li>
                <li><a href="#sec5-5">5.5 Complément : croissance comparée des suites $\left(a^{n}\right)_{n \geq 0}$ et $(n!)_{n \geq 0}$</a></li>
                <li><a href="#sec5-6">5.6 Quelques études de suites</a></li>
            </ul>
        </li>
        <li><a href="#chap6">6 Dérivation</a>
            <ul>
                <li><a href="#sec6-1">6.1 Calcul des dérivées</a></li>
                <li><a href="#sec6-2">6.2 Tangente à un graphe</a></li>
                <li><a href="#sec6-3">6.3 Variations des fonctions</a>
                    <ul>
                        <li><a href="#sec6-3-1">6.3.1 Étude de fonctions, nombre de solutions d'une équation</a></li>
                        <li><a href="#sec6-3-2">6.3.2 Démonstration d'inégalités, détermination d'extrema</a></li>
                    </ul>
                </li>
                <li><a href="#sec6-4">6.4 Caractérisation des fonctions constantes, équations différentielles</a>
                    <ul>
                        <li><a href="#sec6-4-1">6.4.1 Caractérisation des fonctions constantes</a></li>
                        <li><a href="#sec6-4-2">6.4.2 L'équation différentielle $y^{\prime}=\lambda y$</a></li>
                    </ul>
                </li>
                <li><a href="#sec6-5">6.5 Complément : la condition nécessaire d'extremum</a></li>
            </ul>
        </li>
        <li><a href="#chap7">7 Complément : les fonctions puissances</a>
             <ul>
                <li><a href="#sec7-1">7.1 Généralités</a></li>
                <li><a href="#sec7-2">7.2 Fonctions puissances et croissances comparées</a></li>
                <li><a href="#sec7-3">7.3 L'inégalité arithmético-géométrique</a></li>
                <li><a href="#sec7-4">7.4 Utilisation de la forme exponentielle pour le calcul des limites</a></li>
            </ul>
        </li>
        <li><a href="#chap8">8 Intégration</a>
            <ul>
                <li><a href="#sec8-1">8.1 Calculs d'intégrales et de primitives</a></li>
                <li><a href="#sec8-2">8.2 Intégration des inégalités</a></li>
                <li><a href="#sec8-3">8.3 Intégrale fonction de sa borne supérieure</a></li>
                <li><a href="#sec8-4">8.4 L'intégration par parties</a></li>
                <li><a href="#sec8-5">8.5 Suites d'intégrales</a></li>
                <li><a href="#sec8-6">8.6 Complément : intégrales de Wallis</a></li>
                <li><a href="#sec8-7">8.7 Complément : développement en série de l'exponentielle</a></li>
                <li><a href="#sec8-8">8.8 Complément : séries</a></li>
                <li><a href="#sec8-9">8.9 Complément : méthode des rectangles et estimation de sommes</a></li>
                <li><a href="#sec8-10">8.10 Problème : un premier calcul de $\zeta(2)$</a></li>
            </ul>
        </li>
        <li><a href="#chap9">9 Probabilités</a>
            <ul>
                <li><a href="#sec9-1">9.1 Exercices introductifs</a></li>
                <li><a href="#sec9-2">9.2 Schéma binomial</a></li>
                <li><a href="#sec9-3">9.3 Espérance d'une variable aléatoire</a></li>
                <li><a href="#sec9-4">9.4 La linéarité de l'espérance</a></li>
            </ul>
        </li>
        <li><a href="#chap10">10 Nombres complexes</a>
            <ul>
                <li><a href="#sec10-1">10.1 Forme algébrique d'un nombre complexe</a></li>
                <li><a href="#sec10-2">10.2 Conjugué et module</a></li>
                <li><a href="#sec10-3">10.3 Représentation géométrique des nombres complexes</a></li>
                <li><a href="#sec10-4">10.4 Nombres complexes de module 1, exponentielle imaginaire</a></li>
                <li><a href="#sec10-5">10.5 Arguments d'un nombre complexe non nul, forme trigonométrique</a></li>
                <li><a href="#sec10-6">10.6 Interprétation géométrique du module et de l'argument de $\frac{c-a}{b-a}$</a></li>
                <li><a href="#sec10-7">10.7 La formule du binôme</a></li>
                <li><a href="#sec10-8">10.8 Complément : technique de l'arc moitié</a></li>
                <li><a href="#sec10-9">10.9 Complément : calcul de sommes trigonométriques</a></li>
                <li><a href="#sec10-10">10.10 Racines $n$-ièmes de l'unité, racines $n$-ièmes d'un nombre complexe</a></li>
                <li><a href="#sec10-11">10.11 Complément : inégalité triangulaire</a></li>
            </ul>
        </li>
        <li><a href="#chap11">11 Polynômes et équations algébriques</a>
            <ul>
                <li><a href="#sec11-1">11.1 Polynômes</a></li>
                <li><a href="#sec11-2">11.2 Complément : polynômes de Bernoulli</a></li>
                <li><a href="#sec11-3">11.3 Racines d'une équation polynomiale</a></li>
                <li><a href="#sec11-4">11.4 Complément : l'équation du second degré dans $\mathbb{C}$</a></li>
                <li><a href="#sec11-5">11.5 Complément : les équations de degré 3 et 4</a></li>
                <li><a href="#sec11-6">11.6 Complément : rigidité des polynômes</a></li>
                <li><a href="#sec11-7">11.7 Complément : polynômes de Tchebychev</a></li>
                <li><a href="#sec11-8">11.8 Complément : vers les formules de Viète</a></li>
                <li><a href="#sec11-9">11.9 Problème : un second calcul de $\zeta(2)$</a></li>
            </ul>
        </li>
        <li><a href="#chap12">12 Arithmétique</a>
            <ul>
                <li><a href="#sec12-1">12.1 Divisibilité, division euclidienne, congruences</a></li>
                <li><a href="#sec12-2">12.2 Nombres premiers</a></li>
                <li><a href="#sec12-3">12.3 PGCD de deux entiers, théorème de Bézout</a></li>
                <li><a href="#sec12-4">12.4 Lemme de Gauss, inversion modulaire</a></li>
                <li><a href="#sec12-5">12.5 Complément : racines rationnelles d'un polynôme</a></li>
                <li><a href="#sec12-6">12.6 Décomposition en facteurs premiers</a></li>
                <li><a href="#sec12-7">12.7 Le petit théorème de Fermat</a></li>
                <li><a href="#sec12-8">12.8 Complément : le théorème des restes chinois</a></li>
            </ul>
        </li>
    </ul>
</nav>

<main>

<section id="chap1">
    <h2>1 Rédaction, modes de raisonnement</h2>
    <p>Nous rappelons ici quelques notations d'usage courant, des rappels portant sur la rédaction d'un texte mathématique et quelques modes de raisonnement.</p>

    <section id="sec1-1">
        <h3>1.1 Rédaction, quantificateurs</h3>

        <section id="sec1-1-1">
            <h4>1.1.1 Vocabulaire et notations utilisés</h4>
            <p>Pour la commodité du lecteur, on regroupe ici quelques termes et notations d'usage courant.</p>

            <h5>Ensembles de nombres usuels</h5>
            <p>Dans tout ce texte, on utilise les notations usuelles ci-après.</p>
            <ul>
                <li><span class="notation">$\mathbb{N}$</span> est l'ensemble des nombres entiers naturels, <span class="notation">$\mathbb{N}^{*}$</span> l'ensemble des entiers naturels non nuls, c'est-à-dire $\geq 1$.</li>
                <li><span class="notation">$\mathbb{Z}$</span> est l'ensemble des nombres entiers relatifs, <span class="notation">$\mathbb{Z}^{*}$</span> l'ensemble des entiers relatifs non nuls.</li>
                <li><span class="notation">$\mathbb{Q}$</span> est l'ensemble des nombres rationnels, c'est-à-dire des fractions
                    $$
                    \frac{p}{q}, \quad p \in \mathbb{Z}, q \in \mathbb{N}^{*}
                    $$
                    On peut, quitte à simplifier, supposer la fraction irréductible, c'est-à-dire que le seul diviseur commun (positif) à $p$ et $q$ est 1.</li>
                <li><span class="notation">$\mathbb{R}$</span> est l'ensemble des nombres réels, <span class="notation">$\mathbb{R}^{*}$</span> l'ensemble des nombres réels non nuls, <span class="notation">$\mathbb{R}^{+}$</span> l'ensemble des nombres réels positifs ou nuls, <span class="notation">$\mathbb{R}^{++}$</span> l'ensemble des nombres réels strictement positifs.</li>
                <li><span class="notation">$\mathbb{C}$</span> est l'ensemble des nombres complexes, <span class="notation">$\mathbb{C}^{*}$</span> l'ensemble des nombres complexes non nuls.</li>
            </ul>

            <p>On a les inclusions :</p>
            $$
            \mathbb{N} \subset \mathbb{Z} \subset \mathbb{Q} \subset \mathbb{R} \subset \mathbb{C}
            $$

            <p>Les nombres réels non rationnels sont dits irrationnels. Vous rencontrerez dans ce texte plusieurs exemples de nombres irrationnels.</p>

            <h5>Segments de $\mathbb{R}$</h5>
            <p>Si $a$ et $b$ sont deux nombres réels, on note <span class="notation">$[a, b]$</span> l'ensemble des réels compris, au sens large, entre $a$ et $b$.</p>
            <p>Cette notation vaut quel que soit l'ordre dans lequel $a$ et $b$ sont rangés. Ainsi :</p>
            $$
            [0,1]=[1,0]
            $$
            <p>Les ensembles de la forme $[a, b]$ sont appelés segments de $\mathbb{R}$. Noter que les segments de $\mathbb{R}$ sont exactement les intervalles fermés et bornés.</p>

            <h5>Partie entière d'un nombre réel</h5>
            <p>La partie entière, ou partie entière inférieure d'un réel $x$, notée <span class="notation">$\lfloor x\rfloor$</span>, désigne le plus grand entier relatif plus petit que $x$. Autrement dit, $\lfloor x\rfloor$ appartient à $\mathbb{Z}$ et vérifie :</p>
            $$
            \lfloor x\rfloor \leq x \lt \lfloor x\rfloor+1
            $$
            <p>Ainsi :</p>
            $$
            \lfloor 3,8\rfloor=3, \quad\lfloor-4,1\rfloor=-5
            $$
            <p>Si $x$ est positif ou nul, $\lfloor x\rfloor$ s'obtient en « enlevant à $x$ sa partie décimale ».</p>

            <h5>Limites</h5>
            <p>Pour $a$ et $b$ dans $\mathbb{R} \cup\{-\infty,+\infty\}$, la notation classique $\lim _{x \rightarrow a} f(x)=b$ est génératrice d'incorrections : elle conduit à supposer a priori l'existence d'une limite. On lui préfère ici l'écriture</p>
            $$
            f(x) \underset{x \rightarrow a}{\longrightarrow} b
            $$
            <p>Pour une suite $\left(u_{n}\right)_{n \geq 0}$, « $n$ ne peut tendre que vers $+\infty$ ». On écrit indifféremment</p>
            $$
            u_{n} \underset{n \rightarrow+\infty}{\longrightarrow} \ell, \quad \text { ou }: u_{n} \longrightarrow \ell
            $$

            <h5>Dérivées successives d'une fonction</h5>
            <p>Si $f$ est une fonction dérivable sur l'intervalle $I$, la fonction dérivée de $f$ est notée <span class="notation">$f^{\prime}$</span>. Si $f^{\prime}$ est elle-même dérivable sur $I$, on dit que $f$ est deux fois dérivable sur $I$; la dérivée $\left(f^{\prime}\right)^{\prime}$ de $f^{\prime}$ est alors notée <span class="notation">$f^{\prime \prime}$</span>. On généralise sans peine ; si $f$ est $n$ fois dérivable sur $I$, sa dérivée $n$-ième est notée <span class="notation">$f^{(n)}$</span>.</p>

            <h5>Cercle unité (ou cercle trigonométrique)</h5>
            <p>On appelle ainsi le cercle de centre $O$ et de rayon 1 du plan $\mathbb{R}^{2}$. Lorsque ce plan est identifié à l'ensemble $\mathbb{C}$ des nombres complexes, le cercle s'identifie à l'ensemble des complexes de module 1.</p>

            <h5>Pente d'une droite de $\mathbb{R}^{2}$</h5>
            <p>Soit $D$ une droite du plan $\mathbb{R}^{2}$ non parallèle à l'axe des ordonnées : $D$ admet donc une unique équation de la forme</p>
            $$
            y=a x+b, \quad \text { avec }(a, b) \in \mathbb{R}^{2}
            $$
            <p>On appelle pente ou coefficient directeur de $D$ le réel $a$. L'interprétation géométrique est claire : si $M_{1}$ et $M_{2}$ sont deux points distincts de $D$ de coordonnées respectives $\left(x_{1}, y_{1}\right)$ et $\left(x_{2}, y_{2}\right)$, alors</p>
            $$
            a = \frac{y_{2} - y_{1}}{x_{2} - x_{1}}
            $$

            <h5>Application</h5>
            <p>Synonyme de « fonction », définie sur un ensemble quelconque et à valeurs dans un ensemble quelconque.</p>
        </section>

        <section id="sec1-1-2">
            <h4>1.1.2 Généralités</h4>
            <p>La rédaction mathématique obéit à des règles précises qui doivent être rapidement maîtrisées. Voici les plus importantes.</p>
            <ul>
                <li>Un objet mathématique est déclaré avant d'être utilisé, en général par le terme « soit » ; la déclaration précise la nature de l'objet (exemples : « soit $\vec{v}$ un vecteur non nul », « soit $z$ un nombre complexe non réel », « soit $n$ un élément de $\mathbb{N}^{*}$ » ...).</li>
                <li>Un discours mathématique n'est pas une suite de symboles. L'argumentation est, pour l'essentiel, rédigée en langage ordinaire (et correct), avec des phrases complètes.</li>
                <li>En particulier, les quantificateurs et les symboles d'implication $\Rightarrow$ et d'équivalence $\Leftrightarrow$, utiles pour énoncer de manière précise et concise des propriétés, ne doivent pas être employés comme des abréviations à l'intérieur du discours.</li>
                <li>Il est bon d'annoncer ce que l'on va faire, par des locutions du type « Montrons que ».</li>
            </ul>
            <p>Bien rédiger s'acquiert essentiellement par l'usage ; les exemples présentés dans la suite devraient vous donner une idée de ce qui est attendu.</p>
        </section>

        <section id="sec1-1-3">
            <h4>1.1.3 Quantificateurs</h4>
            <p>Les quantificateurs sont évoqués en terminale. Précisons ces notations, dont l'emploi est très commode et que nous utiliserons librement dans la suite.</p>
            <p>Le quantificateur universel est noté <span class="notation">$\forall$</span>; il signifie « pour tout » ou « quel que soit ». Le quantificateur existentiel est noté <span class="notation">$\exists$</span>; il signifie « il existe ». Par exemple, la phrase</p>
            $$
            \forall x \in \mathbb{R}, \quad e^{x} \gt 0
            $$
            <p>signifie que, pour tout réel $x$, le réel $e^{x}$ est strictement positif. La phrase :</p>
            $$
            \forall y \in \mathbb{R}, \quad \exists x \in \mathbb{R}, \quad y=x^{5}-5 x
            $$
            <p>signifie que, pour tout réel $y$, il existe (au moins) un réel $x$ tel que $x^{5}-5 x=y$, ce que l'on peut établir au moyen d'une étude de fonction (cf paragraphe <a href="#sec6-3-1">6.3.1</a>).</p>
            <p>Les quantificateurs permettent de formuler de manière condensée certaines propriétés. Ainsi, pour une suite réelle $\left(u_{n}\right)_{n \geq 0}$, l'assertion « $\left(u_{n}\right)_{n \geq 0}$ converge vers 0 » est définie par :</p>
            $$
            \forall \varepsilon \gt 0, \quad \exists N \in \mathbb{N}, \quad \forall n \in \mathbb{N}, \quad n \geq N \Rightarrow\left|u_{n}\right| \leq \varepsilon
            $$
            <p>Cette définition est intuitivement raisonnable : dès qu'on se fixe un seuil $\varepsilon$, il existe un entier naturel $N$ (dépendant de $\varepsilon$) tel que, pour $n \geq N,\left|u_{n}\right|$ soit majoré par $\varepsilon$. De manière plus informelle, étant donné un seuil $\varepsilon \gt 0$, la suite $\left(u_{n}\right)$ est bornée par $\varepsilon$ « à partir d'un certain rang ».</p>
            <p>On n'emploie les symboles $\forall$ et $\exists$ que dans des phrases intégralement écrites en langage quantifié et, à vrai dire, le plus souvent dans des définitions. En aucun cas on ne peut mélanger quantificateur et phrase française : les quantificateurs ne sont pas des abréviations. Commencer une démonstration par un quantificateur est une faute grave. Si l'on veut prouver qu'une propriété est vraie pour tout réel $x$, la rédaction commence en déclarant $x$ : « Soit $x$ dans $\mathbb{R}$. ». On montre ensuite que la propriété désirée est vraie pour $x$.</p>
            <p>Dans la suite de ce document, nous utiliserons les quantificateurs uniquement pour formuler rapidement certaines propriétés.</p>
        </section>
    </section>

    <section id="sec1-2">
        <h3>1.2 Le raisonnement par récurrence (1)</h3>
        <p>Soit $\mathcal{P}_{n}$ une propriété dépendant de l'entier naturel $n$. Pour démontrer que $\mathcal{P}_{n}$ est vraie pour tout $n$ de $\mathbb{N}$, on peut procéder de la façon suivante.</p>
        <ul>
            <li><strong>Initialisation.</strong> On établit la propriété pour $n=0$.</li>
            <li><strong>Hérédité.</strong> On fixe un entier $n$ tel que la propriété $\mathcal{P}_{n}$ soit vraie. On montre alors que $\mathcal{P}_{n+1}$ est également vraie.</li>
        </ul>
        <p>Ces deux points étant acquis, on peut conclure que la propriété $\mathcal{P}_{n}$ est vraie pour tout $n$. Le raisonnement présenté est la forme la plus simple de raisonnement par récurrence.</p>
        <p>Il se peut que l'on demande de prouver la validité d'une propriété $\mathcal{P}_{n}$ pour tout $n$ dans $\mathbb{N}^{*}$; l'initialisation consiste alors en la vérification de $\mathcal{P}_{1}$.</p>
        <p>Le raisonnement par récurrence est un outil essentiel. Dans la plupart des exemples que vous verrez en première année, sa mise en œuvre ne pose pas de difficulté. Il convient en revanche de rédiger soigneusement. En particulier, $n$ étant fixé, aucune quantification relative à l'entier $n$ ne doit apparaître dans la formulation de la propriété $\mathcal{P}_{n}$ : nommer $\mathcal{P}_{n}$ une propriété de la forme $\forall n \in \mathbb{N}, \ldots$ n'a aucun sens. Il suffit de substituer à $n$ une valeur quelconque (disons 2022) pour s'en convaincre.</p>

        <div class="example">
            <h4>Exemples</h4>
            <ol>
                <li>
                    <p><strong>Somme des carrés des $n$ premiers entiers</strong></p>
                    <p>Pour $n$ dans $\mathbb{N}^{*}$, la somme des $n$ premiers entiers est donnée par la formule :</p>
                    $$
                    1+2+\cdots+n=\frac{n(n+1)}{2}
                    $$
                    <p>sur laquelle nous reviendrons en <a href="#sec2-3">2.3</a>.</p>
                    <p>Ici, nous allons montrer par récurrence :</p>
                    $$
                    \forall n \in \mathbb{N}^{*}, \quad 1^{2}+2^{2}+\cdots+n^{2}=\frac{n(n+1)(2 n+1)}{6}
                    $$
                    <p>Pour $n$ dans $\mathbb{N}^{*}$, on note $\mathcal{P}_{n}$ la propriété $1^{2}+2^{2}+\cdots+n^{2}=\frac{n(n+1)(2 n+1)}{6}$.</p>
                    <p><em>Initialisation.</em> La vérification de $\mathcal{P}_{1}$ est immédiate : $1^{2}=1=\frac{1 \cdot 2 \cdot 3}{6}=1$.</p>
                    <p><em>Hérédité.</em> Fixons $n$ dans $\mathbb{N}^{*}$ tel que $\mathcal{P}_{n}$ soit vraie. On a donc : $1^{2}+2^{2}+\cdots+n^{2}=\frac{n(n+1)(2 n+1)}{6}$. Alors :</p>
                    $$
                    1^{2}+2^{2}+\cdots+(n+1)^{2}=\left(1^{2}+2^{2}+\cdots+n^{2}\right)+(n+1)^{2}
                    $$
                    <p>d'où, grâce à $\mathcal{P}_{n}$ :</p>
                    $$
                    1^{2}+2^{2}+\cdots+(n+1)^{2}=\frac{n(n+1)(2 n+1)}{6}+(n+1)^{2}=\frac{n+1}{6}(n(2 n+1)+6(n+1))
                    $$
                    <p>Mais : $n(2 n+1)+6(n+1)=2 n^{2}+7 n+6=(n+2)(2 n+3)$. En fin de compte :</p>
                    $$
                    1^{2}+2^{2}+\cdots+(n+1)^{2}=\frac{(n+1)(n+2)(2 n+3)}{6}
                    $$
                    <p>C'est exactement $\mathcal{P}_{n+1}$.</p>
                </li>
                <li>
                    <p><strong>Une inégalité</strong></p>
                    <p>Montrons par récurrence :</p>
                    $$
                    \forall n \in \mathbb{N}^{*}, \quad 1+\frac{1}{2^{2}}+\frac{1}{3^{2}}+\cdots+\frac{1}{n^{2}} \leq 2-\frac{1}{n}
                    $$
                    <p>Pour $n$ dans $\mathbb{N}^{*}$, on note $\mathcal{P}_{n}$ la propriété $1+\frac{1}{2^{2}}+\frac{1}{3^{2}}+\cdots+\frac{1}{n^{2}} \leq 2-\frac{1}{n}$.</p>
                    <p><em>Initialisation.</em> On a $2-\frac{1}{1}=1$. Donc $1 \leq 2-\frac{1}{1}$. La propriété $\mathcal{P}_{1}$ est vraie.</p>
                    <p><em>Hérédité.</em> Fixons $n$ dans $\mathbb{N}^{*}$ tel que $\mathcal{P}_{n}$ soit vraie. On a donc $1+\frac{1}{2^{2}}+\cdots+\frac{1}{n^{2}} \leq 2-\frac{1}{n}$. En ajoutant $1 /(n+1)^{2}$ aux deux membres de l'inégalité, il vient :</p>
                    $$
                    \text { (1) } \quad 1+\frac{1}{2^{2}}+\cdots+\frac{1}{n^{2}}+\frac{1}{(n+1)^{2}} \leq 2-\frac{1}{n}+\frac{1}{(n+1)^{2}}
                    $$
                    <p>Notons maintenant que :</p>
                    $$
                    2-\frac{1}{n+1}-\left(2-\frac{1}{n}+\frac{1}{(n+1)^{2}}\right)=\frac{1}{n}-\frac{1}{n+1}-\frac{1}{(n+1)^{2}}=\frac{(n+1)^2 - n(n+1) - n}{n(n+1)^2} = \frac{n^2+2n+1 - n^2-n -n}{n(n+1)^2} = \frac{1}{n(n+1)^{2}} \geq 0
                    $$
                    <p>Il en résulte que le membre de droite de (1) est majoré par $2-\frac{1}{n+1}$. Il en est a fortiori de même du membre de gauche, ce qui signifie que l'on a :</p>
                    $$
                    1+\frac{1}{2^{2}}+\cdots+\frac{1}{n^{2}}+\frac{1}{(n+1)^{2}} \leq 2-\frac{1}{n+1}
                    $$
                    <p>C'est exactement $\mathcal{P}_{n+1}$.</p>
                </li>
                 <li>
                    <p><strong>Une remarque</strong></p>
                    <p>Pour un énoncé « ouvert » du type « Calculer $u_{n}$ en fonction de $n$ », il est pertinent, si le résultat n'apparaît pas immédiatement, de commencer par deviner le résultat avant de l'établir par récurrence. Voici un exemple simple. La suite $\left(u_{n}\right)_{n \geq 0}$ est définie par :</p>
                    $$
                    u_{0} \in \mathbb{R} ; \quad \forall n \in \mathbb{N}, \quad u_{n+1}=u_{n}{ }^{2}
                    $$
                    <p>On cherche à calculer $u_{n}$. On observe que $u_{1}=u_{0}^{2}, \quad u_{2}=u_{1}^{2}=(u_0^2)^2 = u_{0}^{4}, \quad u_{3}=u_{2}^{2}=(u_0^4)^2 = u_{0}^{8}$. Il semble donc que $\forall n \in \mathbb{N}, \quad u_{n}=u_{0}^{2^{n}}$.</p>
                    <p>La démonstration est alors immédiate. La propriété $\mathcal{P}_{0}$ est vérifiée car $u_0 = u_0^{2^0} = u_0^1$. Supposons $\mathcal{P}_{n}$ vraie pour un $n \in \mathbb{N}$ fixé ($u_n = u_0^{2^n}$). Alors</p>
                    $$
                    u_{n+1}=u_{n}^{2}=\left(u_{0}^{2^{n}}\right)^{2}=u_{0}^{2^{n} \times 2}=u_{0}^{2^{n+1}}
                    $$
                    <p>C'est $\mathcal{P}_{n+1}$.</p>
                </li>
            </ol>
        </div>

        <div class="exercise" id="ex1">
            <h3>Exercice 1 <span class="notation">(2)</span> Sommes des cubes des $n$ premiers entiers <span class="symbole-important">*</span></h3>
            <p>Montrer que</p>
            $$
            \forall n \in \mathbb{N}^{*}, \quad 1^{3}+2^{3}+\cdots+n^{3}=\left(\frac{n(n+1)}{2}\right)^{2}
            $$
            <button class="solution-toggle" onclick="toggleSolution('sol1')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol1">
                <p><strong>Solution :</strong></p>
                <p>Soit $\mathcal{P}_n$ l'assertion $1^3 + \dots + n^3 = \left(\frac{n(n+1)}{2}\right)^2$.</p>
                <p><em>Initialisation ($n=1$) :</em> $1^3 = 1$. $\left(\frac{1(1+1)}{2}\right)^2 = \left(\frac{2}{2}\right)^2 = 1^2 = 1$. Donc $\mathcal{P}_1$ est vraie.</p>
                <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \in \mathbb{N}^*$ fixé. Montrons $\mathcal{P}_{n+1}$.</p>
                $$
                1^3 + \dots + n^3 + (n+1)^3 = \left(\frac{n(n+1)}{2}\right)^2 + (n+1)^3 \quad (\text{par } \mathcal{P}_n)
                $$
                $$
                = (n+1)^2 \left( \frac{n^2}{4} + (n+1) \right)
                = (n+1)^2 \left( \frac{n^2 + 4n + 4}{4} \right)
                $$
                $$
                = (n+1)^2 \frac{(n+2)^2}{4}
                = \left( \frac{(n+1)(n+2)}{2} \right)^2
                $$
                <p>Ceci est exactement $\mathcal{P}_{n+1}$.</p>
                <p><em>Conclusion :</em> Par le principe de récurrence, $\mathcal{P}_n$ est vraie pour tout $n \in \mathbb{N}^*$.</p>
            </div>
        </div>

        <div class="exercise" id="ex2">
            <h3>Exercice 2 <span class="notation">(2)</span></h3>
             <p>Montrer que, si $n \in \mathbb{N}$, il existe un entier impair $\lambda_{n}$ tel que</p>
            $$
            5^{2^{n}}=1+\lambda_{n} 2^{n+2}
            $$
            <button class="solution-toggle" onclick="toggleSolution('sol2')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol2">
                <p><strong>Solution :</strong></p>
                <p>Soit $\mathcal{P}_n$ l'assertion : "Il existe un entier impair $\lambda_n$ tel que $5^{2^n} = 1 + \lambda_n 2^{n+2}$".</p>
                <p><em>Initialisation ($n=0$) :</em> $5^{2^0} = 5^1 = 5$. On cherche $\lambda_0$ impair tel que $5 = 1 + \lambda_0 2^{0+2} = 1 + 4\lambda_0$. On trouve $4\lambda_0 = 4$, soit $\lambda_0 = 1$. Comme 1 est impair, $\mathcal{P}_0$ est vraie.</p>
                <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \in \mathbb{N}$ fixé. Il existe $\lambda_n$ impair tel que $5^{2^n} = 1 + \lambda_n 2^{n+2}$. Montrons $\mathcal{P}_{n+1}$.</p>
                $$
                5^{2^{n+1}} = 5^{2^n \times 2} = (5^{2^n})^2 = (1 + \lambda_n 2^{n+2})^2 \quad (\text{par } \mathcal{P}_n)
                $$
                $$
                = 1 + 2 (\lambda_n 2^{n+2}) + (\lambda_n 2^{n+2})^2
                = 1 + \lambda_n 2^{n+3} + \lambda_n^2 2^{2n+4}
                $$
                $$
                = 1 + 2^{n+3} (\lambda_n + \lambda_n^2 2^{n+1})
                $$
                <p>On cherche $\lambda_{n+1}$ impair tel que $5^{2^{n+1}} = 1 + \lambda_{n+1} 2^{(n+1)+2} = 1 + \lambda_{n+1} 2^{n+3}$.</p>
                <p>Par identification, on pose $\lambda_{n+1} = \lambda_n + \lambda_n^2 2^{n+1}$.</p>
                <p>Comme $n \in \mathbb{N}$, $n+1 \geq 1$. Donc $2^{n+1}$ est pair. Puisque $\lambda_n$ est impair, $\lambda_n^2$ est aussi impair.</p>
                <p>Ainsi, $\lambda_n^2 2^{n+1}$ est le produit d'un impair et d'un pair (non nul car $n+1 \ge 1$), c'est donc un entier pair.</p>
                <p>$\lambda_{n+1}$ est la somme de $\lambda_n$ (impair) et de $\lambda_n^2 2^{n+1}$ (pair). Donc $\lambda_{n+1}$ est impair.</p>
                <p>On a bien trouvé un $\lambda_{n+1}$ impair tel que $5^{2^{n+1}} = 1 + \lambda_{n+1} 2^{n+3}$. Donc $\mathcal{P}_{n+1}$ est vraie.</p>
                <p><em>Conclusion :</em> Par le principe de récurrence, $\mathcal{P}_n$ est vraie pour tout $n \in \mathbb{N}$.</p>
            </div>
        </div>

        <div class="exercise" id="ex3">
             <h3>Exercice 3 <span class="notation">(3)</span> Suites arithmético-géométriques <span class="symbole-important">*</span></h3>
             <p>Soient $a$ et $b$ deux réels, $\left(u_{n}\right)_{n \geq 0}$ une suite telle que :</p>
            $$
            \forall n \in \mathbb{N}, \quad u_{n+1}=a u_{n}+b
            $$
            <p>On se propose de calculer $u_{n}$ en fonction de $n$ et $u_{0}$.</p>
            <p>a) Traiter le cas $a=1$.</p>
            <p>On suppose désormais $a \neq 1$.</p>
            <p>b) Résoudre l'équation $x=a x+b$. On note $\ell$ la solution. Dans la question suivante, il est inutile (voire toxique) de remplacer $\ell$ par sa valeur ; seule est utile l'équation $\ell=a \ell+b$.</p>
            <p>c) On pose, pour $n$ dans $\mathbb{N}$ : $v_{n}=u_{n}-\ell$. Montrer que $\left(v_{n}\right)_{n \geq 0}$ est une suite géométrique. Conclure.</p>
            <p>d) À quelles conditions portant sur $a$ et $u_{0}$ la suite $\left(u_{n}\right)_{n \geq 0}$ est-elle convergente ?</p>
            <button class="solution-toggle" onclick="toggleSolution('sol3')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol3">
                <p><strong>Solution :</strong></p>
                <p>a) Si $a=1$, $u_{n+1} = u_n + b$. La suite $(u_n)$ est arithmétique de raison $b$. Donc $u_n = u_0 + nb$.</p>
                <p>b) $x = ax+b \iff x(1-a) = b$. Comme $a \neq 1$, $1-a \neq 0$. L'unique solution est $\ell = \frac{b}{1-a}$. On a bien $\ell = a\ell + b$.</p>
                <p>c) Soit $n \in \mathbb{N}$.</p>
                $$ v_{n+1} = u_{n+1} - \ell $$
                $$ = (a u_n + b) - \ell $$
                $$ = a u_n + (a\ell+b) - a\ell - \ell $$
                $$ = a u_n + \ell - a\ell - \ell \quad (\text{car } b = \ell - a\ell)$$
                $$ = a u_n - a\ell $$
                $$ = a (u_n - \ell) $$
                $$ = a v_n $$
                <p>La suite $(v_n)_{n \geq 0}$ est géométrique de raison $a$. Donc $v_n = v_0 a^n$.</p>
                <p>Comme $v_0 = u_0 - \ell$, on a $v_n = (u_0 - \ell) a^n$.</p>
                <p>Puisque $u_n = v_n + \ell$, on obtient :</p>
                $$ u_n = (u_0 - \ell) a^n + \ell = \left(u_0 - \frac{b}{1-a}\right) a^n + \frac{b}{1-a} $$
                <p>d) La suite $(u_n)$ converge si et seulement si la suite géométrique $(v_n)$ converge vers 0 ou si $u_0 = \ell$ (auquel cas $u_n = \ell$ pour tout $n$).</p>
                <p>La suite $(v_n)$ converge vers 0 si et seulement si $|a| \lt 1$.</p>
                <p>Si $u_0 = \ell = \frac{b}{1-a}$, la suite est constante égale à $\ell$, donc elle converge vers $\ell$.</p>
                <p>Si $a = -1$, $u_n = (u_0-\ell)(-1)^n + \ell$. Elle converge si et seulement si $u_0 = \ell$.</p>
                 <p>Si $|a| > 1$ et $u_0 \neq \ell$, alors $|v_n| = |u_0-\ell| |a|^n \to +\infty$, donc $(u_n)$ diverge.</p>
                <p>Conclusion : $(u_n)$ converge si et seulement si $|a| \lt 1$ (vers $\ell$) ou si $u_0 = \ell$ (vers $\ell$, ce qui inclut le cas $a=-1$ avec $u_0=\ell$).</p>
                <p>Autrement dit: $(u_n)$ converge si et seulement si ($|a| \lt 1$) ou ($a=-1$ et $u_0=\frac{b}{2}$) ou ($a=1$ et $b=0$). (Le dernier cas vient de a)). Si $a=1, b=0$, la suite est constante $u_n=u_0$. Si $a=1, b \neq 0$, $u_n = u_0+nb$ diverge.</p>
                 <p>La condition finale simplifiée (en regroupant $a=1, b=0$ avec $u_0=\ell$) est: $(u_n)$ converge si et seulement si ($|a| \lt 1$) ou ($u_0 = \frac{b}{1-a}$ si $a \neq 1$).</p>
           </div>
        </div>

        <div class="exercise" id="ex4">
            <h3>Exercice 4 <span class="notation">(3)</span></h3>
             <p>La suite réelle $\left(t_{n}\right)_{n \geq 0}$ est définie par $t_{0}=1$ et</p>
            $$
            \forall n \in \mathbb{N}, \quad t_{n+1}=\frac{\sqrt{t_{n}}}{e}
            $$
            <p>En appliquant l'exercice précédent à la suite $\left(\ln \left(t_{n}\right)_{n \geq 0}\right)$, exprimer $t_{n}$ en fonction de $n$ et étudier la convergence de $\left(t_{n}\right)_{n \geq 0}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol4')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol4">
                <p><strong>Solution :</strong></p>
                <p>On montre par récurrence que $t_n > 0$ pour tout $n$. $t_0=1>0$. Si $t_n>0$, $\sqrt{t_n}$ existe et est $>0$, donc $t_{n+1} = \frac{\sqrt{t_n}}{e} > 0$.</p>
                <p>Soit $u_n = \ln(t_n)$. La suite $(u_n)$ est bien définie.</p>
                $$ u_{n+1} = \ln(t_{n+1}) = \ln\left(\frac{\sqrt{t_n}}{e}\right) = \ln(\sqrt{t_n}) - \ln(e) = \frac{1}{2}\ln(t_n) - 1 $$
                $$ u_{n+1} = \frac{1}{2} u_n - 1 $$
                <p>C'est une suite arithmético-géométrique avec $a=1/2$ et $b=-1$. Comme $a \neq 1$, on cherche le point fixe $\ell = \frac{b}{1-a} = \frac{-1}{1-1/2} = \frac{-1}{1/2} = -2$.</p>
                <p>D'après l'exercice 3, $u_n = (u_0 - \ell) a^n + \ell$.</p>
                <p>$u_0 = \ln(t_0) = \ln(1) = 0$.</p>
                <p>Donc $u_n = (0 - (-2)) \left(\frac{1}{2}\right)^n + (-2) = 2 \left(\frac{1}{2}\right)^n - 2 = \frac{2}{2^n} - 2 = 2^{1-n} - 2$.</p>
                <p>On a $u_n = \ln(t_n)$, donc $t_n = e^{u_n}$.</p>
                $$ t_n = e^{2^{1-n} - 2} $$
                <p>Convergence : Quand $n \to +\infty$, $1-n \to -\infty$, donc $2^{1-n} \to 0$.</p>
                <p>Par conséquent, $u_n = 2^{1-n} - 2 \underset{n \to +\infty}{\longrightarrow} -2$.</p>
                <p>Par continuité de la fonction exponentielle, $t_n = e^{u_n} \underset{n \to +\infty}{\longrightarrow} e^{-2}$.</p>
                <p>La suite $(t_n)$ converge vers $e^{-2}$.</p>
            </div>
        </div>

        <div class="exercise" id="ex5">
            <h3>Exercice 5 <span class="notation">(3)</span></h3>
             <p>La suite $\left(x_{n}\right)_{n \geq 0}$ est définie par $x_{0}=1$ et</p>
            $$
            \forall n \in \mathbb{N}, \quad x_{n+1}=x_{0}+x_{1}+\cdots+x_{n}
            $$
            <p>Pour $n \in \mathbb{N}$, exprimer $x_{n}$ en fonction de $n$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol5')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol5">
                 <p><strong>Solution :</strong></p>
                 <p>Calculons les premiers termes :</p>
                 <ul>
                     <li>$x_0 = 1$</li>
                     <li>$x_1 = x_0 = 1$</li>
                     <li>$x_2 = x_0 + x_1 = 1 + 1 = 2$</li>
                     <li>$x_3 = x_0 + x_1 + x_2 = 1 + 1 + 2 = 4$</li>
                     <li>$x_4 = x_0 + x_1 + x_2 + x_3 = 1 + 1 + 2 + 4 = 8$</li>
                     <li>$x_5 = x_0 + x_1 + x_2 + x_3 + x_4 = 1 + 1 + 2 + 4 + 8 = 16$</li>
                 </ul>
                 <p>Il semble que $x_n = 2^{n-1}$ pour $n \geq 1$, et $x_0=1$. Vérifions cela.</p>
                 <p>Notons $S_n = x_0 + \dots + x_n$. Alors $x_{n+1} = S_n$.</p>
                 <p>Pour $n \geq 1$, $x_{n+1} = S_n = S_{n-1} + x_n = x_n + x_n = 2x_n$.</p>
                 <p>La relation $x_{n+1} = 2x_n$ est valable pour $n \geq 1$.</p>
                 <p>La suite $(x_n)_{n \geq 1}$ est donc une suite géométrique de raison 2.</p>
                 <p>Son premier terme est $x_1 = 1$.</p>
                 <p>Donc, pour $n \geq 1$, $x_n = x_1 \cdot 2^{n-1} = 1 \cdot 2^{n-1} = 2^{n-1}$.</p>
                 <p>Pour $n=0$, la formule $2^{0-1} = 2^{-1} = 1/2$ ne fonctionne pas. $x_0=1$.</p>
                 <p>Conclusion : $x_0=1$ et $x_n = 2^{n-1}$ pour $n \in \mathbb{N}^*$.</p>
                 <p>On peut vérifier par récurrence.
                 Soit $\mathcal{P}_n$ l'assertion "$x_n = 2^{n-1}$".
                 Initialisation ($n=1$): $x_1=1$, $2^{1-1}=2^0=1$. $\mathcal{P}_1$ est vraie.
                 Hérédité: Supposons $\mathcal{P}_k$ vraie pour $1 \le k \le n$. Montrons $\mathcal{P}_{n+1}$.
                 $x_{n+1} = x_0 + x_1 + \dots + x_n = 1 + \sum_{k=1}^n x_k = 1 + \sum_{k=1}^n 2^{k-1}$.
                 $\sum_{k=1}^n 2^{k-1} = \sum_{j=0}^{n-1} 2^j = \frac{2^{(n-1)+1}-1}{2-1} = 2^n - 1$.
                 Donc $x_{n+1} = 1 + (2^n - 1) = 2^n = 2^{(n+1)-1}$.
                 L'assertion est vraie pour $n+1$.
                 Donc $x_n = 2^{n-1}$ pour $n \ge 1$.</p>
            </div>
        </div>

        <div class="exercise" id="ex6">
            <h3>Exercice 6 <span class="notation">(4)</span></h3>
             <p>Soit $c \in \mathbb{R}^{+\star}$. Pour $x \in \mathbb{R}$, soit $f(x)=\frac{x}{\sqrt{1+c x^{2}}}$. Calculer $f(f(x)), f(f(f(x)))$ et généraliser.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol6')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol6">
                 <p><strong>Solution :</strong></p>
                 <p>Calculons $f(f(x))$. On note $f^2(x) = f(f(x))$, $f^3(x)=f(f(f(x)))$, etc.</p>
                 $$ f(f(x)) = \frac{f(x)}{\sqrt{1+c (f(x))^2}} $$
                 <p>Le dénominateur est $\sqrt{1+c \left(\frac{x}{\sqrt{1+c x^{2}}}\right)^2} = \sqrt{1 + \frac{c x^2}{1+c x^2}} = \sqrt{\frac{1+c x^2 + c x^2}{1+c x^2}} = \sqrt{\frac{1+2 c x^2}{1+c x^2}}$.</p>
                 $$ f^2(x) = \frac{\frac{x}{\sqrt{1+c x^{2}}}}{\sqrt{\frac{1+2 c x^2}{1+c x^2}}} = \frac{x}{\sqrt{1+c x^{2}}} \times \frac{\sqrt{1+c x^2}}{\sqrt{1+2 c x^2}} = \frac{x}{\sqrt{1+2 c x^2}} $$
                 <p>Calculons $f^3(x) = f(f^2(x))$.</p>
                 $$ f^3(x) = \frac{f^2(x)}{\sqrt{1+c (f^2(x))^2}} = \frac{\frac{x}{\sqrt{1+2 c x^2}}}{\sqrt{1 + c \left(\frac{x}{\sqrt{1+2 c x^2}}\right)^2}} $$
                  <p>Le dénominateur est $\sqrt{1 + \frac{c x^2}{1+2 c x^2}} = \sqrt{\frac{1+2 c x^2 + c x^2}{1+2 c x^2}} = \sqrt{\frac{1+3 c x^2}{1+2 c x^2}}$.</p>
                 $$ f^3(x) = \frac{x}{\sqrt{1+2 c x^{2}}} \times \frac{\sqrt{1+2 c x^2}}{\sqrt{1+3 c x^2}} = \frac{x}{\sqrt{1+3 c x^2}} $$
                 <p>Il semble que $f^n(x) = \frac{x}{\sqrt{1+n c x^2}}$. Montrons-le par récurrence sur $n \ge 1$.</p>
                 <p>Soit $\mathcal{P}_n$ l'assertion $f^n(x) = \frac{x}{\sqrt{1+n c x^2}}$.</p>
                 <p><em>Initialisation ($n=1$) :</em> $f^1(x) = f(x) = \frac{x}{\sqrt{1+1 c x^2}}$. $\mathcal{P}_1$ est vraie.</p>
                 <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \ge 1$ fixé. Montrons $\mathcal{P}_{n+1}$.</p>
                 $$ f^{n+1}(x) = f(f^n(x)) = \frac{f^n(x)}{\sqrt{1+c (f^n(x))^2}} $$
                 <p>En utilisant $\mathcal{P}_n$ :</p>
                 $$ f^{n+1}(x) = \frac{\frac{x}{\sqrt{1+n c x^2}}}{\sqrt{1 + c \left(\frac{x}{\sqrt{1+n c x^2}}\right)^2}} $$
                 <p>Le dénominateur est $\sqrt{1 + \frac{c x^2}{1+n c x^2}} = \sqrt{\frac{1+n c x^2 + c x^2}{1+n c x^2}} = \sqrt{\frac{1+(n+1) c x^2}{1+n c x^2}}$.</p>
                 $$ f^{n+1}(x) = \frac{x}{\sqrt{1+n c x^{2}}} \times \frac{\sqrt{1+n c x^2}}{\sqrt{1+(n+1) c x^2}} = \frac{x}{\sqrt{1+(n+1) c x^2}} $$
                 <p>C'est bien $\mathcal{P}_{n+1}$.</p>
                 <p><em>Conclusion :</em> Par le principe de récurrence, $\forall n \in \mathbb{N}^*, f^n(x) = \frac{x}{\sqrt{1+n c x^2}}$.</p>
            </div>
        </div>
    </section>

    <section id="sec1-3">
        <h3>1.3 Le raisonnement par récurrence (2)</h3>
        <p>On rencontre fréquemment des récurrences un petit peu plus compliquées. Ainsi, l'hérédité peut consister en la preuve du fait que $\mathcal{P}_{n}$ et $\mathcal{P}_{n+1}$ impliquent $\mathcal{P}_{n+2}$ (récurrence d'ordre 2), voire en la preuve du fait que les propriétés $\mathcal{P}_{0}, \ldots, \mathcal{P}_{n}$ impliquent $\mathcal{P}_{n+1}$ ("récurrence forte »). La rédaction doit évidemment être adaptée. Par exemple, dans la première situation ("récurrence à deux termes »), l'initialisation doit comporter la vérification de $\mathcal{P}_{0}$ et $\mathcal{P}_{1}$.</p>

        <div class="example">
            <h4>Exemples</h4>
            <ol>
                <li>
                    <p><strong>Suite de Fibonacci</strong></p>
                    <p>La suite de Fibonacci $\left(F_{n}\right)_{n \geq 0}$ est définie par :</p>
                    $$
                    F_{0}=0, \quad F_{1}=1 ; \quad \forall n \in \mathbb{N}, F_{n+2}=F_{n+1}+F_{n}
                    $$
                    <p>Cette suite, introduite par Fibonacci au treizième siècle, possède de nombreuses propriétés. Nous allons montrer que $F_{n}$ est donné par une formule relativement simple (formule de Binet). Posons</p>
                    $$
                    \alpha=\frac{1+\sqrt{5}}{2}, \quad \beta=\frac{1-\sqrt{5}}{2}
                    $$
                    <p>Nous n'utiliserons pas ces expressions, mais le fait que $\alpha$ et $\beta$ sont racines de l'équation du second degré $x^{2}-x-1=0$, c'est-à-dire $\alpha^2 = \alpha+1$ et $\beta^2=\beta+1$.</p>
                    <p>Pour $n$ dans $\mathbb{N}$, soit $\mathcal{P}_{n}$ la propriété :</p>
                    $$
                    F_{n}=\frac{\alpha^{n}-\beta^{n}}{\sqrt{5}}
                    $$
                    <p>La définition de $\left(F_{n}\right)_{n \geq 0}$ suggère d'établir $\mathcal{P}_{n}$ par une récurrence à deux termes.</p>
                    <p><em>Initialisation.</em> Vérifions $\mathcal{P}_{0}$ et $\mathcal{P}_{1}$.</p>
                    $$
                    \frac{\alpha^{0}-\beta^{0}}{\sqrt{5}} = \frac{1-1}{\sqrt{5}} = 0=F_{0} \quad (\mathcal{P}_0 \text{ vraie})
                    $$
                    $$
                     \frac{\alpha^{1}-\beta^{1}}{\sqrt{5}} = \frac{\frac{1+\sqrt{5}}{2} - \frac{1-\sqrt{5}}{2}}{\sqrt{5}} = \frac{\frac{2\sqrt{5}}{2}}{\sqrt{5}} = \frac{\sqrt{5}}{\sqrt{5}} = 1=F_{1} \quad (\mathcal{P}_1 \text{ vraie})
                    $$
                    <p><em>Hérédité.</em> Soit $n$ dans $\mathbb{N}$ tel que $\mathcal{P}_{n}$ et $\mathcal{P}_{n+1}$ soient vraies. Montrons $\mathcal{P}_{n+2}$.</p>
                    $$
                    F_{n+2}=F_{n+1}+F_{n}
                    $$
                    <p>Par $\mathcal{P}_n$ et $\mathcal{P}_{n+1}$ :</p>
                    $$
                    F_{n+2} = \frac{\alpha^{n+1}-\beta^{n+1}}{\sqrt{5}} + \frac{\alpha^{n}-\beta^{n}}{\sqrt{5}}
                    $$
                    $$
                    F_{n+2}=\frac{1}{\sqrt{5}}\left( (\alpha^{n+1}+\alpha^{n}) - (\beta^{n+1}+\beta^{n}) \right)
                    $$
                    <p>Mais $\alpha^{n+1}+\alpha^{n}=\alpha^{n} (\alpha+1)$. Comme $\alpha^2=\alpha+1$, on a $\alpha^{n+1}+\alpha^{n}=\alpha^n \alpha^2 = \alpha^{n+2}$.</p>
                     <p>De même $\beta^{n+1}+\beta^{n}=\beta^{n}(\beta+1) = \beta^n \beta^2 = \beta^{n+2}$.</p>
                    <p>Finalement :</p>
                    $$
                    F_{n+2}=\frac{\alpha^{n+2}-\beta^{n+2}}{\sqrt{5}}
                    $$
                    <p>La propriété $\mathcal{P}_{n+2}$ est démontrée.</p>
                    <p><em>Conclusion:</em> Par récurrence d'ordre 2, $\mathcal{P}_n$ est vraie pour tout $n \in \mathbb{N}$.</p>
                </li>
                <li>
                    <p><strong>Existence de la décomposition d'un entier en produit de nombres premiers</strong></p>
                    <p>Montrons que tout entier $n \geq 2$ est produit de nombres premiers (un nombre premier est considéré comme un produit d'un seul facteur premier). L'assertion $\mathcal{P}_{n}$ est donc « $n$ est produit de nombres premiers ».</p>
                    <p><em>Initialisation.</em> $n=2$. Puisque 2 est premier, $n=2$ est un produit de nombres premiers. $\mathcal{P}_{2}$ est vraie.</p>
                    <p><em>Hérédité (forte).</em> Soit $n \geq 2$. Supposons $\mathcal{P}_{k}$ vraie pour tout $k$ tel que $2 \le k \le n$. Montrons $\mathcal{P}_{n+1}$ (c'est-à-dire que $n+1$ est produit de nombres premiers).</p>
                    <p>Deux cas se présentent.</p>
                    <ul>
                        <li>Cas 1 : L'entier $n+1$ est premier. Alors il est un produit de nombres premiers (un seul facteur). $\mathcal{P}_{n+1}$ est vraie.</li>
                        <li>Cas 2 : L'entier $n+1$ n'est pas premier (il est composé). Par définition, il existe des diviseurs $a, b$ de $n+1$ tels que $n+1 = ab$ avec $1 \lt a \lt n+1$ et $1 \lt b \lt n+1$. On a donc $2 \le a \le n$ et $2 \le b \le n$. Par hypothèse de récurrence forte, $\mathcal{P}_a$ et $\mathcal{P}_b$ sont vraies : $a$ et $b$ sont des produits de nombres premiers. Alors leur produit $ab=n+1$ est aussi un produit de nombres premiers. $\mathcal{P}_{n+1}$ est vraie.</li>
                    </ul>
                    <p>Dans tous les cas, $\mathcal{P}_{n+1}$ est établie.</p>
                    <p><em>Conclusion:</em> Par le principe de récurrence forte, $\mathcal{P}_n$ est vraie pour tout entier $n \ge 2$.</p>
                    <div class="remarque">
                       <p><strong>Remarque : Unicité de la décomposition en facteurs premiers</strong></p>
                        <p>Il est beaucoup moins facile d'établir, qu'à l'ordre des facteurs près, il n'y a qu'une décomposition d'un entier $n \geq 2$ en produit de facteurs premiers ; on trouvera la démonstration en (<a href="#sec12-6">12.6</a>).</p>
                    </div>
                </li>
            </ol>
        </div>

        <div class="exercise" id="ex7">
             <h3>Exercice 7 <span class="notation">(1)</span></h3>
             <p>Soit $\left(u_{n}\right)_{n \geq 0}$ la suite définie par :</p>
            $$
            u_{0}=2, \quad u_{1}=5 \quad \text { et } \quad \forall n \in \mathbb{N}, \quad u_{n+2}=5 u_{n+1}-6 u_{n}
            $$
            <p>Montrer que $\forall n \in \mathbb{N}, \quad u_{n}=2^{n}+3^{n}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol7')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol7">
                <p><strong>Solution :</strong></p>
                <p>On procède par récurrence d'ordre 2. Soit $\mathcal{P}_n$ l'assertion $u_n = 2^n + 3^n$.</p>
                <p><em>Initialisation :</em></p>
                <ul>
                    <li>Pour $n=0$: $u_0 = 2$. $2^0 + 3^0 = 1+1=2$. $\mathcal{P}_0$ est vraie.</li>
                    <li>Pour $n=1$: $u_1 = 5$. $2^1 + 3^1 = 2+3=5$. $\mathcal{P}_1$ est vraie.</li>
                </ul>
                 <p><em>Hérédité :</em> Soit $n \in \mathbb{N}$ tel que $\mathcal{P}_n$ et $\mathcal{P}_{n+1}$ soient vraies. Montrons $\mathcal{P}_{n+2}$.</p>
                 <p>Par définition de la suite : $u_{n+2} = 5 u_{n+1} - 6 u_n$.</p>
                 <p>En utilisant $\mathcal{P}_n$ ($u_n = 2^n + 3^n$) et $\mathcal{P}_{n+1}$ ($u_{n+1} = 2^{n+1} + 3^{n+1}$):</p>
                 $$
                 u_{n+2} = 5 (2^{n+1} + 3^{n+1}) - 6 (2^n + 3^n)
                 $$
                 $$
                 = 5 \cdot 2^{n+1} + 5 \cdot 3^{n+1} - 6 \cdot 2^n - 6 \cdot 3^n
                 $$
                 $$
                 = (5 \cdot 2 - 6) 2^n + (5 \cdot 3 - 6) 3^n
                 $$
                 $$
                 = (10 - 6) 2^n + (15 - 6) 3^n
                 $$
                 $$
                 = 4 \cdot 2^n + 9 \cdot 3^n
                 $$
                 $$
                 = 2^2 \cdot 2^n + 3^2 \cdot 3^n
                 $$
                 $$
                 = 2^{n+2} + 3^{n+2}
                 $$
                 <p>Ceci est exactement $\mathcal{P}_{n+2}$.</p>
                 <p><em>Conclusion :</em> Par le principe de récurrence d'ordre 2, $\mathcal{P}_n$ est vraie pour tout $n \in \mathbb{N}$.</p>
             </div>
        </div>

        <div class="exercise" id="ex8">
             <h3>Exercice 8 <span class="notation">(2)</span></h3>
             <p>La suite $\left(u_{n}\right)_{n \in \mathbb{N}}$ est définie par :</p>
            $$
            u_{0}=1, \quad u_{1}=2 \quad \text { et } \quad \forall n \in \mathbb{N}^{*}, \quad u_{n+1}=\frac{u_{n}^{2}}{u_{n-1}}
            $$
            <p>« Deviner » une formule donnant $u_{n}$ en fonction de $n$, puis la démontrer par récurrence.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol8')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol8">
                 <p><strong>Solution :</strong></p>
                 <p>Calculons les premiers termes :</p>
                 <ul>
                     <li>$u_0 = 1$</li>
                     <li>$u_1 = 2$</li>
                     <li>$u_2 = \frac{u_1^2}{u_0} = \frac{2^2}{1} = 4$</li>
                     <li>$u_3 = \frac{u_2^2}{u_1} = \frac{4^2}{2} = \frac{16}{2} = 8$</li>
                     <li>$u_4 = \frac{u_3^2}{u_2} = \frac{8^2}{4} = \frac{64}{4} = 16$</li>
                 </ul>
                 <p>Il semble que $u_n = 2^n$. Vérifions cette conjecture par récurrence d'ordre 2.</p>
                 <p>Soit $\mathcal{P}_n$ l'assertion $u_n = 2^n$.</p>
                 <p><em>Initialisation :</em></p>
                 <ul>
                     <li>Pour $n=0$: $u_0 = 1$. $2^0 = 1$. $\mathcal{P}_0$ est vraie.</li>
                     <li>Pour $n=1$: $u_1 = 2$. $2^1 = 2$. $\mathcal{P}_1$ est vraie.</li>
                 </ul>
                 <p><em>Hérédité :</em> Soit $n \in \mathbb{N}^*$ tel que $\mathcal{P}_{n-1}$ et $\mathcal{P}_n$ soient vraies (c'est-à-dire $u_{n-1} = 2^{n-1}$ et $u_n = 2^n$). Montrons $\mathcal{P}_{n+1}$.</p>
                 <p>Par définition de la suite : $u_{n+1} = \frac{u_n^2}{u_{n-1}}$.</p>
                 <p>En utilisant l'hypothèse de récurrence :</p>
                 $$
                 u_{n+1} = \frac{(2^n)^2}{2^{n-1}} = \frac{2^{2n}}{2^{n-1}} = 2^{2n - (n-1)} = 2^{2n - n + 1} = 2^{n+1}
                 $$
                 <p>Ceci est exactement $\mathcal{P}_{n+1}$.</p>
                 <p><em>Conclusion :</em> Par le principe de récurrence d'ordre 2, $\mathcal{P}_n$ est vraie pour tout $n \in \mathbb{N}$. Donc $u_n = 2^n$.</p>
             </div>
        </div>

        <div class="exercise" id="ex9">
            <h3>Exercice 9 <span class="notation">(3)</span></h3>
             <p>Soit $\left(u_{n}\right)_{n \geq 0}$ la suite définie par :</p>
            $$
            u_{0}=0 ; \quad \forall n \in \mathbb{N}, \quad u_{n+1}+u_{n}=n
            $$
            <p>Exprimer $u_{n}$ en fonction de $n$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol9')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol9">
                <p><strong>Solution :</strong></p>
                <p>Calculons les premiers termes :</p>
                <ul>
                    <li>$u_0 = 0$</li>
                    <li>$u_1 = 0 - u_0 = 0 - 0 = 0$</li>
                    <li>$u_2 = 1 - u_1 = 1 - 0 = 1$</li>
                    <li>$u_3 = 2 - u_2 = 2 - 1 = 1$</li>
                    <li>$u_4 = 3 - u_3 = 3 - 1 = 2$</li>
                    <li>$u_5 = 4 - u_4 = 4 - 2 = 2$</li>
                    <li>$u_6 = 5 - u_5 = 5 - 2 = 3$</li>
                </ul>
                <p>Il semble que $u_{2k} = k$ et $u_{2k+1} = k$. On peut écrire $u_n = \lfloor n/2 \rfloor$. Vérifions par récurrence.</p>
                <p>Soit $\mathcal{P}_n$ l'assertion $u_n = \lfloor n/2 \rfloor$.</p>
                <p><em>Initialisation ($n=0$) :</em> $u_0 = 0$. $\lfloor 0/2 \rfloor = 0$. $\mathcal{P}_0$ est vraie.</p>
                <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \in \mathbb{N}$ fixé. Montrons $\mathcal{P}_{n+1}$.</p>
                <p>$u_{n+1} = n - u_n = n - \lfloor n/2 \rfloor$. Il faut montrer que $n - \lfloor n/2 \rfloor = \lfloor (n+1)/2 \rfloor$.</p>
                <ul>
                    <li>Si $n=2k$ (pair) : $u_{n+1} = u_{2k+1}$. On veut montrer $u_{2k+1} = \lfloor (2k+1)/2 \rfloor = k$.
                    L'hypothèse $\mathcal{P}_n$ donne $u_n = u_{2k} = \lfloor 2k/2 \rfloor = k$.
                    $u_{n+1} = n - u_n = 2k - k = k$. C'est correct.</li>
                    <li>Si $n=2k+1$ (impair) : $u_{n+1} = u_{2k+2}$. On veut montrer $u_{2k+2} = \lfloor (2k+2)/2 \rfloor = k+1$.
                    L'hypothèse $\mathcal{P}_n$ donne $u_n = u_{2k+1} = \lfloor (2k+1)/2 \rfloor = k$.
                    $u_{n+1} = n - u_n = (2k+1) - k = k+1$. C'est correct.</li>
                </ul>
                 <p>Dans les deux cas, si $\mathcal{P}_n$ est vraie, alors $\mathcal{P}_{n+1}$ l'est aussi.</p>
                 <p><em>Conclusion :</em> Par le principe de récurrence, $u_n = \lfloor n/2 \rfloor$ pour tout $n \in \mathbb{N}$.</p>
            </div>
        </div>

        <div class="exercise" id="ex10">
            <h3>Exercice 10 <span class="notation">(3)</span></h3>
             <p>La suite $\left(F_{n}\right)_{n \geq 0}$ est celle de l'exemple 1. Pour $n$ dans $\mathbb{N}$, on pose :</p>
            $$
            \Delta_{n}=F_{n} F_{n+2}-F_{n+1}^{2}
            $$
            <p>a) Calculer $\Delta_{n}$ pour quelques valeurs de $n$. Deviner une formule donnant $\Delta_{n}$ et démontrer cette formule par récurrence.</p>
            <p>b) Calculer directement $\Delta_{n}$ à partir de la formule obtenue dans l'exemple 1. Pour faciliter les calculs, mieux vaut ne pas remplacer tout de suite $\alpha$ et $\beta$ par leurs expressions.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol10')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol10">
                <p><strong>Solution :</strong></p>
                <p>a) Calculons les premières valeurs de $F_n$: $F_0=0, F_1=1, F_2=1, F_3=2, F_4=3, F_5=5, F_6=8$.</p>
                <ul>
                    <li>$\Delta_0 = F_0 F_2 - F_1^2 = 0 \cdot 1 - 1^2 = -1$</li>
                    <li>$\Delta_1 = F_1 F_3 - F_2^2 = 1 \cdot 2 - 1^2 = 1$</li>
                    <li>$\Delta_2 = F_2 F_4 - F_3^2 = 1 \cdot 3 - 2^2 = 3 - 4 = -1$</li>
                    <li>$\Delta_3 = F_3 F_5 - F_4^2 = 2 \cdot 5 - 3^2 = 10 - 9 = 1$</li>
                    <li>$\Delta_4 = F_4 F_6 - F_5^2 = 3 \cdot 8 - 5^2 = 24 - 25 = -1$</li>
                </ul>
                <p>Il semble que $\Delta_n = (-1)^{n+1}$. Montrons-le par récurrence.</p>
                <p>Soit $\mathcal{P}_n$ l'assertion $\Delta_n = (-1)^{n+1}$.</p>
                <p><em>Initialisation ($n=0$) :</em> $\Delta_0 = -1$ et $(-1)^{0+1} = -1$. $\mathcal{P}_0$ est vraie.</p>
                <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \in \mathbb{N}$ fixé. Montrons $\mathcal{P}_{n+1}$.</p>
                $$
                \Delta_{n+1} = F_{n+1} F_{n+3} - F_{n+2}^2
                $$
                <p>Utilisons $F_{n+3} = F_{n+2} + F_{n+1}$ et $F_{n+2} = F_{n+1} + F_n$.</p>
                $$
                \Delta_{n+1} = F_{n+1} (F_{n+2} + F_{n+1}) - F_{n+2}^2
                = F_{n+1} F_{n+2} + F_{n+1}^2 - F_{n+2}^2
                $$
                $$
                = F_{n+2} (F_{n+1} - F_{n+2}) + F_{n+1}^2
                = F_{n+2} (-F_n) + F_{n+1}^2 \quad (\text{car } F_{n+1}-F_{n+2} = F_{n+1}-(F_{n+1}+F_n) = -F_n)
                $$
                $$
                = - F_n F_{n+2} + F_{n+1}^2
                = - (F_n F_{n+2} - F_{n+1}^2)
                = - \Delta_n
                $$
                <p>Par hypothèse de récurrence, $\Delta_n = (-1)^{n+1}$. Donc $\Delta_{n+1} = - (-1)^{n+1} = (-1)^1 (-1)^{n+1} = (-1)^{n+2}$.</p>
                <p>Ceci est bien $\mathcal{P}_{n+1}$.</p>
                <p><em>Conclusion :</em> Par le principe de récurrence, $\Delta_n = (-1)^{n+1}$ pour tout $n \in \mathbb{N}$. (Cette identité est connue sous le nom d'identité de Cassini).</p>

                <p>b) Utilisons $F_n = \frac{\alpha^n - \beta^n}{\sqrt{5}}$. Rappelons que $\alpha\beta = -1$ et $\alpha-\beta=\sqrt{5}$.</p>
                $$
                \Delta_n = \left(\frac{\alpha^n - \beta^n}{\sqrt{5}}\right) \left(\frac{\alpha^{n+2} - \beta^{n+2}}{\sqrt{5}}\right) - \left(\frac{\alpha^{n+1} - \beta^{n+1}}{\sqrt{5}}\right)^2
                $$
                $$
                5 \Delta_n = (\alpha^n - \beta^n)(\alpha^{n+2} - \beta^{n+2}) - (\alpha^{n+1} - \beta^{n+1})^2
                $$
                $$
                = (\alpha^{2n+2} - \alpha^n \beta^{n+2} - \beta^n \alpha^{n+2} + \beta^{2n+2}) - (\alpha^{2n+2} - 2 \alpha^{n+1} \beta^{n+1} + \beta^{2n+2})
                $$
                $$
                = - \alpha^n \beta^{n+2} - \beta^n \alpha^{n+2} + 2 \alpha^{n+1} \beta^{n+1}
                $$
                <p>Factorisons par $\alpha^n \beta^n = (\alpha\beta)^n = (-1)^n$.</p>
                $$
                = - \alpha^n \beta^n \beta^2 - \beta^n \alpha^n \alpha^2 + 2 \alpha^n \beta^n \alpha \beta
                $$
                 $$
                = - (-1)^n \beta^2 - (-1)^n \alpha^2 + 2 (-1)^n (\alpha\beta)
                 $$
                $$
                = (-1)^n ( - \beta^2 - \alpha^2 + 2 (-1) )
                = (-1)^n ( -(\alpha^2 + \beta^2) - 2 )
                $$
                <p>On sait que $\alpha+\beta = 1$. Donc $(\alpha+\beta)^2 = 1^2 = 1$, c'est-à-dire $\alpha^2 + \beta^2 + 2\alpha\beta = 1$.</p>
                <p>Comme $\alpha\beta = -1$, on a $\alpha^2 + \beta^2 + 2(-1) = 1$, donc $\alpha^2 + \beta^2 = 3$.</p>
                <p>Reprenons le calcul :</p>
                $$
                5 \Delta_n = (-1)^n ( - 3 - 2 ) = (-1)^n (-5) = -5 (-1)^n = 5 (-1)^{n+1}
                $$
                <p>En divisant par 5, on obtient $\Delta_n = (-1)^{n+1}$.</p>
            </div>
        </div>

        <div class="complement" id="complement-rec-lin">
            <p>Dans les deux exercices suivants, on donne une méthode générale pour expliciter les suites vérifiant une récurrence du type Fibonacci. Cette étude est complétée dans l'exercice 435 de <a href="#sec11-4">11.4</a>.</p>
        </div>

        <div class="exercise" id="ex11">
             <h3>Exercice 11 <span class="notation">(4)</span> Suites récurrentes linéaires homogènes d'ordre 2 <span class="symbole-important">*</span></h3>
             <p>Soient $a$ et $b$ deux nombres réels. On suppose que l'équation caractéristique $x^{2}=a x+b$ (ou $x^2-ax-b=0$) admet deux racines réelles distinctes $\lambda$ et $\mu$. On se propose de déterminer l'ensemble $\mathcal{E}$ des suites réelles $\left(u_{n}\right)_{n \geq 0}$ telles que</p>
            $$
            \forall n \in \mathbb{N}, \quad u_{n+2}=a u_{n+1}+b u_{n} \quad (*)
            $$
            <p>a) Montrer que, pour $\alpha$ et $\beta$ dans $\mathbb{R}$, la suite $\left(w_{n}\right)_{n \ge 0}$ définie par $w_n = \alpha \lambda^{n}+\beta \mu^{n}$ appartient à $\mathcal{E}$.</p>
            <p>b) Soit $\left(u_{n}\right)_{n \geq 0}$ un élément de $\mathcal{E}$. Vérifier qu'il existe un unique couple de nombres réels $(\alpha, \beta)$ tels que</p>
            $$
            \begin{cases} \alpha+\beta = u_{0} \\ \alpha \lambda+\beta \mu = u_{1} \end{cases} \quad (S)
            $$
            <p>c) Avec les notations de b), montrer que $u_{n}=\alpha \lambda^{n}+\beta \mu^{n}$ pour tout $n \in \mathbb{N}$. (On pourra considérer la suite $w_n = \alpha \lambda^n + \beta \mu^n$ et montrer que $u_n=w_n$).</p>
            <p>d) Retrouver le résultat de l'exercice 7.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol11')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol11">
                 <p><strong>Solution :</strong></p>
                 <p>a) Soit $w_n = \alpha \lambda^n + \beta \mu^n$. Comme $\lambda$ et $\mu$ sont racines de $x^2 = ax+b$, on a $\lambda^2 = a\lambda + b$ et $\mu^2 = a\mu + b$.</p>
                 <p>Pour $n \in \mathbb{N}$ :</p>
                 $$ a w_{n+1} + b w_n = a(\alpha \lambda^{n+1} + \beta \mu^{n+1}) + b(\alpha \lambda^n + \beta \mu^n) $$
                 $$ = \alpha (a \lambda^{n+1} + b \lambda^n) + \beta (a \mu^{n+1} + b \mu^n) $$
                 $$ = \alpha \lambda^n (a\lambda + b) + \beta \mu^n (a\mu + b) $$
                 $$ = \alpha \lambda^n (\lambda^2) + \beta \mu^n (\mu^2) $$
                 $$ = \alpha \lambda^{n+2} + \beta \mu^{n+2} = w_{n+2} $$
                 <p>Donc $(w_n)$ vérifie la relation de récurrence $(*)$ et appartient à $\mathcal{E}$.</p>
                 <p>b) Le système $(S)$ est un système linéaire $2 \times 2$ d'inconnues $\alpha, \beta$. Son déterminant est $\det \begin{pmatrix} 1 & 1 \\ \lambda & \mu \end{pmatrix} = 1 \cdot \mu - 1 \cdot \lambda = \mu - \lambda$.</p>
                 <p>Comme les racines $\lambda$ et $\mu$ sont distinctes, $\mu - \lambda \neq 0$. Le déterminant est non nul.</p>
                 <p>Par conséquent, le système $(S)$ admet une unique solution $(\alpha, \beta)$ pour tout couple $(u_0, u_1)$.</p>
                 <p>c) Soit $(u_n)$ un élément de $\mathcal{E}$. Soit $(\alpha, \beta)$ l'unique solution du système $(S)$ trouvée en b). Considérons la suite $w_n = \alpha \lambda^n + \beta \mu^n$. D'après a), $(w_n) \in \mathcal{E}$.</p>
                 <p>De plus, par construction de $\alpha, \beta$ :</p>
                 <ul>
                     <li>$w_0 = \alpha \lambda^0 + \beta \mu^0 = \alpha + \beta = u_0$</li>
                     <li>$w_1 = \alpha \lambda^1 + \beta \mu^1 = \alpha \lambda + \beta \mu = u_1$</li>
                 </ul>
                 <p>Les suites $(u_n)$ et $(w_n)$ coïncident pour $n=0$ et $n=1$, et elles vérifient la même relation de récurrence linéaire d'ordre 2 : $u_{n+2} = a u_{n+1} + b u_n$ et $w_{n+2} = a w_{n+1} + b w_n$.</p>
                 <p>Montrons par récurrence d'ordre 2 que $u_n = w_n$ pour tout $n \in \mathbb{N}$.</p>
                 <p><em>Initialisation :</em> $u_0=w_0$ et $u_1=w_1$ sont vraies par construction.</p>
                 <p><em>Hérédité :</em> Supposons $u_k=w_k$ pour $k=n$ et $k=n+1$ (avec $n \ge 0$). Alors :</p>
                 $$ u_{n+2} = a u_{n+1} + b u_n = a w_{n+1} + b w_n = w_{n+2} $$
                 <p>Donc l'égalité est vraie au rang $n+2$.</p>
                 <p><em>Conclusion :</em> $u_n = w_n$ pour tout $n \in \mathbb{N}$. Donc $u_n = \alpha \lambda^n + \beta \mu^n$.</p>
                 <p>L'ensemble $\mathcal{E}$ est l'ensemble des suites de la forme $n \mapsto \alpha \lambda^n + \beta \mu^n$ avec $(\alpha, \beta) \in \mathbb{R}^2$.</p>
                 <p>d) Pour l'exercice 7, la relation est $u_{n+2} = 5 u_{n+1} - 6 u_n$. L'équation caractéristique est $x^2 = 5x - 6$, soit $x^2 - 5x + 6 = 0$.</p>
                 <p>Le discriminant est $\Delta = (-5)^2 - 4(1)(6) = 25 - 24 = 1 > 0$.</p>
                 <p>Les racines sont $\lambda = \frac{5 - \sqrt{1}}{2} = 2$ et $\mu = \frac{5 + \sqrt{1}}{2} = 3$.</p>
                 <p>La forme générale des suites vérifiant la récurrence est $u_n = \alpha 2^n + \beta 3^n$.</p>
                 <p>On utilise les conditions initiales $u_0=2, u_1=5$ pour trouver $\alpha, \beta$.</p>
                 $$ \begin{cases} u_0 = \alpha 2^0 + \beta 3^0 = \alpha + \beta = 2 \\ u_1 = \alpha 2^1 + \beta 3^1 = 2\alpha + 3\beta = 5 \end{cases} $$
                 <p>De la première équation, $\beta = 2 - \alpha$. On substitue dans la seconde :</p>
                 <p>$2\alpha + 3(2-\alpha) = 5 \implies 2\alpha + 6 - 3\alpha = 5 \implies -\alpha = -1 \implies \alpha = 1$.</p>
                 <p>Alors $\beta = 2 - \alpha = 2 - 1 = 1$.</p>
                 <p>Donc $\alpha=1, \beta=1$. La formule est $u_n = 1 \cdot 2^n + 1 \cdot 3^n = 2^n + 3^n$. C'est bien le résultat de l'exercice 7.</p>
             </div>
        </div>

        <div class="exercise" id="ex12">
             <h3>Exercice 12 <span class="notation">(3)</span> Suites récurrentes linéaires homogènes d'ordre 2, suite</h3>
             <p>Soient $a$ et $b$ deux nombres réels. On suppose que l'équation caractéristique $x^{2}=a x+b$ admet une unique racine réelle $\lambda$. On se propose de déterminer l'ensemble $\mathcal{E}$ des suites réelles $\left(u_{n}\right)_{n \geq 0}$ telles que</p>
            $$
            \forall n \in \mathbb{N}, \quad u_{n+2}=a u_{n+1}+b u_{n} \quad (*)
            $$
            <p>a) Montrer que, pour $\alpha$ et $\beta$ dans $\mathbb{R}$, la suite $\left(w_{n}\right)_{n \ge 0}$ définie par $w_n = (\alpha + \beta n) \lambda^{n}$ appartient $\dot{\alpha} \mathcal{E}$. (On rappelle que si $\lambda$ est racine double, alors $\lambda = a/2$ et $a^2+4b=0$).</p>
            <p>b) En reprenant la méthode de l'exercice précédent, montrer que, si la suite $\left(u_{n}\right)_{n \geq 0}$ est un élément de $\mathcal{E}$, il existe un unique couple de nombres réels $(\alpha, \beta)$ tels que</p>
            $$
            \forall n \in \mathbb{N}, \quad u_{n}=(\alpha + \beta n) \lambda^{n}
            $$
            <button class="solution-toggle" onclick="toggleSolution('sol12')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol12">
                <p><strong>Solution :</strong></p>
                 <p>a) L'équation $x^2 - ax - b = 0$ a une racine double $\lambda$. Cela signifie que le discriminant $\Delta = (-a)^2 - 4(1)(-b) = a^2 + 4b$ est nul, et que la racine est $\lambda = \frac{-(-a)}{2(1)} = \frac{a}{2}$. Donc $a=2\lambda$ et $a^2+4b=0 \implies (2\lambda)^2 + 4b = 0 \implies 4\lambda^2+4b=0 \implies b=-\lambda^2$.</p>
                 <p>La relation de récurrence est $u_{n+2} = 2\lambda u_{n+1} - \lambda^2 u_n$.</p>
                 <p>Soit $w_n = (\alpha + \beta n) \lambda^n$. On doit vérifier si $w_{n+2} = 2\lambda w_{n+1} - \lambda^2 w_n$.</p>
                 <p>Calculons le membre de droite :</p>
                 $$ 2\lambda w_{n+1} - \lambda^2 w_n = 2\lambda (\alpha + \beta(n+1)) \lambda^{n+1} - \lambda^2 (\alpha + \beta n) \lambda^n $$
                 $$ = 2 (\alpha + \beta(n+1)) \lambda^{n+2} - (\alpha + \beta n) \lambda^{n+2} $$
                 $$ = \lambda^{n+2} [ 2(\alpha + \beta n + \beta) - (\alpha + \beta n) ] $$
                 $$ = \lambda^{n+2} [ 2\alpha + 2\beta n + 2\beta - \alpha - \beta n ] $$
                 $$ = \lambda^{n+2} [ \alpha + \beta n + 2\beta ] $$
                 $$ = \lambda^{n+2} [ \alpha + \beta (n+2) ] $$
                 $$ = w_{n+2} $$
                 <p>Donc la suite $(w_n)$ appartient à $\mathcal{E}$.</p>
                 <p>b) Soit $(u_n)$ un élément de $\mathcal{E}$. On cherche $(\alpha, \beta)$ tels que $u_n = (\alpha + \beta n) \lambda^n$ pour tout $n$. En particulier, pour $n=0$ et $n=1$ :</p>
                 $$ \begin{cases} u_0 = (\alpha + \beta \cdot 0) \lambda^0 = \alpha \\ u_1 = (\alpha + \beta \cdot 1) \lambda^1 = (\alpha + \beta) \lambda \end{cases} $$
                 <p>De la première équation, on tire $\alpha = u_0$.</p>
                 <p>De la seconde, si $\lambda \neq 0$, $\alpha + \beta = u_1 / \lambda$, donc $\beta = u_1 / \lambda - \alpha = u_1 / \lambda - u_0$.</p>
                 <p>Si $\lambda = 0$, alors $a=2\lambda=0$ et $b=-\lambda^2=0$. La récurrence est $u_{n+2}=0$ pour tout $n$. Alors $u_2=0, u_3=0, \dots$. La suite est $u_0, u_1, 0, 0, \dots$. La forme $(\alpha + \beta n) \lambda^n = (\alpha + \beta n) 0^n$ n'est définie que pour $n \ge 1$ si $\beta \neq 0$ (car $0^0=1$). Si $\lambda=0$, on a $u_0=\alpha$ et $u_1=0$. La formule $(\alpha+\beta n)0^n$ donne $u_0=\alpha$ et $u_n=0$ pour $n \ge 1$. Ceci correspond bien à la suite trouvée $(u_0, 0, 0, \dots)$ si on prend $\beta$ quelconque et $\alpha=u_0$. Pour avoir unicité, on peut poser $(\alpha, \beta)=(u_0, 0)$ si $u_1=0$. Si $u_1 \neq 0$, la forme ne marche pas. Regardons le système : $\alpha = u_0$. $u_1 = (\alpha+\beta)\lambda = (\alpha+\beta)0 = 0$. Donc, si $\lambda=0$, la forme $(\alpha+\beta n)\lambda^n$ n'est possible que si $u_1=0$. Dans ce cas, $u_n=0$ pour $n \ge 1$. La formule $u_n = (u_0 + \beta n) 0^n$ (avec $0^0=1$) donne $u_0=u_0$ et $u_n=0$ pour $n \ge 1$, ce qui est correct. Il n'y a pas unicité de $\beta$. Cependant, le cas $\lambda=0$ est très particulier ($u_{n+2}=0$).</p>
                 <p>Supposons $\lambda \neq 0$. Le système $\alpha=u_0, (\alpha+\beta)\lambda = u_1$ a une unique solution $(\alpha, \beta) = (u_0, u_1/\lambda - u_0)$.</p>
                 <p>Considérons la suite $w_n = (\alpha + \beta n) \lambda^n$ avec cet unique couple $(\alpha, \beta)$. D'après a), $(w_n) \in \mathcal{E}$.</p>
                 <p>Par construction, $w_0 = \alpha = u_0$ et $w_1 = (\alpha+\beta)\lambda = u_1$.</p>
                 <p>Comme en c) de l'exercice 11, les suites $(u_n)$ et $(w_n)$ coïncident pour $n=0, 1$ et vérifient la même récurrence linéaire d'ordre 2. Elles sont donc égales pour tout $n$.</p>
                  <p>Conclusion (si $\lambda \neq 0$) : L'ensemble $\mathcal{E}$ est l'ensemble des suites de la forme $n \mapsto (\alpha + \beta n) \lambda^{n}$ avec $(\alpha, \beta) \in \mathbb{R}^2$.</p>
                 <p>(Si $\lambda=0$, $\mathcal{E}$ est l'ensemble des suites $(u_0, u_1, 0, 0, \dots)$.)</p>
             </div>
        </div>

        <div class="complement" id="complement-preuve-7-3">
            <p>L'exercice suivant sera utilisé en <a href="#sec7-3">7.3</a>.</p>
        </div>

        <div class="exercise" id="ex13">
             <h3>Exercice 13 <span class="notation">(3)</span></h3>
             <p>Soit $A$ une partie de $\mathbb{N}^{*}$ contenant 1 et telle que :</p>
            <ul>
                <li>(i) $\forall n \in A, \quad 2 n \in A$</li>
                <li>(ii) $\forall n \in \mathbb{N}^{*}, \quad n+1 \in A \Rightarrow n \in A$.</li>
            </ul>
            <p>a) Montrer que $\forall m \in \mathbb{N}, \quad 2^{m} \in A$.</p>
            <p>b) Montrer que $A=\mathbb{N}^{*}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol13')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol13">
                 <p><strong>Solution :</strong></p>
                 <p>a) On procède par récurrence sur $m$. Soit $\mathcal{P}_m$ l'assertion "$2^m \in A$".</p>
                 <p><em>Initialisation ($m=0$) :</em> $2^0 = 1$. On sait que $1 \in A$. $\mathcal{P}_0$ est vraie.</p>
                 <p><em>Hérédité :</em> Supposons $\mathcal{P}_m$ vraie pour un $m \in \mathbb{N}$ fixé, i.e., $2^m \in A$. Par la propriété (i) appliquée à $n=2^m$, on a $2 \times (2^m) \in A$, c'est-à-dire $2^{m+1} \in A$. Donc $\mathcal{P}_{m+1}$ est vraie.</p>
                 <p><em>Conclusion :</em> Par le principe de récurrence, $2^m \in A$ pour tout $m \in \mathbb{N}$.</p>

                 <p>b) Soit $x \in \mathbb{N}^*$. On veut montrer que $x \in A$.</p>
                 <p>Choisissons $m \in \mathbb{N}$ tel que $2^m \ge x$. L'existence d'un tel $m$ est assurée (par exemple, $m=x$ convient car $2^x \ge x$ pour $x \ge 1$).</p>
                 <p>D'après a), on sait que $2^m \in A$.</p>
                 <p>Maintenant, appliquons la propriété (ii) de manière répétée.</p>
                 <p>Puisque $2^m \in A$, et $2^m - 1 \in \mathbb{N}^*$ (car $m \ge 0$, $2^m \ge 1$; si $2^m=1$, $m=0$, $x=1$, $1 \in A$. Supposons $m \ge 1$), la propriété (ii) avec $n = 2^m - 1$ donne : $(2^m-1)+1 \in A \implies 2^m-1 \in A$. Donc $2^m-1 \in A$.</p>
                 <p>Ensuite, on applique (ii) avec $n = 2^m - 2$. Puisque $2^m-1 \in A$, on a $(2^m-2)+1 \in A$, donc $2^m-2 \in A$.</p>
                 <p>On continue ainsi $2^m - x$ fois. On montre par une récurrence descendante (finie) que pour tout $k \in \{0, 1, \dots, 2^m - x \}$, $2^m - k \in A$.</p>
                 <p>Plus formellement : Soit $\mathcal{Q}_k$ l'assertion "$2^m - k \in A$". On sait $\mathcal{Q}_0$ est vraie ($2^m \in A$). Si $\mathcal{Q}_k$ est vraie pour $k < 2^m-x$, alors $2^m-k \in A$. Comme $2^m-k-1 = n$ vérifie $n+1 = 2^m-k \in A$, par (ii), $n = 2^m-k-1 \in A$. C'est $\mathcal{Q}_{k+1}$.</p>
                 <p>Par cette récurrence finie, on obtient que $\mathcal{Q}_{2^m-x}$ est vraie, c'est-à-dire $2^m - (2^m-x) \in A$.</p>
                 <p>Donc $x \in A$.</p>
                 <p>Comme $x$ était un élément quelconque de $\mathbb{N}^*$, on a $\mathbb{N}^* \subseteq A$. Puisque $A$ est une partie de $\mathbb{N}^*$, on a $A = \mathbb{N}^*$.</p>
             </div>
        </div>

        <div class="exercise" id="ex14">
             <h3>Exercice 14 <span class="notation">(3)</span> Fractions égyptiennes</h3>
             <p>On se propose de montrer que tout rationnel de $] 0,1[$ s'écrit comme somme d'inverses d'entiers naturels deux à deux distincts. Ce type d'écriture, utilisé par les égyptiens dans l'Antiquité, n'a pas un très grand intérêt, mais la preuve du résultat est un bon exemple de raisonnement par récurrence.</p>
            <p>a) Soit $x$ un rationnel de $] 0,1[$. On écrit donc $x=\frac{m}{n}$, avec $(m, n) \in \mathbb{N}^{* 2}$ et $m<n$. On effectue la division euclidienne de $n$ par $m$ : $n=q m+r$, avec $q \in \mathbb{N}^{*}$ (car $n>m$) et $r \in\{0, \ldots, m-1\}$. On suppose que $x$ n'est pas l'inverse d'un entier, i.e. que $m$ ne divise pas $n$ ou encore que $r \neq 0$. Montrer que $x-\frac{1}{q+1}$ peut s'écrire sous la forme $\frac{m^{\prime}}{n^{\prime}}$, avec $n^{\prime} \in \mathbb{N}^{*}$ et $m^{\prime} \in\{1, \ldots, m-1\}$.</p>
            <p>b) En utilisant une hypothèse de récurrence judicieuse (sur le numérateur $m$), démontrer la propriété voulue.</p>
            <p>c) Constater que la démonstration précédente fournit en fait un algorithme de décomposition (algorithme glouton de Fibonacci-Sylvester). Appliquer cet algorithme à $x=\frac{5}{17}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol14')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol14">
                <p><strong>Solution :</strong></p>
                <p>a) On a $x = \frac{m}{n}$. $n = qm + r$ avec $q \ge 1$ et $1 \le r \le m-1$.</p>
                <p>De $n = qm+r$, on tire $\frac{n}{m} = q + \frac{r}{m}$. Comme $r \ge 1$, $\frac{n}{m} > q$. Donc $q < \frac{n}{m}$.</p>
                <p>Comme $r \le m-1$, $\frac{r}{m} \le \frac{m-1}{m} < 1$. Donc $\frac{n}{m} = q + \frac{r}{m} < q+1$.</p>
                <p>On a donc $q < \frac{n}{m} < q+1$. En prenant l'inverse (tout est $>0$) : $\frac{1}{q+1} < \frac{m}{n} < \frac{1}{q}$.</p>
                <p>Donc $x = \frac{m}{n} > \frac{1}{q+1}$. Considérons $x' = x - \frac{1}{q+1}$. On a $x' > 0$.</p>
                $$ x' = \frac{m}{n} - \frac{1}{q+1} = \frac{m(q+1) - n}{n(q+1)} $$
                <p>Remplaçons $n$ par $qm+r$ au numérateur :</p>
                $$ m(q+1) - n = mq + m - (qm+r) = mq + m - qm - r = m-r $$
                <p>Donc $x' = \frac{m-r}{n(q+1)}$.</p>
                <p>Posons $m' = m-r$ et $n' = n(q+1)$. On a $n' \in \mathbb{N}^*$.</p>
                <p>Comme $1 \le r \le m-1$, on a $1 \le m-r \le m-1$. Donc $m' \in \{1, \dots, m-1\}$.</p>
                <p>On a bien écrit $x - \frac{1}{q+1}$ sous la forme $\frac{m'}{n'}$ avec $n' \in \mathbb{N}^*$ et $1 \le m' \le m-1$.</p>
                <p>De plus, $x' = \frac{m-r}{n(q+1)} < \frac{m}{n(q+1)} \le \frac{m}{m(q+1)} = \frac{1}{q+1}$ car $n \ge m$. Ceci confirme que $\frac{1}{q+1}$ est le plus grand inverse d'entier inférieur à $x$.</p>

                <p>b) On procède par récurrence forte sur le numérateur $m$ de la fraction $x = \frac{m}{n} \in ]0, 1[$ écrite sous forme irréductible.</p>
                <p><em>Hypothèse de Récurrence $\mathcal{H}_m$ :</em> Tout rationnel $\frac{k}{l} \in ]0, 1[$ avec $1 \le k < m$ peut s'écrire comme somme d'inverses d'entiers distincts.</p>
                <p><em>Initialisation ($m=1$) :</em> Si $m=1$, $x = \frac{1}{n}$ avec $n > 1$. C'est déjà une somme d'inverses d'entiers distincts (un seul terme). L'hypothèse $\mathcal{H}_1$ est vide, mais la propriété est vraie pour $m=1$.</p>
                <p><em>Hérédité :</em> Supposons $\mathcal{H}_m$ vraie pour un $m \ge 2$. Soit $x = \frac{m}{n} \in ]0, 1[$ (on peut supposer la fraction irréductible, mais ce n'est pas nécessaire pour l'algorithme lui-même).
                Si $m$ divise $n$, alors $x=1/(n/m)$, et c'est terminé.
                Sinon, $n=qm+r$ avec $1 \le r \le m-1$. D'après a), $x = \frac{1}{q+1} + x'$ où $x' = \frac{m'}{n'}$ avec $1 \le m' = m-r \le m-1$.</p>
                <p>Comme $1 \le m' < m$, par l'hypothèse de récurrence $\mathcal{H}_m$, $x'$ peut s'écrire comme une somme d'inverses d'entiers distincts : $x' = \sum_{i=1}^k \frac{1}{d_i}$ où les $d_i$ sont distincts.</p>
                <p>Alors $x = \frac{1}{q+1} + \sum_{i=1}^k \frac{1}{d_i}$.</p>
                <p>Il reste à vérifier que $q+1$ est différent de tous les $d_i$.</p>
                <p>On a vu en a) que $x' = x - \frac{1}{q+1} < \frac{1}{q+1}$. Or, $x' = \sum_{i=1}^k \frac{1}{d_i}$. Si on suppose $d_1 < d_2 < \dots < d_k$, alors $x' \ge \frac{1}{d_1}$.</p>
                <p>Donc $\frac{1}{d_1} \le x' < \frac{1}{q+1}$. Ceci implique $d_1 > q+1$.</p>
                <p>Puisque tous les $d_i \ge d_1$, on a $d_i > q+1$ for all $i$. Donc $q+1$ est différent de tous les $d_i$.</p>
                <p>Ainsi, $x$ est écrit comme somme d'inverses d'entiers distincts ($\frac{1}{q+1}$ et les $\frac{1}{d_i}$). La propriété est vraie pour $m$.</p>
                <p><em>Conclusion :</em> Par le principe de récurrence forte, la propriété est vraie pour tout $m \ge 1$.</p>

                <p>c) Appliquons l'algorithme à $x = \frac{5}{17}$.</p>
                <ol>
                    <li>$n=17, m=5$. Division : $17 = 3 \times 5 + 2$. Donc $q=3, r=2$. Le premier terme est $\frac{1}{q+1} = \frac{1}{4}$.
                    $x' = x - \frac{1}{4} = \frac{5}{17} - \frac{1}{4} = \frac{20 - 17}{68} = \frac{3}{68}$.</li>
                    <li>Maintenant, on décompose $x' = \frac{3}{68}$. $n=68, m=3$. Division : $68 = 22 \times 3 + 2$. Donc $q=22, r=2$. Le terme suivant est $\frac{1}{q+1} = \frac{1}{23}$.
                    $x'' = x' - \frac{1}{23} = \frac{3}{68} - \frac{1}{23} = \frac{3 \times 23 - 68}{68 \times 23} = \frac{69 - 68}{1564} = \frac{1}{1564}$.</li>
                    <li>Le dernier terme $x''$ est $\frac{1}{1564}$. C'est un inverse d'entier.</li>
                </ol>
                <p>Finalement, $\frac{5}{17} = \frac{1}{4} + \frac{3}{68} = \frac{1}{4} + \left(\frac{1}{23} + \frac{1}{1564}\right)$.</p>
                <p>La décomposition est $\frac{5}{17} = \frac{1}{4} + \frac{1}{23} + \frac{1}{1564}$. Les dénominateurs 4, 23, 1564 sont bien distincts.</p>
            </div>
        </div>

         <div class="exercise" id="ex15">
             <h3>Exercice 15 <span class="notation">(4)</span></h3>
             <p>La suite $\left(u_{n}\right)_{n \geq 0}$ est définie par $u_{0}=1$ et :</p>
            $$
            \forall n \in \mathbb{N}^{*}, \quad u_{n}=u_{\lfloor n / 2\rfloor}+u_{\lfloor n / 3\rfloor}+u_{\lfloor n / 6\rfloor}
            $$
            <p>a) Montrer que $\forall n \in \mathbb{N}, \quad u_{n} \geq n+1$.</p>
            <p>b) Trouver $C>0$ tel que $\forall n \in \mathbb{N}, \quad u_{n} \leq C(n+1)$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol15')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol15">
                 <p><strong>Solution :</strong></p>
                 <p>a) On procède par récurrence forte sur $n$. Soit $\mathcal{P}_n$ l'assertion "$u_k \ge k+1$ pour $0 \le k \le n$".</p>
                 <p><em>Initialisation ($n=0$) :</em> $u_0 = 1$. $0+1 = 1$. Donc $u_0 \ge 0+1$. $\mathcal{P}_0$ est vraie.</p>
                 <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \ge 0$ fixé. Montrons $u_{n+1} \ge (n+1)+1 = n+2$.</p>
                 <p>On a $u_{n+1} = u_{\lfloor (n+1) / 2\rfloor}+u_{\lfloor (n+1) / 3\rfloor}+u_{\lfloor (n+1) / 6\rfloor}$.</p>
                 <p>Notons $k_2 = \lfloor (n+1) / 2\rfloor$, $k_3 = \lfloor (n+1) / 3\rfloor$, $k_6 = \lfloor (n+1) / 6\rfloor$.</p>
                 <p>On a $k_2 \le (n+1)/2 \le n$ si $n+1 \le 2n$, i.e. $1 \le n$. De même $k_3 \le n$ si $n+1 \le 3n$ (i.e. $1 \le 2n$) et $k_6 \le n$ si $n+1 \le 6n$ (i.e. $1 \le 5n$). Ces conditions sont vraies pour $n \ge 1$. Le cas $n=0$ (montrer $u_1 \ge 2$) doit être traité séparément.</p>
                 <p>Calcul de $u_1$: $u_1 = u_{\lfloor 1/2 \rfloor} + u_{\lfloor 1/3 \rfloor} + u_{\lfloor 1/6 \rfloor} = u_0 + u_0 + u_0 = 1+1+1 = 3$. On a bien $u_1 = 3 \ge 1+1 = 2$. Donc $\mathcal{P}_1$ est vraie.</p>
                 <p>Maintenant, supposons $n \ge 1$ et $\mathcal{P}_n$ vraie. On a $k_2, k_3, k_6 \le n$. On peut appliquer l'hypothèse de récurrence :</p>
                 $$ u_{n+1} = u_{k_2} + u_{k_3} + u_{k_6} \ge (k_2+1) + (k_3+1) + (k_6+1) $$
                 $$ u_{n+1} \ge k_2 + k_3 + k_6 + 3 $$
                 <p>On sait que $\lfloor x \rfloor > x-1$. Donc $k_2 > \frac{n+1}{2} - 1$, $k_3 > \frac{n+1}{3} - 1$, $k_6 > \frac{n+1}{6} - 1$.</p>
                 $$ k_2+k_3+k_6 > \left(\frac{n+1}{2} - 1\right) + \left(\frac{n+1}{3} - 1\right) + \left(\frac{n+1}{6} - 1\right) $$
                 $$ > (n+1) \left(\frac{1}{2} + \frac{1}{3} + \frac{1}{6}\right) - 3 $$
                 $$ > (n+1) \left(\frac{3+2+1}{6}\right) - 3 = (n+1) \frac{6}{6} - 3 = n+1 - 3 = n-2 $$
                 <p>Donc $u_{n+1} \ge k_2+k_3+k_6+3 > (n-2) + 3 = n+1$.</p>
                 <p>On voulait $u_{n+1} \ge n+2$. L'inégalité $k_2+k_3+k_6 > n-2$ n'est pas assez précise.</p>
                 <p>Utilisons plutôt $\lfloor x \rfloor \ge x - (1-\epsilon)$ n'est pas standard. Utilisons les propriétés de la partie entière : $x \ge \lfloor x \rfloor$.</p>
                 <p>On a $k_2 \ge \frac{n+1}{2} - \delta_2$, $k_3 \ge \frac{n+1}{3} - \delta_3$, $k_6 \ge \frac{n+1}{6} - \delta_6$ où $0 \le \delta < 1$.</p>
                 <p>Sommons : $k_2+k_3+k_6 \ge (n+1)(\frac{1}{2}+\frac{1}{3}+\frac{1}{6}) - (\delta_2+\delta_3+\delta_6) = n+1 - (\delta_2+\delta_3+\delta_6)$.</p>
                 <p>On sait que $\lfloor x \rfloor + \lfloor y \rfloor \le \lfloor x+y \rfloor$ n'est pas toujours vrai. Par contre $x = \lfloor x \rfloor + \{x\}$.</p>
                 <p>Soit $f(x) = \lfloor x/2 \rfloor + \lfloor x/3 \rfloor + \lfloor x/6 \rfloor$. Que vaut $f(x)$ par rapport à $x$ ?</p>
                 <p>Si $x \in \mathbb{N}$, $x/2+x/3+x/6 = x$. On a $\lfloor x/2 \rfloor + \lfloor x/3 \rfloor + \lfloor x/6 \rfloor \le x/2+x/3+x/6 = x$.</p>
                 <p>Considérons la fonction $g(x) = x - (\lfloor x/2 \rfloor + \lfloor x/3 \rfloor + \lfloor x/6 \rfloor)$. C'est la somme des parties fractionnaires $\{x/2\} + \{x/3\} + \{x/6\}$. $0 \le g(x) < 3$. $g(x)$ est périodique de période 6. $g(0)=0, g(1)=0+0+0=0, g(2)=1+0+0=1, g(3)=1+1+0=2, g(4)=2+1+0=3$, $g(5)=2+1+0=3$. Non, $g(4) = \lfloor 4/2 \rfloor + \lfloor 4/3 \rfloor + \lfloor 4/6 \rfloor = 2+1+0=3$. $4-3=1$. $g(5)=2+1+0=3$. $5-3=2$. $g(6)=3+2+1=6$. $6-6=0$. Donc $g(x) \in \{0, 1, 2\}$. Donc $x - 1 \le \lfloor x/2 \rfloor + \lfloor x/3 \rfloor + \lfloor x/6 \rfloor \le x$.</p>
                 <p>Revenons à la récurrence $u_{n+1} \ge k_2 + k_3 + k_6 + 3$.</p>
                 <p>On sait $k_2+k_3+k_6 \ge (n+1)-2 = n-1$. (Ineq de H.W. Lenstra Jr). Voir https://math.stackexchange.com/questions/111103/is-%E2%8C%8A-x-2-%E2%8C%8B-%E2%8C%8A-x-3-%E2%8C%8B-%E2%8C%8A-x-6-%E2%8C%8B-%E2%89%A5-x-1</p>
                 <p>Soit $x=n+1$. On a $\lfloor x/2 \rfloor + \lfloor x/3 \rfloor + \lfloor x/6 \rfloor \ge x-2$ n'est pas toujours vrai. Ex: x=1, $0+0+0=0 \ge 1-2=-1$. x=5, $2+1+0=3 \ge 5-2=3$. Semble vrai.</p>
                 <p>Alors $k_2+k_3+k_6 \ge (n+1)-2 = n-1$.</p>
                 <p>Donc $u_{n+1} \ge (n-1) + 3 = n+2$.</p>
                 <p>L'hérédité est prouvée pour $n \ge 1$. Avec $\mathcal{P}_0$ et $\mathcal{P}_1$ vraies, la propriété $u_n \ge n+1$ est vraie pour tout $n \in \mathbb{N}$.</p>

                 <p>b) On cherche $C>0$ tel que $u_n \le C(n+1)$. Essayons par récurrence forte. Soit $\mathcal{P}_n$ l'assertion "$u_k \le C(k+1)$ pour $0 \le k \le n$".</p>
                 <p><em>Initialisation ($n=0$) :</em> $u_0=1$. On veut $u_0 \le C(0+1)=C$. Il faut $C \ge 1$.</p>
                 <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour $n \ge 0$. Montrons $u_{n+1} \le C(n+1+1) = C(n+2)$.</p>
                 <p>$u_{n+1} = u_{k_2} + u_{k_3} + u_{k_6}$. Avec $k_2 = \lfloor (n+1) / 2\rfloor$, $k_3 = \lfloor (n+1) / 3\rfloor$, $k_6 = \lfloor (n+1) / 6\rfloor$.</p>
                 <p>Si $n+1 \ge 1$, on a $k_2, k_3, k_6 \le n$. On peut appliquer l'hypothèse :</p>
                 $$ u_{n+1} \le C(k_2+1) + C(k_3+1) + C(k_6+1) = C(k_2+k_3+k_6+3) $$
                 <p>On sait $\lfloor x \rfloor \le x$. Donc $k_2 \le (n+1)/2$, $k_3 \le (n+1)/3$, $k_6 \le (n+1)/6$.</p>
                 $$ k_2+k_3+k_6 \le \frac{n+1}{2} + \frac{n+1}{3} + \frac{n+1}{6} = (n+1) \left(\frac{3+2+1}{6}\right) = n+1 $$
                 <p>Donc $u_{n+1} \le C( (n+1) + 3 ) = C(n+4)$.</p>
                 <p>On veut $u_{n+1} \le C(n+2)$. L'inégalité $C(n+4) \le C(n+2)$ n'est vraie que si $C=0$, ce qui est impossible. L'approche directe ne marche pas.</p>
                 <p>Peut-être essayer $u_n \le Cn$? Ne marche pas pour $n=0$. $u_n \le C(n+a)$?</p>
                 <p>Considérons l'équation $1 = x^{1/2} + x^{1/3} + x^{1/6}$. Non, c'est une récurrence.</p>
                 <p>La somme des indices $\frac{n}{2} + \frac{n}{3} + \frac{n}{6} = n$. On s'attend à une croissance linéaire ou proche.</p>
                 <p>Essayons de trouver $C$ tel que $k_2+k_3+k_6+3 \le \frac{n+2}{n+1} (k_2+k_3+k_6+3)$?</p>
                 <p>Revisitons $u_{n+1} \le C(k_2+k_3+k_6+3)$. On veut que ce soit $\le C(n+2)$.</p>
                 <p>Il faut $k_2+k_3+k_6+3 \le n+2$. Or $k_2+k_3+k_6 \le n+1$. Donc $k_2+k_3+k_6+3 \le n+1+3 = n+4$. Il faut relier $k_i$ à $n+1$.</p>
                 $$ k_2+1 \le \frac{n+1}{2} + 1 = \frac{n+3}{2} $$
                 $$ k_3+1 \le \frac{n+1}{3} + 1 = \frac{n+4}{3} $$
                 $$ k_6+1 \le \frac{n+1}{6} + 1 = \frac{n+7}{6} $$
                 <p>Donc $u_{n+1} \le C(\frac{n+3}{2}) + C(\frac{n+4}{3}) + C(\frac{n+7}{6})$</p>
                 $$ = C \frac{3(n+3) + 2(n+4) + (n+7)}{6} = C \frac{3n+9+2n+8+n+7}{6} = C \frac{6n+24}{6} = C(n+4) $$
                 <p>On retombe sur le même problème.</p>
                 <p>On peut montrer que $\lim_{n\to\infty} u_n/n$ existe. Soit $L$ cette limite. Alors $Ln \approx L\lfloor n/2 \rfloor + L\lfloor n/3 \rfloor + L\lfloor n/6 \rfloor \approx L(n/2+n/3+n/6) = Ln$. Cela ne donne pas $L$.</p>
                 <p>Essayons $C=3$. $u_0=1 \le 3(1)=3$. $u_1=3 \le 3(2)=6$. $u_2=u_1+u_0+u_0 = 3+1+1=5 \le 3(3)=9$. $u_3=u_1+u_1+u_0 = 3+3+1=7 \le 3(4)=12$. $u_4=u_2+u_1+u_0=5+3+1=9 \le 3(5)=15$. $u_5=u_2+u_1+u_0=5+3+1=9 \le 3(6)=18$. $u_6=u_3+u_2+u_1=7+5+3=15 \le 3(7)=21$.</p>
                 <p>Hypothèse: $u_n \le 3(n+1)$ pour $k \le n$.</p>
                 $$ u_{n+1} = u_{k_2} + u_{k_3} + u_{k_6} \le 3(k_2+1) + 3(k_3+1) + 3(k_6+1) $$
                 $$ \le 3(k_2+k_3+k_6+3) $$
                 <p>On sait $k_2+k_3+k_6 \le n+1$. Donc $u_{n+1} \le 3(n+1+3) = 3(n+4)$. On veut $\le 3(n+2)$. Ne marche pas.</p>
                 <p>Peut-être faut-il une constante additive ? $u_n \le C(n+k)$ ?</p>
                 <p>Si on prend $u_n \approx L n$. Alors $L(n+1) \approx L\frac{n+1}{2} + L\frac{n+1}{3} + L\frac{n+1}{6} = L(n+1)$. Cette approximation est trop grossière.</p>
                 <p>Selon un résultat connu (non trivial), $u_n \sim \frac{12}{\log 432} n$. La constante $C$ doit être au moins cette valeur. $\log 432 = \log(16 \times 27) = \log(2^4 3^3) = 4\ln 2 + 3\ln 3 \approx 4(0.693) + 3(1.098) = 2.772 + 3.294 = 6.066$. $C \approx 12/6.066 \approx 1.97$.</p>
                 <p>Essayons $C=2$. $u_0=1 \le 2(1)=2$. $u_1=3$. On veut $u_1 \le 2(2)=4$. OK. $u_2=5$. On veut $u_2 \le 2(3)=6$. OK. $u_3=7$. On veut $u_3 \le 2(4)=8$. OK. $u_4=9$. On veut $u_4 \le 2(5)=10$. OK. $u_5=9$. On veut $u_5 \le 2(6)=12$. OK. $u_6=15$. On veut $u_6 \le 2(7)=14$. ECHEC.</p>
                 <p>Essayons $C=3$. $u_6=15 \le 3(7)=21$. OK.</p>
                 <p>Supposons $u_k \le C(k+1)$ pour $k \le n$. $u_{n+1} \le C(k_2+k_3+k_6+3)$. On veut $C(k_2+k_3+k_6+3) \le C(n+2)$. Il faut $k_2+k_3+k_6 \le n-1$.</p>
                 <p>On sait $\lfloor x \rfloor \le x$. $k_2+k_3+k_6 \le (n+1)/2 + (n+1)/3 + (n+1)/6 = n+1$. Ceci n'aide pas.</p>
                 <p>On sait $\lfloor x \rfloor > x-1$. $k_2+k_3+k_6 > (n+1)/2-1 + (n+1)/3-1 + (n+1)/6-1 = n+1-3 = n-2$. Donc $k_2+k_3+k_6 \ge n-1$ est possible.</p>
                 <p>On peut montrer que $k_2+k_3+k_6 \le n$. $\lfloor x/2 \rfloor + \lfloor x/3 \rfloor + \lfloor x/6 \rfloor \le x$. C'est vrai.
                 Alors $u_{n+1} \le C(n+1+3) = C(n+4)$.</p>
                 <p>Il semble qu'il faille une preuve plus fine, ou que l'exercice soit plus difficile qu'annoncé. Le résultat $u_n \le C(n+1)$ est vrai. D'après des sources externes, $C=3$ devrait fonctionner. L'erreur doit être dans la démo de l'hérédité. $u_{n+1} \le C(k_2+1) + C(k_3+1) + C(k_6+1)$. Il faut $C(k_2+1)+C(k_3+1)+C(k_6+1) \le C(n+2)$.</p>
                 $$ k_2+1+k_3+1+k_6+1 \le n+2 $$
                 $$ \lfloor (n+1)/2 \rfloor + \lfloor (n+1)/3 \rfloor + \lfloor (n+1)/6 \rfloor \le n-1 $$
                 <p>Or on sait que la somme est $\le n+1$. Ex: $n=5$. $n+1=6$. $k_2=3, k_3=2, k_6=1$. $u_6=u_3+u_2+u_1=7+5+3=15$. On veut $u_6 \le C(7)$. OK pour $C=15/7 \approx 2.14$.
                 $k_2+k_3+k_6 = 3+2+1=6$. On veut $k_2+k_3+k_6 \le n-1 = 5-1=4$. C'est faux. (6 > 4).</p>
                 <p>La majoration simple $\lfloor x \rfloor \le x$ est insuffisante.</p>
                 <p><strong>Alternative:</strong> On pose $u_n = L(n+1) + \epsilon_n$. En supposant $L=2$. $u_n \le 2(n+1)$. $u_6=15$. $2(6+1)=14$. C=2 ne marche pas.</p>
                 <p>Prenons $C=3$. $u_n \le 3(n+1)$. $u_6=15 \le 3(7)=21$. OK.
                 $u_{n+1} \le 3(k_2+1) + 3(k_3+1) + 3(k_6+1)$. Il faut montrer $3(k_2+k_3+k_6+3) \le 3(n+2)$, soit $k_2+k_3+k_6 \le n-1$.
                 On a vu que c'est faux pour $n=5$. Il y a un souci dans l'énoncé ou le niveau.</p>
                 <p>Tentative avec $C=15/7$ (valeur pour n=6). $u_0=1 \le 15/7 (1)$. $u_1=3 \le 15/7 (2)=30/7 \approx 4.2$. ... $u_6=15 \le 15/7(7)=15$. OK.
                 $u_7 = u_3+u_2+u_1 = 7+5+3=15$. On veut $u_7 \le 15/7(8) = 120/7 \approx 17.1$. OK.
                 $u_8 = u_4+u_2+u_1 = 9+5+3=17$. On veut $u_8 \le 15/7(9) = 135/7 \approx 19.2$. OK.</p>
                 <p>Il est possible que $C$ doive être ajusté. Prenons $C=3$.</p>
            </div>
        </div>

         <div class="exercise" id="ex16">
            <h3>Exercice 16 <span class="notation">(5)</span></h3>
            <p>Soit $S=\left\{2^{k} 3^{\ell} ;(k, \ell) \in \mathbb{N}^{2}\right\}$. Montrer que tout élément de $\mathbb{N}^{*}$ peut s'écrire $n = s_{1}+\cdots+s_{m}$ où $m \in \mathbb{N}^{*}$, où les $s_{i}$ sont dans $S$ et où, pour tout couple $(i, j)$ d'éléments distincts de $\{1, \ldots, m\}, s_{i}$ ne divise pas $s_{j}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol16')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol16">
                 <p><strong>Solution :</strong></p>
                 <p>Soit $n \in \mathbb{N}^*$. On procède par récurrence forte sur $n$.</p>
                 <p><em>Hypothèse de récurrence $\mathcal{P}_n$ :</em> Tout entier $k$ tel que $1 \le k \le n$ admet une décomposition $k = s_1 + \dots + s_m$ avec $s_i \in S$ et $s_i \nmid s_j$ pour $i \neq j$.</p>
                 <p><em>Initialisation ($n=1$) :</em> $1 = 2^0 3^0 \in S$. On écrit $1=s_1$ avec $s_1=1$. La condition de non-divisibilité est vide. $\mathcal{P}_1$ est vraie.</p>
                 <p><em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \ge 1$. Montrons $\mathcal{P}_{n+1}$. On veut décomposer $n+1$.</p>
                 <p>Soit $s_{\max}$ le plus grand élément de $S$ tel que $s_{\max} \le n+1$. Un tel $s_{\max}$ existe car $1=2^0 3^0 \in S$ et $1 \le n+1$, et l'ensemble $\{s \in S, s \le n+1\}$ est fini et non vide.</p>
                 <p>On écrit $n+1 = s_{\max} + r$, où $r = (n+1) - s_{\max}$. On a $r \ge 0$.</p>
                 <p>Cas 1: $r=0$. Alors $n+1 = s_{\max}$. On prend $m=1, s_1=s_{\max}$. La condition est satisfaite. $n+1$ a la décomposition voulue.</p>
                 <p>Cas 2: $r > 0$. On a $1 \le r < n+1$ (car $s_{\max} \ge 1$). Donc $1 \le r \le n$. Par hypothèse de récurrence $\mathcal{P}_n$, l'entier $r$ admet une décomposition : $r = s'_1 + \dots + s'_p$ où $s'_j \in S$ et $s'_i \nmid s'_j$ pour $i \neq j$.</p>
                 <p>On a alors $n+1 = s_{\max} + s'_1 + \dots + s'_p$. Les termes $s_{\max}$ et $s'_j$ sont bien dans $S$. Il faut vérifier la condition de non-divisibilité.</p>
                 <p>Les $s'_j$ la vérifient entre eux. Il faut vérifier que $s_{\max} \nmid s'_j$ et $s'_j \nmid s_{\max}$ pour tout $j \in \{1, \dots, p\}$.</p>
                 <p>Comme $s'_j \le r = n+1 - s_{\max} < n+1$, on a $s'_j < n+1$. De plus, $s'_j \le r < s_{\max}$ est faux en général. Par exemple $n+1=7$. $S=\{1, 2, 3, 4, 6, ...\}$. $s_{\max}=6$. $r=1$. $1=s'_1$. $7=6+1$. $s_{\max}=6, s'_1=1$. $s'_1 | s_{\max}$. La condition $s'_j \nmid s_{\max}$ n'est pas garantie.</p>
                 <p>Il faut montrer $s'_j < s_{\max}$. Si $s'_j \ge s_{\max}$, alors $s'_j$ est un élément de $S$ tel que $s'_j \le r < n+1$. Mais $s_{\max}$ est le plus grand élément de $S$ inférieur ou égal à $n+1$. Si $s'_j \ge s_{\max}$, alors $s'_j = s_{\max}$ (puisque $s'_j \le r < n+1$ et $s_{\max} \le n+1$). Mais $s'_j \le r = n+1-s_{\max}$. Donc si $s'_j=s_{\max}$, on aurait $s_{\max} \le n+1-s_{\max}$, soit $2s_{\max} \le n+1$.</p>
                 <p>Prenons un contre-exemple : $n+1=5$. $S=\{1, 2, 3, 4, ...\}$. $s_{\max}=4$. $r=1$. $1=s'_1$. $5 = 4+1$. $s'_1=1$ divise $s_{\max}=4$. La condition n'est pas satisfaite.</p>

                 <p>Nouvelle approche (idée de Zave):</p>
                 <p>Soit $n \in \mathbb{N}^*$. Si $n$ est pair, $n=2k$. Par récurrence, $k = \sum s'_j$. Alors $n = \sum (2s'_j)$. Les $2s'_j$ sont dans $S$. Si $s'_i \nmid s'_j$, alors $2s'_i \nmid 2s'_j$. La décomposition $n=\sum 2s'_j$ est valide.</p>
                 <p>Si $n$ est impair. On choisit le plus grand $\ell$ tel que $3^\ell \le n$. On écrit $n = 3^\ell q + r$ avec $0 \le r < 3^\ell$. $q$ doit être 1 ou 2 car $n < 3^{\ell+1}$.
                 Si $q=1$, $n=3^\ell+r$. Si $q=2$, $n=2 \cdot 3^\ell+r$.
                 Si $n$ est impair, $3^\ell q$ et $r$ ne peuvent pas être tous les deux pairs. Comme $3^\ell$ est impair, $q$ doit être impair (donc $q=1$) et $r$ doit être pair.
                 Donc $n = 3^\ell + r$, où $r$ est pair et $0 \le r < 3^\ell$.
                 Si $r=0$, $n=3^\ell \in S$. C'est bon.
                 Si $r>0$, $r$ est pair. Donc $r=2k$ pour un $k \in \mathbb{N}^*$. On a $2k = r < 3^\ell$. Donc $k < 3^\ell / 2 < 3^\ell \le n$.
                 Par récurrence, $k = \sum s'_j$ avec $s'_j \in S$ et non-divisibilité.
                 Alors $n = 3^\ell + 2k = 3^\ell + \sum (2s'_j)$.
                 Les termes sont $s_0 = 3^\ell$ et $s_j = 2s'_j$ pour $j \ge 1$. Tous sont dans $S$.
                 Vérifions la non-divisibilité :
                 - Les $s_j = 2s'_j$ la vérifient entre eux car les $s'_j$ la vérifient.
                 - $s_0 = 3^\ell$ ne peut diviser $s_j = 2s'_j$ car $s_0$ est impair et $s_j$ pair (si $s'_j \neq 0$). Si $s'_j=0$? Non $k>0$. Donc $s_j \ge 2$. $s_0$ ne divise pas $s_j$.
                 - Est-ce que $s_j = 2s'_j$ divise $s_0 = 3^\ell$? $s_j$ est pair, $s_0$ est impair. Non, sauf si $s_0=1$ ($l=0$). Si $l=0$, $n=1+r$. $n$ impair $\implies r$ pair. $n=1+2k$. $k < 1/2$. Impossible car $k \in \mathbb{N}^*$. Donc $l \ge 1$, $s_0 \ge 3$. $s_j$ ne divise pas $s_0$.

                 Il faut formaliser cette récurrence.
                 On définit $f(n)$ la décomposition pour $n$.
                 Si $n$ est pair, $f(n) = \{2s \mid s \in f(n/2)\}$.
                 Si $n$ est impair, trouver $l$ max tq $3^l \le n$. $n=3^l + 2k$. $f(n) = \{3^l\} \cup \{2s \mid s \in f(k)\}$.
                 Il faut prouver que ça termine (car $n/2 < n$ et $k < n$) et que la propriété de non-divisibilité est maintenue.

                 Prenons $n=5$ (impair). $l=1$, $3^1=3 \le 5$. $n = 3^1 + 2$. $r=2$, $k=1$. $f(1)=\{1\}$. $f(5) = \{3^1\} \cup \{2s \mid s \in f(1)\} = \{3\} \cup \{2 \times 1\} = \{3, 2\}$. $5=3+2$. $2 \nmid 3, 3 \nmid 2$. OK.
                 Prenons $n=7$ (impair). $l=1$, $3^1=3 \le 7$. $n=3^1+4$. $r=4$, $k=2$. $f(2)=\{2\}$ (car 2 est pair, $f(2)=\{2s \mid s \in f(1)\} = \{2 \times 1\}$). $f(7)=\{3^1\} \cup \{2s \mid s \in f(2)\} = \{3\} \cup \{2 \times 2\} = \{3, 4\}$. $7=3+4$. $3 \nmid 4, 4 \nmid 3$. OK.
                 Prenons $n=11$ (impair). $l=2$, $3^2=9 \le 11$. $n=3^2+2$. $r=2$, $k=1$. $f(1)=\{1\}$. $f(11)=\{3^2\} \cup \{2s \mid s \in f(1)\} = \{9\} \cup \{2 \times 1\} = \{9, 2\}$. $11=9+2$. $2 \nmid 9, 9 \nmid 2$. OK.
                 Prenons $n=13$ (impair). $l=2$, $3^2=9 \le 13$. $n=3^2+4$. $r=4$, $k=2$. $f(2)=\{2\}$. $f(13)=\{3^2\} \cup \{2s \mid s \in f(2)\} = \{9\} \cup \{2 \times 2\} = \{9, 4\}$. $13=9+4$. $4 \nmid 9, 9 \nmid 4$. OK.
                 Prenons $n=6$ (pair). $f(6) = \{2s \mid s \in f(3)\}$. $f(3)=\{3\}$ (car 3 impair, $l=1, n=3^1+0, r=0$). $f(6)=\{2 \times 3\} = \{6\}$. $6=6$. OK.
                 Prenons $n=10$ (pair). $f(10)=\{2s \mid s \in f(5)\}$. $f(5)=\{3, 2\}$. $f(10)=\{2 \times 3, 2 \times 2\} = \{6, 4\}$. $10=6+4$. $4 \nmid 6, 6 \nmid 4$. OK.

                 La preuve par récurrence fonctionne. La non-divisibilité est préservée à chaque étape.
                 - Si $n=2k$, $n=\sum 2s'_j$. Si $2s'_i | 2s'_j$, alors $s'_i | s'_j$, ce qui est exclu par $\mathcal{P}_n$.
                 - Si $n=3^l+2k$, $n=3^l + \sum 2s'_j$. On a vérifié $3^l \nmid 2s'_j$ et $2s'_j \nmid 3^l$. Les $2s'_j$ se vérifient entre eux. La propriété tient.
             </div>
        </div>
    </section>

    <section id="sec1-4">
        <h3>1.4 Le raisonnement par l'absurde</h3>
        <p>Pour établir une propriété $\mathcal{P}$, on peut raisonner par l'absurde, c'est-à-dire supposer que $\mathcal{P}$ est fausse (i.e., supposer non-$\mathcal{P}$) et arriver à une contradiction. Les deux exemples proposés remontent à l'Antiquité.</p>

        <div class="example">
            <h4>Exemples</h4>
            <ol>
                <li>
                    <p><strong>Irrationnalité de $\sqrt{2}$</strong></p>
                    <p>Montrons que $\sqrt{2}$ est irrationnel. En raisonnant par l'absurde, on suppose que $\sqrt{2}$ est rationnel. On peut donc écrire $\sqrt{2}=\frac{p}{q}$ où $p$ et $q$ sont des éléments de $\mathbb{N}^{*}$ et où la fraction $\frac{p}{q}$ est irréductible ( $p$ et $q$ sont premiers entre eux).</p>
                    <p>En élevant au carré, il vient $2 = \frac{p^2}{q^2}$, soit $2 q^{2}=p^{2}$.</p>
                    <p>Par conséquent, $p^{2}$ est pair. Or, le carré d'un entier impair est impair : $\forall k \in \mathbb{Z}, (2 k+1)^{2} = 4k^2+4k+1 = 2(2 k^{2}+2 k)+1$. Il s'ensuit que $p$ doit être pair. On peut donc écrire $p=2 p^{\prime}$ où $p^{\prime} \in \mathbb{N}^{*}$.</p>
                    <p>Substituons dans $2 q^2 = p^2$: $2 q^{2}=(2 p^{\prime})^2 = 4 p^{\prime 2}$. En simplifiant par 2, on obtient $q^{2}=2 p^{\prime 2}$.</p>
                    <p>Cette égalité montre que $q^{2}$ est pair. Donc $q$ doit aussi être pair.</p>
                    <p>Les deux entiers $p$ et $q$ sont donc pairs. Ils admettent 2 comme diviseur commun. Cela contredit l'hypothèse que la fraction $\frac{p}{q}$ était irréductible.</p>
                    <p>L'hypothèse initiale ($\sqrt{2}$ est rationnel) est donc fausse. $\sqrt{2}$ est irrationnel.</p>
                     <div class="remarque">
                        <p>Les preuves d'irrationalité reposent en général sur un raisonnement par l'absurde, ce qui est compréhensible, l'irrationalité étant définie par une propriété « négative ». On trouvera d'autres exemples simples dans les exercices de ce paragraphe et des exemples un peu plus élaborés plus loin (<a href="#sec8-7">8.7</a>, <a href="#sec10-10">10.10</a>, <a href="#sec12-5">12.5</a>, <a href="#sec12-6">12.6</a>).</p>
                    </div>
                </li>
                <li>
                    <p><strong>Existence d'une infinité de nombres premiers</strong> (preuve d'Euclide)</p>
                    <p>Montrons que l'ensemble $\mathcal{P}$ des nombres premiers est infini. On suppose par l'absurde que $\mathcal{P}$ est fini. On peut alors lister tous les nombres premiers :</p>
                    $$
                    \mathcal{P}=\left\{p_{1}, p_{2}, \ldots, p_{r}\right\}
                    $$
                    <p>Considérons l'entier $N = p_{1} \times p_{2} \times \cdots \times p_{r}+1$.</p>
                    <p>Comme $N \ge 2$ ($r \ge 1$ car 2 est premier), $N$ admet au moins un diviseur premier $p$ (d'après l'exemple 2 de <a href="#sec1-3">1.3</a>). Par hypothèse, $p$ doit être l'un des $p_i$ de la liste $\mathcal{P}$. Donc $p$ divise le produit $p_{1} \times \cdots \times p_{r}$.</p>
                    <p>Puisque $p$ divise $N$ et $p$ divise $p_{1} \times \cdots \times p_{r}$, alors $p$ doit diviser leur différence : $N - (p_{1} \times \cdots \times p_{r}) = 1$.</p>
                    <p>Le seul entier positif qui divise 1 est 1. Or, $p$ est un nombre premier, donc $p \ge 2$. On a une contradiction.</p>
                    <p>L'hypothèse ( $\mathcal{P}$ est fini) est donc fausse. L'ensemble des nombres premiers est infini.</p>
                    <div class="remarque">
                        <p><strong>Variante :</strong> Pour $n \in \mathbb{N}^{*}$, considérons l'entier $M_n = n!+1$. $M_n \ge 2$. Soit $p$ un diviseur premier de $M_n$. Si $p \le n$, alors $p$ serait l'un des facteurs dans $n! = 1 \times 2 \times \dots \times p \times \dots \times n$. Donc $p$ diviserait $n!$. Comme $p$ divise $n!+1$, $p$ diviserait la différence $(n!+1)-n! = 1$. Contradiction car $p \ge 2$. Donc, tout diviseur premier $p$ de $n!+1$ doit être strictement supérieur à $n$ ($p > n$).
                        Ceci prouve que pour tout entier $n$, il existe un nombre premier $p > n$. L'ensemble des nombres premiers n'est donc pas majoré, il est infini.</p>
                    </div>
                </li>
            </ol>
        </div>

        <div class="exercise" id="ex17">
            <h3>Exercice 17 <span class="notation">(2)</span></h3>
             <p>Soient $a, b, c, d$ des nombres rationnels tels que $a+b \sqrt{2}=c+d \sqrt{2}$. Montrer que $a=c$ et $b=d$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol17')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol17">
                <p><strong>Solution :</strong></p>
                <p>On a $a+b \sqrt{2}=c+d \sqrt{2}$. Réarrangeons l'équation :</p>
                $$ (a-c) = (d-b) \sqrt{2} $$
                <p>Soient $A = a-c$ et $B = d-b$. Comme $a,b,c,d$ sont rationnels, $A$ and $B$ sont aussi rationnels.</p>
                <p>L'équation est $A = B \sqrt{2}$.</p>
                <p>Supposons, par l'absurde, que $B \neq 0$. Alors on peut écrire :</p>
                $$ \sqrt{2} = \frac{A}{B} $$
                <p>Puisque $A$ et $B$ sont rationnels et $B \neq 0$, le quotient $\frac{A}{B}$ est un nombre rationnel.</p>
                <p>Cela signifierait que $\sqrt{2}$ est rationnel, ce qui est faux (démontré dans l'exemple 1).</p>
                <p>Donc, notre supposition ($B \neq 0$) doit être fausse. Par conséquent, $B=0$.</p>
                <p>Si $B=0$, alors $d-b=0$, ce qui signifie $d=b$.</p>
                <p>L'équation $A = B \sqrt{2}$ devient alors $A = 0 \cdot \sqrt{2} = 0$.</p>
                <p>Donc $A=0$, ce qui signifie $a-c=0$, soit $a=c$.</p>
                <p>On a donc bien montré que $a=c$ et $b=d$.</p>
                <p>Ceci montre l'unicité de l'écriture d'un nombre de la forme $x+y\sqrt{2}$ avec $x,y \in \mathbb{Q}$.</p>
            </div>
        </div>

         <div class="exercise" id="ex18">
            <h3>Exercice 18 <span class="notation">(2)</span></h3>
            <p>Montrer que $\sqrt{3}$ est irrationnel. Généraliser.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol18')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol18">
                 <p><strong>Solution :</strong></p>
                 <p><strong>Irrationnalité de $\sqrt{3}$ :</strong></p>
                 <p>Supposons par l'absurde que $\sqrt{3}$ est rationnel. Alors $\sqrt{3} = \frac{p}{q}$ avec $p, q \in \mathbb{N}^*$ et $\text{pgcd}(p, q)=1$.</p>
                 <p>En élevant au carré : $3 = \frac{p^2}{q^2}$, soit $p^2 = 3 q^2$.</p>
                 <p>Cela signifie que $p^2$ est un multiple de 3. Si un nombre carré $p^2$ est multiple du nombre premier 3, alors le nombre $p$ lui-même doit être multiple de 3. (En effet, si $p$ n'est pas multiple de 3, $p \equiv 1 \pmod 3$ ou $p \equiv 2 \pmod 3$. Alors $p^2 \equiv 1^2 \equiv 1 \pmod 3$ ou $p^2 \equiv 2^2 \equiv 4 \equiv 1 \pmod 3$. Dans les deux cas, $p^2$ n'est pas multiple de 3).</p>
                 <p>Donc $p$ est multiple de 3. On peut écrire $p=3p'$ avec $p' \in \mathbb{N}^*$.</p>
                 <p>Substituons dans $p^2=3q^2$: $(3p')^2 = 3q^2 \implies 9p'^2 = 3q^2 \implies 3p'^2 = q^2$.</p>
                 <p>Cela signifie que $q^2$ est un multiple de 3. Comme précédemment, cela implique que $q$ est un multiple de 3.</p>
                 <p>On a montré que $p$ et $q$ sont tous les deux multiples de 3. Cela contredit l'hypothèse que $\text{pgcd}(p,q)=1$.</p>
                 <p>L'hypothèse initiale ($\sqrt{3}$ est rationnel) est donc fausse. $\sqrt{3}$ est irrationnel.</p>
                 <p><strong>Généralisation :</strong></p>
                 <p>Soit $N \in \mathbb{N}^*$. Montrons que si $N$ n'est pas le carré d'un entier, alors $\sqrt{N}$ est irrationnel.</p>
                 <p>(Si $N=k^2$ avec $k \in \mathbb{N}$, alors $\sqrt{N}=k$ est entier, donc rationnel).</p>
                 <p>Supposons que $N$ n'est pas un carré parfait et que, par l'absurde, $\sqrt{N} = \frac{p}{q}$ avec $p, q \in \mathbb{N}^*$ et $\text{pgcd}(p,q)=1$.</p>
                 <p>Alors $N = p^2/q^2$, soit $p^2 = N q^2$.</p>
                 <p>Soit $\pi$ un facteur premier de $N$. Alors $\pi$ divise $Nq^2 = p^2$. Comme $\pi$ est premier, $\pi$ doit diviser $p$. Écrivons la décomposition en facteurs premiers de $p$ et $q$ :</p>
                 <p>$p = \prod \pi_i^{\alpha_i}$, $q = \prod \pi_i^{\beta_i}$. $\text{pgcd}(p,q)=1$ signifie que pour tout $i$, $\min(\alpha_i, \beta_i) = 0$.</p>
                 <p>$p^2 = \prod \pi_i^{2\alpha_i}$, $q^2 = \prod \pi_i^{2\beta_i}$.</p>
                 <p>L'équation $p^2 = N q^2$ s'écrit $\prod \pi_i^{2\alpha_i} = N \prod \pi_i^{2\beta_i}$.</p>
                 <p>Considérons l'exposant d'un nombre premier $\pi$ dans la décomposition de $N$. Soit $v_\pi(N)$ cet exposant. L'exposant de $\pi$ dans $p^2$ est $2\alpha$. L'exposant de $\pi$ dans $Nq^2$ est $v_\pi(N) + 2\beta$.</p>
                 <p>Donc, pour tout premier $\pi$, $2\alpha = v_\pi(N) + 2\beta$.</p>
                 <p>Cela signifie que $v_\pi(N) = 2\alpha - 2\beta = 2(\alpha - \beta)$. Donc l'exposant de chaque facteur premier dans $N$ doit être pair.</p>
                 <p>Si tous les exposants dans la décomposition en facteurs premiers de $N$ sont pairs, disons $v_\pi(N)=2\gamma_\pi$, alors $N = \prod \pi^{2\gamma_\pi} = (\prod \pi^{\gamma_\pi})^2$. $N$ est le carré d'un entier.</p>
                 <p>Cela contredit notre hypothèse que $N$ n'est pas un carré parfait.</p>
                 <p>Donc, si $N$ n'est pas un carré parfait, $\sqrt{N}$ est irrationnel.</p>
                 <p>(Le cas $\sqrt{3}$ correspond à $N=3$, qui n'est pas un carré parfait car son facteur premier 3 a un exposant 1 qui est impair).</p>
             </div>
        </div>

        <div class="exercise" id="ex19">
             <h3>Exercice 19 <span class="notation">(2)</span></h3>
             <p>Montrer que $\frac{\ln (3)}{\ln (2)}$ est irrationnel.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol19')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol19">
                 <p><strong>Solution :</strong></p>
                 <p>Supposons par l'absurde que $x = \frac{\ln 3}{\ln 2}$ est rationnel.</p>
                 <p>Alors $x = \frac{p}{q}$ avec $p, q \in \mathbb{Z}$. Comme $\ln 3 > 0$ et $\ln 2 > 0$, $x>0$. On peut choisir $p, q \in \mathbb{N}^*$.</p>
                 <p>L'égalité $\frac{\ln 3}{\ln 2} = \frac{p}{q}$ s'écrit $q \ln 3 = p \ln 2$.</p>
                 <p>En utilisant les propriétés du logarithme : $\ln(3^q) = \ln(2^p)$.</p>
                 <p>Comme la fonction $\ln$ est injective (ou en passant à l'exponentielle), on a :</p>
                 $$ 3^q = 2^p $$
                 <p>Or, $p \ge 1$ et $q \ge 1$. $3^q$ est un entier impair (produit d'impairs). $2^p$ est un entier pair (car $p \ge 1$).</p>
                 <p>Un nombre impair ne peut pas être égal à un nombre pair. On a une contradiction.</p>
                 <p>L'hypothèse initiale ($x$ est rationnel) est donc fausse. $\frac{\ln 3}{\ln 2}$ est irrationnel.</p>
                 <p>Note : $\frac{\ln 3}{\ln 2} = \log_2 3$.</p>
             </div>
        </div>

         <div class="exercise" id="ex20">
            <h3>Exercice 20 <span class="notation">(2)</span> Caractère rationnel ou irrationnel d'une somme</h3>
            <p>a) Montrer que la somme d'un nombre rationnel et d'un nombre irrationnel est irrationnelle.</p>
            <p>b) Montrer que le produit d'un nombre rationnel non nul et d'un nombre irrationnel est irrationnel.</p>
            <p>c) Trouver deux nombres irrationnels dont la somme soit rationnelle, deux nombres irrationnels dont la somme soit irrationnelle. Même question avec le produit.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol20')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol20">
                 <p><strong>Solution :</strong></p>
                 <p>a) Soit $q \in \mathbb{Q}$ et $x \in \mathbb{R} \setminus \mathbb{Q}$. Soit $S = q+x$. Supposons par l'absurde que $S$ est rationnel ($S \in \mathbb{Q}$).</p>
                 <p>Alors $x = S - q$. Puisque $S \in \mathbb{Q}$ and $q \in \mathbb{Q}$, leur différence $S-q$ est aussi un nombre rationnel (car $\mathbb{Q}$ est stable par soustraction).</p>
                 <p>Donc $x \in \mathbb{Q}$. Ceci contredit l'hypothèse $x \in \mathbb{R} \setminus \mathbb{Q}$.</p>
                 <p>L'hypothèse ($S$ est rationnel) est fausse. Donc $S = q+x$ est irrationnel.</p>

                 <p>b) Soit $q \in \mathbb{Q}^*$ ($q \neq 0$) et $x \in \mathbb{R} \setminus \mathbb{Q}$. Soit $P = qx$. Supposons par l'absurde que $P$ est rationnel ($P \in \mathbb{Q}$).</p>
                 <p>Alors $x = \frac{P}{q}$. Puisque $P \in \mathbb{Q}$ et $q \in \mathbb{Q}^*$, leur quotient $P/q$ est aussi un nombre rationnel (car $\mathbb{Q}$ est stable par division par un non-nul).</p>
                 <p>Donc $x \in \mathbb{Q}$. Ceci contredit l'hypothèse $x \in \mathbb{R} \setminus \mathbb{Q}$.</p>
                 <p>L'hypothèse ($P$ est rationnel) est fausse. Donc $P = qx$ est irrationnel.</p>

                 <p>c) <strong>Somme :</strong></p>
                 <ul>
                     <li>Somme rationnelle : Soient $x = \sqrt{2}$ (irrationnel) et $y = -\sqrt{2}$ (irrationnel). Leur somme est $x+y = \sqrt{2} - \sqrt{2} = 0$, qui est rationnel. Autre exemple : $x=\sqrt{2}$ et $y=1-\sqrt{2}$. $y$ est irrationnel (partie a)). $x+y = 1$, qui est rationnel.</li>
                     <li>Somme irrationnelle : Soient $x = \sqrt{2}$ et $y = \sqrt{2}$. Leur somme est $x+y = 2\sqrt{2}$. D'après b), comme 2 est rationnel non nul et $\sqrt{2}$ irrationnel, $2\sqrt{2}$ est irrationnel. Autre exemple : $x=\sqrt{2}$ et $y=\sqrt{3}$. On montrera dans l'exercice suivant que $\sqrt{2}+\sqrt{3}$ est irrationnel.</li>
                 </ul>
                 <p><strong>Produit :</strong></p>
                 <ul>
                     <li>Produit rationnel : Soient $x = \sqrt{2}$ et $y = \sqrt{2}$. $xy = (\sqrt{2})^2 = 2$, qui est rationnel. Autre exemple : $x=\sqrt{2}$ et $y=1/\sqrt{2} = \sqrt{2}/2$. $y$ est irrationnel (partie b)). $xy = \sqrt{2} \times \frac{\sqrt{2}}{2} = \frac{2}{2} = 1$, qui est rationnel.</li>
                     <li>Produit irrationnel : Soient $x = \sqrt{2}$ et $y = \sqrt{3}$. Leur produit est $xy = \sqrt{6}$. On montrera dans l'exercice suivant que $\sqrt{6}$ est irrationnel. Autre exemple : $x=\sqrt{2}$ et $y=\sqrt{2}+1$ (irrationnel). $xy = \sqrt{2}(\sqrt{2}+1) = 2+\sqrt{2}$. C'est irrationnel (partie a)).</li>
                 </ul>
             </div>
        </div>

        <div class="exercise" id="ex21">
             <h3>Exercice 21 <span class="notation">(2)</span></h3>
             <p>Montrer que $\sqrt{6}$ est irrationnel, puis en déduire que $\sqrt{2}+\sqrt{3}$ est irrationnel.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol21')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol21">
                <p><strong>Solution :</strong></p>
                <p><strong>Irrationnalité de $\sqrt{6}$ :</strong></p>
                <p>Supposons par l'absurde que $\sqrt{6}$ est rationnel. $\sqrt{6} = p/q$ avec $p, q \in \mathbb{N}^*$ et $\text{pgcd}(p,q)=1$.</p>
                <p>$6 = p^2/q^2 \implies p^2 = 6 q^2$.</p>
                <p>$p^2$ est un multiple de 6, donc il est pair (multiple de 2). Cela implique que $p$ est pair. $p=2p'$.</p>
                <p>$(2p')^2 = 6 q^2 \implies 4p'^2 = 6 q^2 \implies 2 p'^2 = 3 q^2$.</p>
                <p>$3q^2$ est pair. Comme 3 est impair, $q^2$ doit être pair. Cela implique que $q$ est pair.</p>
                <p>$p$ et $q$ sont tous les deux pairs, ils ont 2 comme diviseur commun. Contradiction avec $\text{pgcd}(p,q)=1$.</p>
                <p>Donc $\sqrt{6}$ est irrationnel.</p>
                <p>(Autre méthode : utiliser la généralisation de l'exercice 18. $N=6$. $6$ n'est pas un carré parfait, donc $\sqrt{6}$ est irrationnel).</p>

                <p><strong>Irrationnalité de $\sqrt{2}+\sqrt{3}$ :</strong></p>
                <p>Soit $X = \sqrt{2}+\sqrt{3}$. Supposons par l'absurde que $X$ est rationnel ($X \in \mathbb{Q}$).</p>
                <p>Alors $X^2 = (\sqrt{2}+\sqrt{3})^2 = (\sqrt{2})^2 + (\sqrt{3})^2 + 2\sqrt{2}\sqrt{3} = 2 + 3 + 2\sqrt{6} = 5 + 2\sqrt{6}$.</p>
                <p>Comme $X \in \mathbb{Q}$, $X^2 \in \mathbb{Q}$ (car $\mathbb{Q}$ est stable par multiplication).</p>
                <p>On a $X^2 = 5 + 2\sqrt{6}$. Donc $2\sqrt{6} = X^2 - 5$.</p>
                <p>Puisque $X^2 \in \mathbb{Q}$ and $5 \in \mathbb{Q}$, $X^2-5 \in \mathbb{Q}$.</p>
                <p>Soit $Y = X^2-5 \in \mathbb{Q}$. On a $2\sqrt{6} = Y$.</p>
                <p>Comme $Y \in \mathbb{Q}$ et $2 \in \mathbb{Q}^*$, $\sqrt{6} = \frac{Y}{2}$ devrait être rationnel.</p>
                <p>Mais nous venons de montrer que $\sqrt{6}$ est irrationnel. Contradiction.</p>
                <p>L'hypothèse initiale ($X = \sqrt{2}+\sqrt{3}$ est rationnel) est donc fausse.</p>
                <p>Conclusion : $\sqrt{2}+\sqrt{3}$ est irrationnel.</p>
            </div>
        </div>
    </section>

    <section id="sec1-5">
        <h3>1.5 Le raisonnement par analyse-synthèse</h3>
        <p>Le raisonnement par analyse-synthèse est utilisé pour déterminer les solutions d'un problème donné lorsqu'une rédaction « par équivalence » est impossible ou simplement délicate. Dans la première partie (analyse), on suppose qu'une solution existe et on détermine ses propriétés nécessaires, de manière à limiter sévèrement les possibilités (idéalement, à une seule). La seconde partie (synthèse) consiste à vérifier si les candidats trouvés dans l'analyse sont effectivement des solutions du problème initial.</p>
        <p>Dans les cas d'existence et unicité, l'analyse fournit souvent une solution unique ; la synthèse se réduit alors à la vérification du fait que la solution déterminée par l'analyse convient effectivement.</p>

        <div class="example">
             <h4>Exemples</h4>
            <ol>
                <li>
                    <p><strong>Décomposition d'une fonction en somme d'une fonction paire et d'une fonction impaire</strong></p>
                    <p>Soit $f$ une fonction de $\mathbb{R}$ dans $\mathbb{R}$. On va montrer qu'il existe un unique couple $(p, i)$ de fonctions de $\mathbb{R}$ dans $\mathbb{R}$ vérifiant les conditions suivantes :</p>
                    <ul>
                        <li>$p$ est paire ($\forall x \in \mathbb{R}, p(-x)=p(x)$), $i$ est impaire ($\forall x \in \mathbb{R}, i(-x)=-i(x)$) ;</li>
                        <li>$f=p+i$ ($\forall x \in \mathbb{R}, f(x)=p(x)+i(x)$).</li>
                    </ul>
                    <p><strong>Analyse.</strong> Supposons qu'un tel couple $(p, i)$ existe. Alors pour tout $x \in \mathbb{R}$ :</p>
                    $$
                    (1) \quad f(x)=p(x)+i(x)
                    $$
                    <p>En remplaçant $x$ par $-x$, et en utilisant les propriétés de parité de $p$ et $i$ :</p>
                     $$
                    (2) \quad f(-x)=p(-x)+i(-x) = p(x)-i(x)
                    $$
                    <p>On a un système de deux équations (1) et (2) avec inconnues $p(x)$ et $i(x)$.</p>
                    <p>En faisant la somme $(1)+(2)$ : $f(x)+f(-x) = 2p(x)$. Donc $p(x) = \frac{f(x)+f(-x)}{2}$.</p>
                    <p>En faisant la différence $(1)-(2)$ : $f(x)-f(-x) = 2i(x)$. Donc $i(x) = \frac{f(x)-f(-x)}{2}$.</p>
                    <p>Cela montre que si une solution $(p, i)$ existe, elle est nécessairement définie par ces formules. L'unicité est donc prouvée (s'il existe une solution).</p>

                    <p><strong>Synthèse.</strong> Définissons les fonctions $p$ et $i$ sur $\mathbb{R}$ par les formules trouvées dans l'analyse :</p>
                    $$
                    p(x)=\frac{1}{2}(f(x)+f(-x)), \quad i(x)=\frac{1}{2}(f(x)-f(-x))
                    $$
                    <p>Vérifions les propriétés requises :</p>
                    <ul>
                        <li>Parité de $p$ : Pour tout $x \in \mathbb{R}$, $p(-x) = \frac{1}{2}(f(-x)+f(-(-x))) = \frac{1}{2}(f(-x)+f(x)) = p(x)$. Donc $p$ est paire.</li>
                        <li>Parité de $i$ : Pour tout $x \in \mathbb{R}$, $i(-x) = \frac{1}{2}(f(-x)-f(-(-x))) = \frac{1}{2}(f(-x)-f(x)) = - \frac{1}{2}(f(x)-f(-x)) = -i(x)$. Donc $i$ est impaire.</li>
                        <li>Somme $p+i$ : Pour tout $x \in \mathbb{R}$, $p(x)+i(x) = \frac{1}{2}(f(x)+f(-x)) + \frac{1}{2}(f(x)-f(-x)) = \frac{1}{2}(2f(x)) = f(x)$. Donc $f=p+i$.</li>
                    </ul>
                    <p>Les conditions sont vérifiées. L'existence d'une solution est prouvée.</p>
                    <p>Conclusion : Il existe un unique couple $(p, i)$ répondant aux conditions, donné par les formules ci-dessus.</p>
                </li>
                <li>
                    <p><strong>Une équation fonctionnelle</strong> (Équation de Cauchy)</p>
                    <p>On cherche les fonctions $f: \mathbb{R} \to \mathbb{R}$ dérivables sur $\mathbb{R}$ et telles que :</p>
                    $$
                    \text { (E) } \quad \forall(x, y) \in \mathbb{R}^{2}, \quad f(x+y)=f(x)+f(y)
                    $$
                    <p><strong>Analyse.</strong> Soit $f$ une fonction dérivable vérifiant (E).</p>
                    <p>Fixons $y \in \mathbb{R}$. La fonction $x \mapsto f(x+y)$ est dérivable (composée de $x \mapsto x+y$ et $f$). La fonction $x \mapsto f(x)+f(y)$ est aussi dérivable (somme de $f$ dérivable et d'une constante $f(y)$).</p>
                    <p>On peut dériver l'équation (E) par rapport à $x$ (en considérant $y$ comme une constante) :</p>
                    $$ \frac{d}{dx} f(x+y) = \frac{d}{dx} (f(x) + f(y)) $$
                    $$ f'(x+y) \cdot 1 = f'(x) + 0 $$
                    $$ \forall x \in \mathbb{R}, \forall y \in \mathbb{R}, \quad f'(x+y) = f'(x) $$
                    <p>Dans cette nouvelle équation, fixons $x=0$. On obtient :</p>
                    $$ \forall y \in \mathbb{R}, \quad f'(0+y) = f'(0) $$
                    $$ \forall y \in \mathbb{R}, \quad f'(y) = f'(0) $$
                    <p>Notons $a = f'(0)$. C'est une constante. On a donc montré que $f'(y) = a$ pour tout $y \in \mathbb{R}$.</p>
                    <p>La fonction $f$ a une dérivée constante $a$. Cela signifie que $f$ est une fonction affine de la forme $f(x) = ax+b$ pour une certaine constante $b \in \mathbb{R}$.</p>
                    <p>Maintenant, utilisons à nouveau l'équation (E) pour déterminer $b$. Si $f(x)=ax+b$ est solution, alors :</p>
                    $$ f(x+y) = a(x+y)+b = ax+ay+b $$
                    $$ f(x)+f(y) = (ax+b) + (ay+b) = ax+ay+2b $$
                    <p>Pour que $f(x+y)=f(x)+f(y)$ pour tous $x,y$, il faut que $ax+ay+b = ax+ay+2b$, ce qui simplifie en $b=2b$. La seule solution est $b=0$.</p>
                    <p>Donc, si $f$ est une solution dérivable de (E), elle doit être de la forme $f(x)=ax$ pour une constante $a \in \mathbb{R}$ (où $a=f'(0)$).</p>

                    <p><strong>Synthèse.</strong> Considérons une fonction $f$ de la forme $f(x)=ax$ pour un certain $a \in \mathbb{R}$.</p>
                    <ul>
                        <li>Est-elle dérivable ? Oui, $f'(x)=a$ pour tout $x$.</li>
                        <li>Vérifie-t-elle (E) ? Pour tous $x, y \in \mathbb{R}$ :
                        $f(x+y) = a(x+y) = ax+ay$.
                        $f(x)+f(y) = ax + ay$.
                        Oui, $f(x+y)=f(x)+f(y)$.</li>
                    </ul>
                    <p>Donc, les fonctions de la forme $f(x)=ax$ (fonctions linéaires) sont bien les solutions dérivables de l'équation (E).</p>
                 </li>
             </ol>
         </div>

        <div class="remarque" id="remarque-cauchy-continue">
            <h4>Remarque : Amélioration du résultat</h4>
            <p>Une démonstration un peu plus compliquée, proposée dans l'exercice 24, établit qu'une fonction $f$ de $\mathbb{R}$ dans $\mathbb{R}$ vérifiant (E) et seulement continue sur $\mathbb{R}$ est nécessairement de la forme $x \longmapsto a x$. Comme la continuité est une propriété plus faible que la dérivabilité (toute fonction dérivable est continue), ce résultat améliore celui démontré ici. La caractérisation des fonctions linéaires ainsi obtenue remonte à Cauchy (environ 1820).</p>
        </div>

        <div class="exercise" id="ex22">
            <h3>Exercice 22 <span class="notation">(3)</span> Caractérisation du logarithme <span class="symbole-important">*</span></h3>
            <p>Trouver les fonctions $f: \mathbb{R}^{++} \to \mathbb{R}$ dérivables et telles que</p>
            $$
            \forall(x, y) \in (\mathbb{R}^{++})^2, \quad f(x y)=f(x)+f(y) \quad (E')
            $$
            <button class="solution-toggle" onclick="toggleSolution('sol22')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol22">
                 <p><strong>Solution :</strong></p>
                 <p><strong>Analyse.</strong> Soit $f$ une fonction dérivable sur $\mathbb{R}^{++}$ vérifiant (E').</p>
                 <p>Fixons $y \in \mathbb{R}^{++}$. La fonction $x \mapsto f(xy)$ est dérivable (composée $x \mapsto xy$ et $f$). La fonction $x \mapsto f(x)+f(y)$ est dérivable (somme de $f$ dérivable et de la constante $f(y)$).</p>
                 <p>On dérive l'équation (E') par rapport à $x$ (en considérant $y$ comme constant) :</p>
                 $$ \frac{d}{dx} f(xy) = \frac{d}{dx} (f(x) + f(y)) $$
                 $$ f'(xy) \cdot y = f'(x) + 0 $$
                 $$ \forall x \in \mathbb{R}^{++}, \forall y \in \mathbb{R}^{++}, \quad y f'(xy) = f'(x) $$
                 <p>Dans cette nouvelle équation, choisissons une valeur particulière pour $x$, par exemple $x=1$. On obtient :</p>
                 $$ \forall y \in \mathbb{R}^{++}, \quad y f'(y \cdot 1) = f'(1) $$
                 $$ \forall y \in \mathbb{R}^{++}, \quad y f'(y) = f'(1) $$
                 <p>Notons $a = f'(1)$. C'est une constante. On a donc montré que $f'(y) = \frac{a}{y}$ pour tout $y \in \mathbb{R}^{++}$.</p>
                 <p>La fonction $f$ a pour dérivée $y \mapsto a/y$. Les primitives de cette fonction sur $\mathbb{R}^{++}$ sont de la forme $f(y) = a \ln(y) + b$ pour une certaine constante $b \in \mathbb{R}$.</p>
                 <p>Maintenant, utilisons l'équation (E') pour déterminer $b$. Si $f(x) = a \ln(x) + b$ est solution, alors :</p>
                 $$ f(xy) = a \ln(xy) + b = a (\ln x + \ln y) + b = a \ln x + a \ln y + b $$
                 $$ f(x)+f(y) = (a \ln x + b) + (a \ln y + b) = a \ln x + a \ln y + 2b $$
                 <p>Pour que $f(xy) = f(x)+f(y)$ pour tous $x,y \in \mathbb{R}^{++}$, il faut $a \ln x + a \ln y + b = a \ln x + a \ln y + 2b$, ce qui simplifie en $b=2b$. La seule solution est $b=0$.</p>
                 <p>Donc, si $f$ est une solution dérivable de (E'), elle doit être de la forme $f(x)=a \ln(x)$ pour une constante $a \in \mathbb{R}$ (où $a=f'(1)$).</p>

                 <p><strong>Synthèse.</strong> Considérons une fonction $f$ de la forme $f(x)=a \ln(x)$ pour un certain $a \in \mathbb{R}$.</p>
                 <ul>
                     <li>Est-elle dérivable sur $\mathbb{R}^{++}$? Oui, $f'(x) = a/x$.</li>
                     <li>Vérifie-t-elle (E') ? Pour tous $x, y \in \mathbb{R}^{++}$ :
                     $f(xy) = a \ln(xy) = a(\ln x + \ln y) = a \ln x + a \ln y$.
                     $f(x)+f(y) = a \ln x + a \ln y$.
                     Oui, $f(xy)=f(x)+f(y)$.</li>
                 </ul>
                 <p>Donc, les fonctions de la forme $f(x)=a \ln(x)$ (proportionnelles au logarithme népérien) sont bien les solutions dérivables de l'équation (E').</p>
            </div>
        </div>

         <div class="exercise" id="ex23">
            <h3>Exercice 23 <span class="notation">(3)</span></h3>
            <p>On se propose de déterminer les fonctions $f: \mathbb{R} \to \mathbb{R}$ deux fois dérivables sur $\mathbb{R}$ et telles que :</p>
            $$
            \forall(x, y) \in \mathbb{R}^{2}, \quad f(x+y)+f(x-y)=2(f(x)+f(y)) \quad (E'')
            $$
            <p>Dans a) et b), $f$ est une fonction solution.</p>
            <p>a) Calculer $f(0)$. Montrer que $f$ est paire.</p>
            <p>b) Montrer que $f^{\prime \prime}$ est constante.</p>
            <p>c) Conclure.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol23')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol23">
                <p><strong>Solution :</strong></p>
                 <p>a) <strong>Calcul de $f(0)$ :</strong> Prenons $x=0, y=0$ dans (E'').
                 $f(0+0) + f(0-0) = 2(f(0)+f(0))$
                 $f(0) + f(0) = 2(2f(0))$
                 $2 f(0) = 4 f(0)$
                 $2 f(0) = 0$, donc $f(0)=0$.</p>
                 <p><strong>Parité de $f$ :</strong> Prenons $x=0$ dans (E'').
                 $f(0+y) + f(0-y) = 2(f(0)+f(y))$
                 $f(y) + f(-y) = 2(0 + f(y)) = 2f(y)$
                 $f(-y) = 2f(y) - f(y) = f(y)$ pour tout $y \in \mathbb{R}$.
                 Donc $f$ est paire.</p>

                 <p>b) Comme $f$ est deux fois dérivable, on peut dériver (E'') par rapport à $y$ deux fois (en considérant $x$ comme constant).</p>
                 <p>Dérivons une première fois par rapport à $y$ :</p>
                 $$ \frac{d}{dy}(f(x+y)+f(x-y)) = \frac{d}{dy}(2f(x)+2f(y)) $$
                 $$ f'(x+y) \cdot 1 + f'(x-y) \cdot (-1) = 0 + 2f'(y) $$
                 $$ (1) \quad f'(x+y) - f'(x-y) = 2f'(y) $$
                 <p>Dérivons une seconde fois par rapport à $y$ :</p>
                 $$ \frac{d}{dy}(f'(x+y) - f'(x-y)) = \frac{d}{dy}(2f'(y)) $$
                 $$ f''(x+y) \cdot 1 - f''(x-y) \cdot (-1) = 2f''(y) $$
                 $$ (2) \quad f''(x+y) + f''(x-y) = 2f''(y) $$
                 <p>Maintenant, dérivons (E'') deux fois par rapport à $x$ (en considérant $y$ comme constant).</p>
                 <p>Première dérivée par rapport à $x$ :</p>
                 $$ f'(x+y) \cdot 1 + f'(x-y) \cdot 1 = 2f'(x) + 0 $$
                 $$ (3) \quad f'(x+y) + f'(x-y) = 2f'(x) $$
                 <p>Seconde dérivée par rapport à $x$ :</p>
                  $$ f''(x+y) \cdot 1 + f''(x-y) \cdot 1 = 2f''(x) + 0 $$
                 $$ (4) \quad f''(x+y) + f''(x-y) = 2f''(x) $$
                 <p>En comparant les équations (2) et (4), on obtient :</p>
                 $$ 2f''(y) = 2f''(x) $$
                 $$ f''(y) = f''(x) \quad \text{pour tous } x, y \in \mathbb{R} $$
                 <p>Cela signifie que la fonction $f''$ est constante. Soit $f''(x) = A$ pour une certaine constante $A \in \mathbb{R}$.</p>

                 <p>c) Si $f''(x)=A$ (constante), alors en intégrant deux fois :</p>
                 <p>$f'(x) = Ax + B$ pour une constante $B$.</p>
                 <p>$f(x) = A \frac{x^2}{2} + Bx + C$ pour une constante $C$.</p>
                 <p>La fonction $f$ est un polynôme de degré au plus 2.</p>
                 <p>Utilisons les informations de a) : $f(0)=0$ et $f$ est paire.</p>
                 <p>$f(0)=0 \implies A(0)/2 + B(0) + C = 0 \implies C=0$. Donc $f(x) = \frac{A}{2}x^2 + Bx$.</p>
                 <p>$f$ est paire $\implies f(-x)=f(x)$ for all $x$.</p>
                 <p>$f(-x) = \frac{A}{2}(-x)^2 + B(-x) = \frac{A}{2}x^2 - Bx$.</p>
                 <p>$f(x) = \frac{A}{2}x^2 + Bx$.</p>
                 <p>Pour que $f(-x)=f(x)$, il faut $\frac{A}{2}x^2 - Bx = \frac{A}{2}x^2 + Bx$, ce qui donne $-Bx=Bx$ pour tout $x$. Cela implique $2Bx=0$ pour tout $x$. Donc $B=0$.</p>
                 <p>Finalement, $f$ doit être de la forme $f(x) = \frac{A}{2}x^2$. Posons $a = A/2$. Alors $f(x)=ax^2$.</p>

                 <p><strong>Synthèse.</strong> Vérifions si les fonctions $f(x)=ax^2$ (avec $a \in \mathbb{R}$) sont solutions.</p>
                 <p>Ces fonctions sont bien deux fois dérivables ($f''(x)=2a$).</p>
                 <p>Vérifions (E'') :</p>
                 <p>Membre gauche : $f(x+y)+f(x-y) = a(x+y)^2 + a(x-y)^2 = a(x^2+2xy+y^2) + a(x^2-2xy+y^2) = a(2x^2+2y^2) = 2a(x^2+y^2)$.</p>
                 <p>Membre droit : $2(f(x)+f(y)) = 2(ax^2+ay^2) = 2a(x^2+y^2)$.</p>
                 <p>Les deux membres sont égaux.</p>
                 <p>Conclusion : Les solutions sont les fonctions de la forme $f(x)=ax^2$ où $a$ est une constante réelle quelconque.</p>
             </div>
        </div>

         <div class="exercise" id="ex24">
             <h3>Exercice 24 <span class="notation">(4)</span> Caractérisation des fonctions linéaire, suite <span class="symbole-important">*</span></h3>
             <p>Dans cet exercice, $f$ est une fonction continue de $\mathbb{R}$ dans $\mathbb{R}$ telle que</p>
            $$
            \forall(x, y) \in \mathbb{R}^{2}, \quad f(x+y)=f(x)+f(y) \quad (E)
            $$
            <p>a) Calculer $f(0)$ et montrer que $f$ est impaire.</p>
            <p>b) Pour $n \in \mathbb{N}$ et $x \in \mathbb{R}$, calculer $f(n x)$ en fonction de $n$ et $f(x)$.</p>
            <p>c) Soit $a=f(1)$. Montrer que $\forall q \in \mathbb{Q}, \quad f(q)=a q$.</p>
            <p>d) Expliquer pourquoi tout nombre réel est limite d'une suite de nombres rationnels.</p>
            <p>e) En utilisant la continuité de $f$, conclure que $\forall x \in \mathbb{R}, \quad f(x)=a x$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol24')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol24">
                 <p><strong>Solution :</strong></p>
                 <p>a) <strong>f(0) :</strong> Prendre $x=0, y=0$ dans (E). $f(0+0)=f(0)+f(0) \implies f(0)=2f(0) \implies f(0)=0$.</p>
                 <p><strong>Imparité :</strong> Prendre $y=-x$ dans (E). $f(x+(-x)) = f(x) + f(-x)$.
                 $f(0) = f(x) + f(-x)$.
                 Comme $f(0)=0$, on a $0 = f(x) + f(-x)$, soit $f(-x) = -f(x)$. $f$ est impaire.</p>

                 <p>b) On montre par récurrence sur $n \in \mathbb{N}$ que $f(nx) = n f(x)$.
                 Soit $\mathcal{P}_n$ l'assertion $f(nx) = n f(x)$.
                 <em>Initialisation ($n=0$) :</em> $f(0x)=f(0)=0$. $0 f(x) = 0$. $\mathcal{P}_0$ est vraie.
                 <em>Hérédité :</em> Supposons $\mathcal{P}_n$ vraie pour un $n \ge 0$.
                 $f((n+1)x) = f(nx + x) = f(nx) + f(x)$ (par (E)).
                 Par $\mathcal{P}_n$, $f(nx)=n f(x)$. Donc $f((n+1)x) = n f(x) + f(x) = (n+1) f(x)$.
                 $\mathcal{P}_{n+1}$ est vraie.
                 <em>Conclusion :</em> $f(nx)=nf(x)$ pour tout $n \in \mathbb{N}$.</p>
                 <p>Maintenant, pour $n \in \mathbb{Z}$ négatif. Soit $n=-m$ avec $m \in \mathbb{N}^*$.
                 $f(nx) = f(-mx)$. Comme $f$ est impaire, $f(-mx) = -f(mx)$.
                 Comme $m \in \mathbb{N}$, $f(mx) = m f(x)$.
                 Donc $f(nx) = -m f(x) = n f(x)$.
                 La formule $f(nx)=nf(x)$ est vraie pour tout $n \in \mathbb{Z}$.</p>

                 <p>c) Soit $q \in \mathbb{Q}$. On peut écrire $q = p/r$ avec $p \in \mathbb{Z}$ et $r \in \mathbb{N}^*$.
                 On veut montrer $f(q) = a q = f(1) q$.
                 Considérons $f(r q) = f(r \cdot (p/r)) = f(p)$.
                 D'après b), $f(r q) = r f(q)$.
                 D'après b), $f(p) = f(p \cdot 1) = p f(1) = p a$.
                 Donc $r f(q) = p a$.
                 Comme $r \in \mathbb{N}^*$, $r \neq 0$. On peut diviser par $r$ :
                 $f(q) = \frac{p}{r} a = q a$.
                 Donc $f(q)=aq$ pour tout $q \in \mathbb{Q}$.</p>

                 <p>d) Tout nombre réel $x$ est limite d'une suite de nombres rationnels. C'est une propriété fondamentale de $\mathbb{R}$, qui exprime la densité de $\mathbb{Q}$ dans $\mathbb{R}$. Par exemple, on peut prendre la suite des approximations décimales de $x$. Pour $n \in \mathbb{N}$, $q_n = \frac{\lfloor 10^n x \rfloor}{10^n}$ est une suite de rationnels telle que $q_n \le x < q_n + 10^{-n}$. Par le théorème des gendarmes, $q_n \to x$.</p>

                 <p>e) Soit $x \in \mathbb{R}$. D'après d), il existe une suite $(q_n)_{n \in \mathbb{N}}$ de nombres rationnels telle que $q_n \to x$ quand $n \to +\infty$.
                 Comme $f$ est continue sur $\mathbb{R}$, on a :
                 $$ \lim_{n \to +\infty} f(q_n) = f(\lim_{n \to +\infty} q_n) = f(x) $$
                 Mais pour chaque $n$, $q_n$ est rationnel. D'après c), $f(q_n) = a q_n$.
                 Donc $f(x) = \lim_{n \to +\infty} f(q_n) = \lim_{n \to +\infty} (a q_n)$.
                 Par propriété des limites, $\lim_{n \to +\infty} (a q_n) = a (\lim_{n \to +\infty} q_n) = a x$.
                 On a donc montré que $f(x) = ax$.
                 Ceci est vrai pour tout $x \in \mathbb{R}$.
                 Les solutions continues de (E) sont les fonctions linéaires $x \mapsto ax$.</p>
             </div>
        </div>
    </section>

</section>

<section id="chap2">
    <!-- Contenu du chapitre 2 avec la même structure : sections, exemples, remarques, exercices avec solutions cachées -->
    <!-- Je vais commencer le chapitre 2 pour montrer la structure -->

    <h2>2 Calculs algébriques</h2>
    <p>Les mathématiques actuelles reposent sur le formalisme du calcul algébrique (« littéral »), également utile en physique, et dont la mise au point a été très lente. On rappelle ici les techniques étudiées au lycée et on introduit les symboles $\sum$ et $\prod$. On insiste sur l'exemple très courant des sommes et produits télescopiques.</p>

    <section id="sec2-1">
        <h3>2.1 Généralités et rappels</h3>
        <p>Au delà des règles de calcul élémentaires (distributivité, calcul sur les puissances, les logarithmes...), il faut connaître par cœur les résultats suivants.</p>
        <ul>
            <li>Les identités remarquables : $(a+b)^{2}=a^2+2ab+b^2$, $(a-b)^{2}=a^2-2ab+b^2$, $(a+b)(a-b)=a^2-b^2$, $(a+b)^{3}=a^3+3a^2b+3ab^2+b^3$, $(a-b)^{3}=a^3-3a^2b+3ab^2-b^3$.</li>
            <li>La somme des $n$ premiers entiers :</li>
            $$
            1+2+\cdots+n=\frac{n(n+1)}{2}
            $$
            <p>à partir de laquelle on retrouve facilement la somme des $n+1$ premiers termes d'une suite arithmétique quelconque.</p>
            <li>La somme des $n+1$ premiers termes de la suite géométrique $\left(a^{k}\right)_{k \geq 0}$ pour $a \neq 1$ :</li>
            $$
            1+a+a^{2}+\cdots+a^{n}=\frac{a^{n+1}-1}{a-1} \quad (\text{ou } \frac{1-a^{n+1}}{1-a})
            $$
            <p>à partir de laquelle on retrouve facilement la somme des $n+1$ premiers termes d'une suite géométrique quelconque.</p>
            <li>La factorisation :</li>
            $$
            a^{n}-b^{n}=(a-b)\left(a^{n-1}+a^{n-2} b+\cdots+a b^{n-2}+b^{n-1}\right) = (a-b) \sum_{k=0}^{n-1} a^{n-1-k} b^k
            $$
            <p>qui est une conséquence simple de la formule précédente (prendre $x=b/a$ dans $\frac{1-x^n}{1-x}$). Noter que, si $n$ est impair, alors $(-1)^{n}=-1$ et on a également la factorisation :</p>
            $$
            a^{n}+b^{n}=a^{n}-(-b)^{n}=(a-(-b))\left(\sum_{k=0}^{n-1} a^{n-1-k} (-b)^k \right) = (a+b)\left(a^{n-1}-a^{n-2} b+\cdots-a b^{n-2}+b^{n-1}\right)
            $$
            <li>Pour le calcul avec les radicaux, il peut être utile d'utiliser la quantité conjuguée : par exemple, si $a$ et $b$ sont des nombres réels tels que $a+b\sqrt{2} \neq 0$ et $a^2-2b^2 \neq 0$, et si on veut écrire $x=\frac{1}{a+b \sqrt{2}}$ sous la forme $c+d \sqrt{2}$ avec $c$ et $d$ ayant la même nature (rationnels si $a,b$ le sont), on multiplie le numérateur et le dénominateur par $a-b \sqrt{2}$ (la quantité conjuguée) :</li>
            $$
            x=\frac{1}{a+b \sqrt{2}} \times \frac{a-b\sqrt{2}}{a-b\sqrt{2}} = \frac{a-b \sqrt{2}}{(a+b\sqrt{2})(a-b\sqrt{2})} = \frac{a-b\sqrt{2}}{a^2 - (b\sqrt{2})^2} = \frac{a-b\sqrt{2}}{a^{2}-2 b^{2}}
            $$
            $$
             x = \frac{a}{a^{2}-2 b^{2}} - \frac{b}{a^{2}-2 b^{2}} \sqrt{2}
            $$
            <p>Variante de la même idée : pour $x \in \mathbb{R}^{+}$, $\frac{1}{\sqrt{x+1}+\sqrt{x}} = \frac{1}{\sqrt{x+1}+\sqrt{x}} \times \frac{\sqrt{x+1}-\sqrt{x}}{\sqrt{x+1}-\sqrt{x}} = \frac{\sqrt{x+1}-\sqrt{x}}{(x+1)-x} = \sqrt{x+1}-\sqrt{x}$.</p>
        </ul>

        <div class="exercise" id="ex25">
             <h3>Exercice 25 <span class="notation">(1)</span></h3>
             <p>Si $a, b, c, d$ sont des nombres réels non nuls, simplifier les fractions</p>
            $$
            A=\frac{\frac{a}{b}}{\frac{c}{d}}, \quad B=\frac{\frac{a}{b}}{c}, \quad C=\frac{a}{\frac{b}{c}}
            $$
            <button class="solution-toggle" onclick="toggleSolution('sol25')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol25">
                <p><strong>Solution :</strong></p>
                <p>Rappel : Diviser par une fraction $\frac{u}{v}$ revient à multiplier par son inverse $\frac{v}{u}$. Diviser par $c$ revient à multiplier par $\frac{1}{c}$.</p>
                 $$ A=\frac{\frac{a}{b}}{\frac{c}{d}} = \frac{a}{b} \times \frac{d}{c} = \frac{ad}{bc} $$
                 $$ B=\frac{\frac{a}{b}}{c} = \frac{\frac{a}{b}}{\frac{c}{1}} = \frac{a}{b} \times \frac{1}{c} = \frac{a}{bc} $$
                 $$ C=\frac{a}{\frac{b}{c}} = \frac{\frac{a}{1}}{\frac{b}{c}} = \frac{a}{1} \times \frac{c}{b} = \frac{ac}{b} $$
            </div>
        </div>

        <!-- Ajouter les autres exercices de la section 2.1 ici -->
        <div class="exercise" id="ex26">
             <h3>Exercice 26 <span class="notation">(1)</span></h3>
              <p>a) Exprimer simplement $\ln (56)-\ln (7)+\ln (4)$.</p>
             <p>b) Montrer que $\ln (\sqrt{216})=\frac{3}{2} \ln (6)$.</p>
             <p>c) Écrire le plus simplement possible $\ln (49)+\ln (21)-\ln (3 \sqrt{7})$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol26')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol26">
                 <p><strong>Solution :</strong></p>
                 <p>a) $\ln (56)-\ln (7)+\ln (4) = \ln\left(\frac{56}{7}\right) + \ln(4) = \ln(8) + \ln(4) = \ln(8 \times 4) = \ln(32)$.
                 (Ou $\ln(2^3) + \ln(2^2) = 3\ln 2 + 2\ln 2 = 5\ln 2 = \ln(2^5)$).</p>
                 <p>b) $\ln (\sqrt{216}) = \frac{1}{2} \ln(216)$. On décompose 216. $216 = 6 \times 36 = 6 \times 6^2 = 6^3$.
                 Donc $\frac{1}{2} \ln(216) = \frac{1}{2} \ln(6^3) = \frac{1}{2} (3 \ln 6) = \frac{3}{2} \ln 6$.</p>
                 <p>c) $\ln (49)+\ln (21)-\ln (3 \sqrt{7}) = \ln(7^2) + \ln(3 \times 7) - \ln(3 \times 7^{1/2})$
                 $= 2\ln 7 + (\ln 3 + \ln 7) - (\ln 3 + \ln(7^{1/2}))$
                 $= 2\ln 7 + \ln 3 + \ln 7 - \ln 3 - \frac{1}{2}\ln 7$
                 $= (2+1 - 1/2) \ln 7 = (3 - 1/2) \ln 7 = \frac{5}{2} \ln 7 = \ln(7^{5/2}) = \ln(\sqrt{7^5}) = \ln(49\sqrt{7})$.</p>
             </div>
        </div>
        </div>

         <div class="exercise" id="ex27">
            <h3>Exercice 27 <span class="notation">(1)</span></h3>
             <p>Soient $n \in \mathbb{N}^{*}, a_{1}, \ldots, a_{n}$ des nombres réels, $b_{1}, \ldots, b_{n}$ des nombres réels non nuls. On suppose que tous les nombres $\frac{a_{i}}{b_{i}}, 1 \leq i \leq n$, sont égaux. Montrer que ces nombres sont également égaux à $\frac{a_{1}+\cdots+a_{n}}{b_{1}+\cdots+b_{n}}$ (en supposant $b_1+\dots+b_n \neq 0$).</p>
            <button class="solution-toggle" onclick="toggleSolution('sol27')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol27">
                 <p><strong>Solution :</strong></p>
                 <p>Soit $k$ la valeur commune des rapports $\frac{a_i}{b_i}$. Donc, pour tout $i \in \{1, \dots, n\}$, on a $\frac{a_i}{b_i} = k$.</p>
                 <p>Comme $b_i \neq 0$, cela équivaut à $a_i = k b_i$ pour tout $i$.</p>
                 <p>Considérons la somme des $a_i$ :</p>
                 $$ a_1 + \dots + a_n = k b_1 + \dots + k b_n = k (b_1 + \dots + b_n) $$
                 <p>Soit $S_a = a_1 + \dots + a_n$ et $S_b = b_1 + \dots + b_n$. On a $S_a = k S_b$.</p>
                 <p>On suppose que $S_b \neq 0$. Alors on peut diviser par $S_b$ :</p>
                 $$ \frac{S_a}{S_b} = k $$
                 <p>C'est-à-dire :</p>
                 $$ \frac{a_{1}+\cdots+a_{n}}{b_{1}+\cdots+b_{n}} = k $$
                 <p>Ce qui montre que ce rapport est égal à la valeur commune $k$ des rapports $\frac{a_i}{b_i}$.</p>
                 <p>Note : Cette propriété est souvent appelée propriété des proportions égales.</p>
             </div>
        </div>

        <div class="exercise" id="ex28">
             <h3>Exercice 28 <span class="notation">(1)</span></h3>
             <p>Montrer que $2 \sqrt{2+\sqrt{3}}=\sqrt{2}+\sqrt{6}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol28')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol28">
                 <p><strong>Solution :</strong></p>
                 <p>Les deux membres sont positifs. Il suffit donc de comparer leurs carrés.</p>
                 <p>Carré du membre de gauche : $(2 \sqrt{2+\sqrt{3}})^2 = 4 (2+\sqrt{3}) = 8 + 4\sqrt{3}$.</p>
                 <p>Carré du membre de droite : $(\sqrt{2}+\sqrt{6})^2 = (\sqrt{2})^2 + (\sqrt{6})^2 + 2\sqrt{2}\sqrt{6} = 2 + 6 + 2\sqrt{12}$.</p>
                 <p>$\sqrt{12} = \sqrt{4 \times 3} = \sqrt{4}\sqrt{3} = 2\sqrt{3}$.</p>
                 <p>Donc $(\sqrt{2}+\sqrt{6})^2 = 8 + 2(2\sqrt{3}) = 8 + 4\sqrt{3}$.</p>
                 <p>Les carrés sont égaux. Comme les nombres initiaux sont positifs, ils sont égaux.</p>
                 <p>Alternative (formule $\sqrt{A+\sqrt{B}}$) : On cherche à écrire $2+\sqrt{3}$ sous la forme $(\alpha+\beta)^2$.
                 $\sqrt{2+\sqrt{3}} = \sqrt{\frac{4+2\sqrt{3}}{2}} = \frac{\sqrt{4+2\sqrt{3}}}{\sqrt{2}}$.
                 $4+2\sqrt{3} = 3+1+2\sqrt{3} = (\sqrt{3})^2 + 1^2 + 2\sqrt{3}\cdot 1 = (\sqrt{3}+1)^2$.
                 Donc $\sqrt{4+2\sqrt{3}} = \sqrt{(\sqrt{3}+1)^2} = \sqrt{3}+1$.
                 Alors $\sqrt{2+\sqrt{3}} = \frac{\sqrt{3}+1}{\sqrt{2}}$.
                 $2 \sqrt{2+\sqrt{3}} = 2 \frac{\sqrt{3}+1}{\sqrt{2}} = \sqrt{2}(\sqrt{3}+1) = \sqrt{6}+\sqrt{2}$. C'est bien l'égalité cherchée.</p>
             </div>
        </div>

        <div class="exercise" id="ex29">
             <h3>Exercice 29 <span class="notation">(1)</span></h3>
             <p>Soit $\mathbb{K}$ l'ensemble des nombres réels de la forme $a+b \sqrt{2}$ avec $(a, b) \in \mathbb{Q}^{2}$. Montrer que, si $x$ et $y$ sont dans $\mathbb{K}$, il en est de même de $x-y, x y$ et, si $x \neq 0$, de $\frac{1}{x}$. (On dit que $\mathbb{K}$ est un sous-corps de $\mathbb{R}$).</p>
            <button class="solution-toggle" onclick="toggleSolution('sol29')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol29">
                 <p><strong>Solution :</strong></p>
                 <p>Soient $x, y \in \mathbb{K}$. Alors $x = a+b\sqrt{2}$ et $y = c+d\sqrt{2}$ avec $a,b,c,d \in \mathbb{Q}$.</p>
                 <p><strong>Différence $x-y$ :</strong></p>
                 $$ x-y = (a+b\sqrt{2}) - (c+d\sqrt{2}) = (a-c) + (b-d)\sqrt{2} $$
                 <p>Comme $a,b,c,d \in \mathbb{Q}$, $a-c \in \mathbb{Q}$ et $b-d \in \mathbb{Q}$. Donc $x-y$ est de la forme $a'+b'\sqrt{2}$ avec $a', b' \in \mathbb{Q}$. Ainsi, $x-y \in \mathbb{K}$.</p>
                 <p><strong>Produit $xy$ :</strong></p>
                 $$ xy = (a+b\sqrt{2})(c+d\sqrt{2}) = ac + ad\sqrt{2} + bc\sqrt{2} + bd(\sqrt{2})^2 $$
                 $$ = ac + bd(2) + (ad+bc)\sqrt{2} $$
                 $$ = (ac+2bd) + (ad+bc)\sqrt{2} $$
                 <p>Comme $a,b,c,d \in \mathbb{Q}$, $ac+2bd \in \mathbb{Q}$ et $ad+bc \in \mathbb{Q}$ (car $\mathbb{Q}$ est stable par addition et multiplication). Donc $xy$ est de la forme $a'+b'\sqrt{2}$ avec $a', b' \in \mathbb{Q}$. Ainsi, $xy \in \mathbb{K}$.</p>
                 <p><strong>Inverse $1/x$ (si $x \neq 0$) :</strong></p>
                 <p>Soit $x = a+b\sqrt{2} \in \mathbb{K}$ avec $x \neq 0$. Si $x=0$, alors $a+b\sqrt{2}=0$. D'après l'exercice 17 (unicité de l'écriture), cela implique $a=0$ et $b=0$. Donc $x \neq 0$ signifie que $(a,b) \neq (0,0)$.</p>
                 <p>Calculons $\frac{1}{x} = \frac{1}{a+b\sqrt{2}}$. On utilise la quantité conjuguée $a-b\sqrt{2}$ :</p>
                 $$ \frac{1}{a+b\sqrt{2}} = \frac{a-b\sqrt{2}}{(a+b\sqrt{2})(a-b\sqrt{2})} = \frac{a-b\sqrt{2}}{a^2 - (b\sqrt{2})^2} = \frac{a-b\sqrt{2}}{a^2 - 2b^2} $$
                 <p>Le dénominateur $N = a^2-2b^2$ est un nombre rationnel. Est-il non nul ?</p>
                 <p>Si $a^2-2b^2 = 0$, alors $a^2 = 2b^2$.
                 Si $b \neq 0$, alors $2 = a^2/b^2 = (a/b)^2$. Comme $a,b \in \mathbb{Q}$ et $b \neq 0$, $a/b \in \mathbb{Q}$. Cela signifierait que $\sqrt{2} = |a/b|$ est rationnel, ce qui est faux. Donc on doit avoir $b=0$.
                 Si $b=0$, alors $a^2 = 2(0)^2 = 0$, donc $a=0$.
                 Ainsi, $a^2-2b^2=0$ si et seulement si $a=0$ et $b=0$, c'est-à-dire $x=0$.
                 Comme on a supposé $x \neq 0$, le dénominateur $N = a^2-2b^2$ est un rationnel non nul.</p>
                 <p>On peut écrire :</p>
                 $$ \frac{1}{x} = \frac{a}{a^2-2b^2} + \frac{-b}{a^2-2b^2} \sqrt{2} $$
                 <p>Soit $a' = \frac{a}{a^2-2b^2}$ et $b' = \frac{-b}{a^2-2b^2}$. Comme $a, b \in \mathbb{Q}$ et $a^2-2b^2 \in \mathbb{Q}^*$, on a $a' \in \mathbb{Q}$ et $b' \in \mathbb{Q}$.</p>
                 <p>Donc $\frac{1}{x}$ est de la forme $a'+b'\sqrt{2}$ avec $a', b' \in \mathbb{Q}$. Ainsi, $\frac{1}{x} \in \mathbb{K}$.</p>
             </div>
        </div>

        <!-- Terminer la section 2.1 et continuer avec les autres sections/chapitres -->
        <!-- Ajouter Ex 30 à 35 ici -->

    </section>

    <section id="sec2-2">
        <h3>2.2 Le symbole $\sum$</h3>
         <p>La somme des nombres (réels ou complexes) $a_{1}, \ldots, a_{n}$ est notée :</p>
        $$
        \text { (1) } \quad a_{1}+\cdots+a_{n}
        $$
        <p>ou, d'une manière plus compacte et dénuée de toute ambiguïté :</p>
        $$
        \text { (2) } \quad \sum_{k=1}^{n} a_{k}
        $$
        <p>On définit plus généralement, pour $m$ entier de $\{1, \ldots, n\}$ :</p>
        $$
        \text{(3)} \quad \sum_{k=m}^{n} a_{k}=a_{m}+\cdots+a_{n}
        $$
        <p>Cette somme comporte $n-m+1$ termes.</p>
        <p>Dans les expressions (2) et (3), la lettre $k$, appelée <strong>indice</strong>, est une variable <strong>muette</strong>, ce qui signifie que l'on peut changer son nom sans changer la somme : la somme (1) peut être notée $\sum_{i=1}^{n} a_{i}$ ou $\sum_{j=1}^{n} a_{j}$, etc.</p>
        <p>C'est la même situation qu'en intégration. En effet, dans l'écriture $\int_{a}^{b} f(t) \mathrm{d} t$, la variable $t$ est muette. La sommation est d'ailleurs la version « discrète » de l'intégration.</p>
        <p>Les notations ont une importance centrale en mathématiques ; il suffit pour s'en convaincre d'essayer de faire une multiplication en chiffres romains. Le symbole $\sum$ et la notation indexée ont représenté un très grand progrès pour noter efficacement des sommes de longueur arbitraire et il est nécessaire de s'y habituer rapidement. Cependant, il ne faut pas hésiter à revenir à une écriture du type (1) en cas de besoin : pour un calcul non immédiat, il est souvent préférable de calculer, au moins au brouillon, avec des points de suspension.</p>

        <div class="example">
            <h4>Exemples</h4>
            <ol>
                <li>
                    <p><strong>Un exemple trivial</strong></p>
                    <p>La somme $\sum_{k=0}^{n} 3$ comporte $n-0+1 = n+1$ termes, tous égaux à 3. Elle vaut donc $3 \times (n+1) = 3(n+1)$.</p>
                </li>
                 <li>
                    <p><strong>Linéarité de la somme</strong></p>
                    <p>Si $\left(a_{k}\right)_{1 \leq k \leq n}$ et $\left(b_{k}\right)_{1 \leq k \leq n}$ sont deux suites finies de nombres complexes, si $\lambda$ et $\mu$ sont deux nombres complexes, alors :</p>
                    $$
                    \sum_{k=1}^{n}\left(\lambda a_{k}+\mu b_{k}\right)=\lambda \sum_{k=1}^{n} a_{k}+\mu \sum_{k=1}^{n} b_{k}
                    $$
                    <p>En effet, le membre de gauche vaut $(\lambda a_{1}+\mu b_{1})+\cdots+(\lambda a_{n}+\mu b_{n})$. En regroupant les termes :</p>
                     $$ = (\lambda a_1 + \dots + \lambda a_n) + (\mu b_1 + \dots + \mu b_n) $$
                     $$ = \lambda(a_{1}+\cdots+a_{n})+\mu(b_{1}+\cdots+b_{n}) = \lambda \sum_{k=1}^{n} a_{k}+\mu \sum_{k=1}^{n} b_{k} $$
                    <p>Cette propriété simple, d'usage constant, est appelée <strong>linéarité de la somme</strong>.</p>
                </li>
                 <li>
                    <p><strong>Progressions arithmétiques</strong></p>
                    <p>La formule $1+2+\cdots+n=\frac{n(n+1)}{2}$ se réécrit $\sum_{k=1}^{n} k=\frac{n(n+1)}{2}$.</p>
                </li>
                <li>
                    <p><strong>Progressions géométriques</strong></p>
                    <p>La formule donnant la somme d'une progression géométrique se réécrit :</p>
                    $$
                    \sum_{k=0}^{n} a^{k}=\frac{a^{n+1}-1}{a-1} \quad (\text{pour } a \in \mathbb{C}, a \neq 1, n \in \mathbb{N})
                    $$
                </li>
                 <li>
                    <p><strong>Nombres harmoniques</strong></p>
                    <p>Pour $n$ dans $\mathbb{N}^{*}$, on définit le $n$-ième nombre harmonique $H_{n}$ par :</p>
                    $$
                    H_{n}=\sum_{k=1}^{n} \frac{1}{k} = 1 + \frac{1}{2} + \dots + \frac{1}{n}
                    $$
                    <p>Les nombres $H_{n}$ interviennent très fréquemment en mathématiques. On ne dispose pas de formule simple « non sommatoire » pour $H_{n}$. Mais nous verrons dans le paragraphe <a href="#sec8-9">8.9</a> comment estimer $H_{n}$ en comparant la somme à une intégrale.</p>
                </li>
            </ol>
        </div>

         <!-- Ajouter les exercices 36 à 44 ici -->

    </section>

    <section id="sec2-3">
        <div class="complement">
            <h3>2.3 Complément : sommes télescopiques</h3>
             <p>En général, une somme ne peut pas s'exprimer de façon simple. Les cas où une simplification est possible n'en sont que plus précieux. Une situation intéressante est celle des <strong>sommes télescopiques</strong>. Soient $\left(a_{n}\right)_{n \geq 0}$ et $\left(b_{n}\right)_{n \geq m}$ deux suites (réelles ou complexes) telles que :</p>
            $$
            \forall k \ge m, \quad a_{k}=b_{k+1}-b_{k}
            $$
            <p>On a alors pour $n \ge m$ :</p>
            $$
            \sum_{k=m}^{n} a_{k} = \sum_{k=m}^{n} (b_{k+1}-b_{k}) = (b_{m+1}-b_{m})+(b_{m+2}-b_{m+1})+\cdots+(b_{n+1}-b_{n})
            $$
            <p>Les termes $b_{m+1}, b_{m+2}, \ldots, b_{n}$ se simplifient deux à deux (le $+b_{k+1}$ d'un terme annule le $-b_{k+1}$ du terme suivant). Il reste la formule suivante :</p>
            $$
            \sum_{k=m}^{n} (b_{k+1}-b_{k}) = b_{n+1}-b_{m}
            $$
            <p>Cette formule est très utile. On peut évidemment la démontrer par récurrence sur $n \ge m$.</p>
            <p>Cas particulier fréquent : $m=0$.</p>
            $$
            \forall n \in \mathbb{N}, \quad \sum_{k=0}^{n}\left(b_{k+1}-b_{k}\right)=b_{n+1}-b_{0}
            $$

            <div class="example">
                 <h4>Exemples</h4>
                 <ol>
                     <li>
                        <p><strong>Somme d'une progression arithmétique par télescopage</strong></p>
                        <p>On a $\forall k \in \mathbb{N}, \quad(k+1)^{2}-k^{2}= (k^2+2k+1) - k^2 = 2 k+1$.</p>
                        <p>Soit $n \in \mathbb{N}$. En sommant ces égalités pour $k$ de 0 à $n$ (on prend $m=0$) :</p>
                        $$ \sum_{k=0}^{n} ((k+1)^2 - k^2) = (n+1)^2 - 0^2 = (n+1)^2 $$
                        <p>D'un autre côté, $\sum_{k=0}^{n} ((k+1)^2 - k^2) = \sum_{k=0}^{n} (2k+1)$.</p>
                        <p>Donc $\sum_{k=0}^{n} (2k+1) = (n+1)^2$.</p>
                        <p>Par linéarité : $\sum_{k=0}^{n} 2k + \sum_{k=0}^{n} 1 = (n+1)^2$.</p>
                        <p>$\sum_{k=0}^{n} 1 = n+1$. Donc $2 \sum_{k=0}^{n} k + (n+1) = (n+1)^2$.</p>
                        <p>$2 \sum_{k=0}^{n} k = (n+1)^2 - (n+1) = (n+1)(n+1-1) = n(n+1)$.</p>
                        <p>$\sum_{k=0}^{n} k = \frac{n(n+1)}{2}$. Comme le terme pour $k=0$ est nul, c'est aussi $\sum_{k=1}^{n} k = \frac{n(n+1)}{2}$. On retrouve la formule connue.</p>
                     </li>
                     <li>
                        <p><strong>Une somme télescopique classique</strong></p>
                        <p>Pour $x \in \mathbb{R} \setminus \{0, -1\}$, on a $\frac{1}{x} - \frac{1}{x+1} = \frac{(x+1)-x}{x(x+1)} = \frac{1}{x(x+1)}$.</p>
                        <p>Donc, $\forall k \in \mathbb{N}^*$, $\frac{1}{k(k+1)} = \frac{1}{k} - \frac{1}{k+1}$.</p>
                        <p>Soit $b_k = -1/k$. Alors $b_{k+1}-b_k = -\frac{1}{k+1} - (-\frac{1}{k}) = \frac{1}{k} - \frac{1}{k+1}$.</p>
                         <p>Par télescopage, pour $n$ entier $\geq 1$ (ici $m=1$) :</p>
                        $$
                        \sum_{k=1}^{n} \frac{1}{k(k+1)} = \sum_{k=1}^{n} \left(\frac{1}{k} - \frac{1}{k+1}\right) = \sum_{k=1}^{n} (b_k - b_{k+1}) = -(b_{n+1}-b_1) = b_1 - b_{n+1}
                        $$
                         <p>Avec $b_k' = 1/k$, on a $a_k = b_k' - b_{k+1}'$. $\sum_{k=1}^n a_k = b_1' - b_{n+1}'$.</p>
                         <p>Donc $\sum_{k=1}^{n} \frac{1}{k(k+1)} = \frac{1}{1} - \frac{1}{n+1} = 1 - \frac{1}{n+1}$.</p>
                        <p>En particulier, $\sum_{k=1}^{n} \frac{1}{k(k+1)} \underset{n \rightarrow+\infty}{\longrightarrow} 1$.</p>
                        <div class="remarque">
                             <p>La décomposition des fractions rationnelles en éléments simples étudiée en CPGE est une généralisation puissante de cette identité.</p>
                         </div>
                         <p>Nous allons profiter de l'occasion pour retrouver la majoration vérifiée par récurrence dans l'exemple 2 de <a href="#sec1-2">1.2</a>. Soit $n$ un entier $\geq 2$. On a :</p>
                        $$ \sum_{k=1}^{n} \frac{1}{k^{2}} = 1+\sum_{k=2}^{n} \frac{1}{k^{2}} $$
                         <p>Or, pour $k \geq 2$ : $k^2 > k(k-1)$ (car $k>k-1>0$). Donc $\frac{1}{k^{2}} < \frac{1}{k(k-1)}$.</p>
                        <p>Par suite :</p>
                        $$ \sum_{k=2}^{n} \frac{1}{k^{2}} < \sum_{k=2}^{n} \frac{1}{k(k-1)} $$
                         <p>Calculons cette somme télescopique : $\frac{1}{k(k-1)} = \frac{1}{k-1} - \frac{1}{k}$.</p>
                         $$ \sum_{k=2}^{n} \left(\frac{1}{k-1} - \frac{1}{k}\right) = \left(\frac{1}{1} - \frac{1}{2}\right) + \left(\frac{1}{2} - \frac{1}{3}\right) + \dots + \left(\frac{1}{n-1} - \frac{1}{n}\right) = \frac{1}{1} - \frac{1}{n} = 1 - \frac{1}{n} $$
                         <p>Donc $\sum_{k=2}^{n} \frac{1}{k^{2}} < 1 - \frac{1}{n}$.</p>
                        <p>Alors : $\sum_{k=1}^{n} \frac{1}{k^{2}} = 1 + \sum_{k=2}^{n} \frac{1}{k^{2}} < 1 + \left(1-\frac{1}{n}\right) = 2 - \frac{1}{n}$.</p>
                         <p>On retrouve la majoration : $\sum_{k=1}^{n} \frac{1}{k^{2}} < 2-\frac{1}{n}$. (L'inégalité est même stricte pour $n \ge 2$).</p>
                    </li>
                </ol>
            </div>

             <!-- Ajouter les exercices 45 à 52 ici -->
             <!-- Ajouter Remarque sur somme des puissances p-ièmes -->
        </div>
    </section>

    <section id="sec2-4">
         <h3>2.4 Le symbole $\prod$</h3>
         <p>Le produit des nombres (réels ou complexes) $a_{1}, \ldots, a_{n}$ est noté soit :</p>
        $$
        \text { (1) } \quad a_{1} \times \cdots \times a_{n}=a_{1} \dots a_{n}
        $$
        <p>soit, de manière plus compacte :</p>
        $$
        \prod_{k=1}^{n} a_{k}
        $$
        <p>Ici encore, la lettre $k$ est appelée indice et est une variable <strong>muette</strong>. Les commentaires relatifs à la somme $\sum$ s'adaptent immédiatement (indices, nombre de termes, etc.). Par exemple, pour $m \le n$, $\prod_{k=m}^{n} a_k = a_m \times \dots \times a_n$.</p>

        <div class="example">
            <h4>Exemples</h4>
            <ol>
                 <li>
                    <p><strong>Deux exemples faciles</strong></p>
                    <p>a) Pour $n \in \mathbb{N}, n \geq 3$, le produit $\prod_{k=3}^{n}(-5)$ comporte $n-3+1=n-2$ facteurs, tous égaux à -5. Il vaut donc $(-5)^{n-2}$.</p>
                    <p>b) Si $n$ est dans $\mathbb{N}^{*}$, on a (en utilisant $\prod x^k = x^{\sum k}$):</p>
                    $$
                    \prod_{k=1}^{n} 2^{k}=2^{1} \times 2^{2} \times \cdots \times 2^{n} = 2^{1+2+\cdots+n}=2^{\frac{n(n+1)}{2}}
                    $$
                </li>
                 <li>
                    <p><strong>Produit des nombres pairs entre 2 et $2 n$</strong></p>
                    <p>Pour $n$ dans $\mathbb{N}^{*}$, on considère le produit $P_{n}$ des nombres pairs compris entre 2 et $2 n$ :</p>
                    $$
                    P_{n}=\prod_{k=1}^{n}(2 k) = (2 \times 1) \times (2 \times 2) \times \cdots \times (2 \times n)
                    $$
                    <p>On peut regrouper les facteurs 2 :</p>
                    $$
                    P_{n}=(2 \times 2 \times \cdots \times 2) \times(1 \times 2 \times 3 \times \cdots \times n)
                    $$
                    <p>Il y a $n$ facteurs 2 dans la première parenthèse. Ainsi :</p>
                    $$
                    P_{n}=2^{n} n!
                    $$
                    <p>Il est alors facile, pour $n$ dans $\mathbb{N}^{*}$, de calculer le produit $Q_{n}$ des nombres impairs compris entre 1 et $2 n+1$. C'est $Q_n = 1 \times 3 \times 5 \times \dots \times (2n+1)$.</p>
                    <p>On observe que le produit de tous les entiers de 1 à $2n+1$ est $(2n+1)!$. Ce produit peut être séparé en produit des pairs et produit des impairs :</p>
                    <p>$(2n+1)! = (2 \times 4 \times \dots \times 2n) \times (1 \times 3 \times \dots \times (2n+1)) = P'_n \times Q_n$ (attention, $P'_n$ va jusqu'à $2n$).</p>
                    <p>Le produit des pairs jusqu'à $2n$ est $P'_n = \prod_{k=1}^{n}(2k) = 2^n n!$.</p>
                     <p>Donc $(2n+1)! = (2^n n!) \times Q_n$. En isolant $Q_n$ :</p>
                    $$
                    Q_{n}=\frac{(2 n+1)!}{2^{n} n!}
                    $$
                </li>
                <li>
                    <p><strong>Produits télescopiques</strong></p>
                    <p>Soient $\left(b_{n}\right)_{n \geq m}$ une suite de complexes non nuls. On considère le produit</p>
                     $$ P = \prod_{k=m}^{n} \frac{b_{k+1}}{b_{k}} \quad (\text{pour } n \ge m) $$
                    <p>En écrivant le produit :</p>
                    $$
                    P = \frac{b_{m+1}}{b_{m}} \times \frac{b_{m+2}}{b_{m+1}} \times \cdots \times \frac{b_{n+1}}{b_{n}}
                    $$
                    <p>Les termes $b_{m+1}, b_{m+2}, \ldots, b_{n}$ se simplifient deux à deux (le numérateur d'un terme avec le dénominateur du suivant). Il reste :</p>
                    $$
                    \prod_{k=m}^{n} \frac{b_{k+1}}{b_{k}} = \frac{b_{n+1}}{b_{m}}
                    $$
                    <p>En guise d'application, calculons, pour $n$ dans $\mathbb{N}^{*}$ :</p>
                    $$
                    P_{n}=\prod_{k=1}^{n} \frac{k+1}{k+2}
                    $$
                     <p>Ici, on peut poser $b_k = k+1$. Alors $\frac{b_{k+1}}{b_k} = \frac{k+2}{k+1}$. Ce n'est pas la forme $\frac{b_{k+1}}{b_k}$.</p>
                     <p>Posons plutôt $b_k = k+1$. Alors le terme du produit est $\frac{k+1}{k+2} = \frac{b_k}{b_{k+1}}$.
                     $$ P_n = \prod_{k=1}^{n} \frac{b_k}{b_{k+1}} = \frac{b_1}{b_2} \times \frac{b_2}{b_3} \times \dots \times \frac{b_n}{b_{n+1}} $$
                     <p>Par télescopage, il reste : $P_n = \frac{b_1}{b_{n+1}}$.</p>
                     <p>Comme $b_k = k+1$, $b_1 = 1+1=2$ et $b_{n+1} = (n+1)+1 = n+2$.</p>
                     <p>Par suite : $P_{n}=\frac{2}{n+2}$.</p>
                </li>
            </ol>
        </div>

         <!-- Ajouter les exercices 53 à 55 ici -->

    </section>

</section>

<section id="chap3">
538,5s
la suite

Thoughts
*The thoughts produced by the model are experimental
experiment















Expand to view model thoughts
7,3s
<!-- Suite du contenu du chapitre 2 -->
        <div class="exercise" id="ex30">
            <h3>Exercice 30 <span class="notation">(1)</span></h3>
             <p>Soient $x, y, z$ trois nombres réels. Vérifier que</p>
            $$
            (x+y+z)^{3}-\left(x^{3}+y^{3}+z^{3}\right)=3(x+y)(y+z)(z+x)
            $$
            <button class="solution-toggle" onclick="toggleSolution('sol30')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol30">
                <p><strong>Solution :</strong></p>
                <p>Développons le membre de gauche :
                $(x+y+z)^3 = ((x+y)+z)^3 = (x+y)^3 + 3(x+y)^2 z + 3(x+y)z^2 + z^3$
                $= (x^3+3x^2y+3xy^2+y^3) + 3(x^2+2xy+y^2)z + 3(x+y)z^2 + z^3$
                $= x^3+y^3+z^3 + 3x^2y+3xy^2 + 3x^2z+6xyz+3y^2z + 3xz^2+3yz^2$.
                </p>
                <p>Donc $(x+y+z)^3 - (x^3+y^3+z^3) = 3x^2y+3xy^2 + 3x^2z+3xz^2 + 3y^2z+3yz^2 + 6xyz$.</p>
                <p>Développons le membre de droite :
                $3(x+y)(y+z)(z+x) = 3(xy+xz+y^2+yz)(z+x)$
                $= 3(xyz + x^2y + xz^2 + x^2z + y^2z + xy^2 + yz^2 + xyz)$
                $= 3(x^2y+xy^2 + x^2z+xz^2 + y^2z+yz^2 + 2xyz)$
                $= 3x^2y+3xy^2 + 3x^2z+3xz^2 + 3y^2z+3yz^2 + 6xyz$.
                </p>
                <p>Les deux membres sont égaux.</p>
            </div>
        </div>

        <div class="exercise" id="ex31">
            <h3>Exercice 31 <span class="notation">(2)</span></h3>
             <p>Soit $n$ le produit de quatre éléments de $\mathbb{N}^{*}$ consécutifs. Montrer que $n+1$ est le carré d'un entier.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol31')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol31">
                <p><strong>Solution :</strong></p>
                <p>Soit $k \in \mathbb{N}^*$. Les quatre entiers consécutifs sont $k, k+1, k+2, k+3$.</p>
                <p>$n = k(k+1)(k+2)(k+3)$.</p>
                <p>Regroupons les facteurs astucieusement :</p>
                $$ n = [k(k+3)] [(k+1)(k+2)] $$
                $$ n = (k^2+3k) (k^2+3k+2) $$
                <p>Posons $X = k^2+3k$. Alors $n = X(X+2) = X^2 + 2X$.</p>
                <p>On nous demande de considérer $n+1$.</p>
                $$ n+1 = (X^2+2X) + 1 = X^2+2X+1 = (X+1)^2 $$
                <p>Donc $n+1$ est le carré de $X+1$.</p>
                <p>Comme $X=k^2+3k$, et $k \in \mathbb{N}^*$, $X$ est un entier naturel ($X \ge 1^2+3(1)=4$).</p>
                <p>$X+1 = k^2+3k+1$ est un entier naturel.</p>
                <p>Ainsi, $n+1$ est bien le carré d'un entier ($k^2+3k+1$).</p>
            </div>
        </div>

        <div class="exercise" id="ex32">
            <h3>Exercice 32 <span class="notation">(2)</span></h3>
             <p>Soient $x$ et $y$ deux nombres réels. En complétant un carré, donner une factorisation de $x^{4}+4 y^{4}$. (Identité de Sophie Germain).</p>
            <button class="solution-toggle" onclick="toggleSolution('sol32')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol32">
                <p><strong>Solution :</strong></p>
                <p>On veut factoriser $x^4 + 4y^4$. On essaie de faire apparaître un carré parfait.</p>
                <p>$x^4 + 4y^4 = (x^2)^2 + (2y^2)^2$.</p>
                <p>On sait que $(a+b)^2 = a^2+b^2+2ab$. Ici $a=x^2, b=2y^2$.</p>
                <p>$a^2+b^2 = (a+b)^2 - 2ab$.</p>
                $$ x^4 + 4y^4 = (x^2 + 2y^2)^2 - 2(x^2)(2y^2) $$
                $$ = (x^2 + 2y^2)^2 - 4x^2y^2 $$
                <p>On reconnaît une différence de deux carrés $A^2-B^2$ avec $A = x^2+2y^2$ and $B = \sqrt{4x^2y^2} = 2|xy|$. On prendra $B=2xy$ (le signe n'importe pas dans la factorisation $A^2-B^2 = (A-B)(A+B)$).</p>
                $$ x^4 + 4y^4 = ((x^2+2y^2) - 2xy) ((x^2+2y^2) + 2xy) $$
                $$ = (x^2 - 2xy + 2y^2) (x^2 + 2xy + 2y^2) $$
                <p>C'est la factorisation cherchée.</p>
                <p>Note : On aurait pu aussi utiliser $(a-b)^2 = a^2+b^2-2ab$, d'où $a^2+b^2 = (a-b)^2+2ab$.
                $x^4+4y^4 = (x^2-2y^2)^2 + 2(x^2)(2y^2) = (x^2-2y^2)^2 + 4x^2y^2$. Ce n'est pas une différence de carrés, ça ne mène pas à une factorisation simple avec cette approche.</p>
            </div>
        </div>

        <div class="exercise" id="ex33">
             <h3>Exercice 33 <span class="notation">(3)</span></h3>
             <p>Soit</p>
            $$
            a=\sqrt[3]{1+\sqrt{\frac{152}{27}}}-\sqrt[3]{-1+\sqrt{\frac{152}{27}}}
            $$
            <p>Montrer que $a^{3}+5 a$ est un nombre entier.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol33')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol33">
                 <p><strong>Solution :</strong></p>
                 <p>Posons $u = \sqrt[3]{1+\sqrt{\frac{152}{27}}}$ et $v = \sqrt[3]{-1+\sqrt{\frac{152}{27}}}$. Alors $a=u-v$.</p>
                 <p>On veut calculer $a^3 = (u-v)^3 = u^3 - v^3 - 3uv(u-v)$.</p>
                 <p>$u^3 = 1+\sqrt{\frac{152}{27}}$</p>
                 <p>$v^3 = -1+\sqrt{\frac{152}{27}}$</p>
                 <p>$u^3 - v^3 = (1+\sqrt{\frac{152}{27}}) - (-1+\sqrt{\frac{152}{27}}) = 1 - (-1) = 2$.</p>
                 <p>Calculons le produit $uv$:
                 $uv = \sqrt[3]{\left(1+\sqrt{\frac{152}{27}}\right) \left(-1+\sqrt{\frac{152}{27}}\right)}$
                 $= \sqrt[3]{\left(\sqrt{\frac{152}{27}}\right)^2 - 1^2}$ (Identité $(A+B)(B-A)=B^2-A^2$)
                 $= \sqrt[3]{\frac{152}{27} - 1} = \sqrt[3]{\frac{152 - 27}{27}} = \sqrt[3]{\frac{125}{27}}$
                 $= \frac{\sqrt[3]{125}}{\sqrt[3]{27}} = \frac{5}{3}$.</p>
                 <p>Maintenant, substituons dans l'expression de $a^3$:
                 $a^3 = (u^3 - v^3) - 3uv(u-v)$
                 $a^3 = 2 - 3 \left(\frac{5}{3}\right) a$
                 $a^3 = 2 - 5a$
                 </p>
                 <p>Donc $a^3 + 5a = 2$.</p>
                 <p>Comme 2 est un nombre entier, on a montré que $a^3+5a$ est un entier.</p>
                 <p>Note : Ceci est lié à la résolution de l'équation $x^3+5x-2=0$. $a$ est une racine réelle de cette équation (formule de Cardan).</p>
             </div>
        </div>

         <div class="exercise" id="ex34">
             <h3>Exercice 34 <span class="notation">(3)</span></h3>
             <p>Pour $(x, y, z) \in \mathbb{R}^{3}$, soit</p>
            $$
            E=x^{4}+y^{4}+z^{4}-2 x^{2} y^{2}-2 y^{2} z^{2}-2 z^{2} x^{2}
            $$
            <p>Factoriser $E$ en un produit de quatre facteurs.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol34')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol34">
                 <p><strong>Solution :</strong></p>
                 <p>On essaie de regrouper des termes pour faire apparaître des carrés.</p>
                 $$ E = x^4 + (y^4 - 2y^2z^2 + z^4) - 2x^2y^2 - 2x^2z^2 $$
                 $$ E = x^4 + (y^2-z^2)^2 - 2x^2(y^2+z^2) $$
                 <p>Cela ne semble pas simple. Essayons autrement.</p>
                 $$ E = (x^4 - 2x^2y^2 + y^4) - 2y^2z^2 - 2z^2x^2 + z^4 $$
                 $$ E = (x^2-y^2)^2 + z^4 - 2z^2(x^2+y^2) $$
                 <p>Autre idée : $A^2+B^2+C^2-2AB-2BC-2CA$? Non, ça ne ressemble pas.</p>
                 <p>Essayons de compléter le carré pour $(x^2+y^2+z^2)^2$ ou $(x^2+y^2-z^2)^2$.</p>
                 <p>$(x^2+y^2+z^2)^2 = x^4+y^4+z^4 + 2x^2y^2 + 2y^2z^2 + 2z^2x^2$.</p>
                 <p>$E = (x^2+y^2+z^2)^2 - 4x^2y^2 - 4y^2z^2 - 4z^2x^2$? Non.</p>
                 <p>$E = (x^4+y^4+z^4 + 2x^2y^2 + 2y^2z^2 + 2z^2x^2) - 4x^2y^2 - 4y^2z^2 - 4z^2x^2$. Non plus.</p>
                 <p>Comparons $E$ à $(x^2+y^2-z^2)^2 = x^4+y^4+z^4 + 2x^2y^2 - 2y^2z^2 - 2z^2x^2$.</p>
                 $$ E = (x^2+y^2-z^2)^2 - 4x^2y^2 $$
                 <p>C'est une différence de deux carrés $A^2-B^2$ avec $A=x^2+y^2-z^2$ et $B=2xy$.</p>
                 $$ E = (A-B)(A+B) = (x^2+y^2-z^2 - 2xy)(x^2+y^2-z^2 + 2xy) $$
                 $$ E = ((x^2-2xy+y^2) - z^2)((x^2+2xy+y^2) - z^2) $$
                 $$ E = ((x-y)^2 - z^2)((x+y)^2 - z^2) $$
                 <p>Chaque facteur est une différence de deux carrés.</p>
                 <p>$(x-y)^2 - z^2 = ((x-y)-z)((x-y)+z) = (x-y-z)(x-y+z)$.</p>
                 <p>$(x+y)^2 - z^2 = ((x+y)-z)((x+y)+z) = (x+y-z)(x+y+z)$.</p>
                 <p>Finalement,</p>
                 $$ E = (x-y-z)(x-y+z)(x+y-z)(x+y+z) $$
                 <p>C'est un produit de quatre facteurs linéaires.</p>
                 <p>Note: $E=0$ est l'équation d'une réunion de 4 plans dans $\mathbb{R}^3$. $E$ est aussi relié à la formule de Héron pour l'aire d'un triangle.</p>
             </div>
        </div>

         <div class="exercise" id="ex35">
             <h3>Exercice 35 <span class="notation">(4)</span></h3>
              <p>a) Pour $x \in \mathbb{R}$, calculer $(x+3)^{2}+x^{2}-(x+1)^{2}-(x+2)^{2}$.</p>
             <p>b) En déduire que, pour tout $x \in \mathbb{Z}$, il existe $m \in \mathbb{N}^{*}$ et $\left(\varepsilon_{1}, \ldots, \varepsilon_{m}\right) \in\{-1,1\}^{m}$ tel que</p>
            $$
            x=\sum_{i=1}^{m} \varepsilon_{i} i^{2}
            $$
            (Théorème de Lagrange sur la somme de quatre carrés est une autre question. Ceci est différent.)
            <button class="solution-toggle" onclick="toggleSolution('sol35')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol35">
                 <p><strong>Solution :</strong></p>
                 <p>a) Soit $E(x) = (x+3)^{2}+x^{2}-(x+1)^{2}-(x+2)^{2}$.</p>
                 <p>$E(x) = (x^2+6x+9) + x^2 - (x^2+2x+1) - (x^2+4x+4)$</p>
                 <p>$E(x) = (x^2+x^2-x^2-x^2) + (6x-2x-4x) + (9-1-4)$</p>
                 <p>$E(x) = 0 + 0 + (9-5) = 4$.</p>
                 <p>Donc, $(x+3)^{2}+x^{2}-(x+1)^{2}-(x+2)^{2} = 4$ pour tout $x \in \mathbb{R}$.</p>
                 <p>On peut réécrire cette identité comme :</p>
                 $$ 4 = (x+3)^2 - (x+2)^2 - (x+1)^2 + x^2 $$

                 <p>b) On veut montrer que tout entier $x$ est une somme de carrés d'entiers affectés de signes $\pm 1$.</p>
                 <p>D'après a), on peut obtenir 4 comme combinaison de 4 carrés consécutifs : $4 = 3^2 - 2^2 - 1^2 + 0^2$ (pour $x=0$). Ou $4 = 4^2-3^2-2^2+1^2$ (pour $x=1$).</p>
                 <p>L'identité $4 = (n+3)^2 - (n+2)^2 - (n+1)^2 + n^2$ permet de générer le nombre 4.</p>
                 <p>On peut obtenir $4k$ en sommant $k$ fois cette identité avec des carrés différents.</p>
                 <p>Par exemple, $8 = (4^2-3^2-2^2+1^2) + (8^2-7^2-6^2+5^2)$.</p>
                 <p>On peut générer n'importe quel multiple de 4 sous la forme $\sum \epsilon_i i^2$.</p>
                 <p>Il suffit de montrer qu'on peut générer 0, 1, 2, 3.</p>
                 <ul>
                     <li>$0 = 1^2 - 1^2$. (Mais les $i$ doivent être distincts ? Non, pas spécifié). Ou $0 = 1^2+2^2-3^2+...$.</li>
                     <li>$1 = 1^2$.</li>
                     <li>$2 = ?$ On peut essayer $1^2+2^2+3^2-4^2 = 1+4+9-16 = -2$? Non.
                       $2 = 3^2+4^2-5^2 = 9+16-25 = 0$? Non.
                       $2 = 1^2+...$ Peut-être $2 = 4^2+5^2-6^2 = 16+25-36=5$. Non.
                       $2 = (-1^2) + (-2^2) + 3^2 = -1-4+9 = 4$. Non.
                       $2 = 1^2 - 2^2 - 3^2 + 4^2 = 1-4-9+16 = 4$. Non.
                       $2 = 1^2+4^2+6^2-7^2 = 1+16+36-49 = 4$. Non.
                       $2 = 2^2+3^2+4^2-5^2 = 4+9+16-25 = 4$. Non.
                       $2 = 3^2+6^2+7^2-9^2 = 9+36+49-81 = 13$. Non.
                       Peut-être utiliser l'identité $4 = (n+3)^2 - (n+2)^2 - (n+1)^2 + n^2$.
                       On sait générer $4k$. On a besoin de générer $r \in \{0, 1, 2, 3\}$.
                       $0 = ?$ Peut-on faire $0$ ? $0 = 1^2+2^2-3^2+...$.
                       $1 = 1^2$.
                       $2 = ?$
                       $3 = 2^2 - 1^2 = 4-1=3$.
                       $0 = ?$ Peut-être utiliser plus de termes? $0 = 3^2+4^2-5^2 = 0$? Non, 25.
                       $0 = 1^2+2^2+...$
                       Le problème est que les $i$ ne sont pas nécessairement distincts dans $\sum \epsilon_i i^2$. Si on peut réutiliser les indices $i$, c'est facile: $0 = 1^2 - 1^2$. $2=1^2+1^2$. $3=1^2+1^2+1^2$.
                       Mais si les $i$ devaient être distincts ? L'énoncé ne le dit pas. Assumons qu'ils peuvent être répétés.</p>
                 <p>Soit $x \in \mathbb{Z}$. On peut écrire $x = 4k + r$ avec $r \in \{0, 1, 2, 3\}$ (division euclidienne par 4).</p>
                 <p>Si $k \ge 0$:
                 On sait que $4 = (N+3)^2 - (N+2)^2 - (N+1)^2 + N^2$. On peut choisir $N$ assez grand pour que les carrés utilisés soient différents de ceux pour $r$.
                 On peut écrire $4k$ comme une somme de $k$ blocs de 4 carrés consécutifs, en choisissant les blocs disjoints. Par exemple,
                 $4k = \sum_{j=0}^{k-1} ((4j+3)^2 - (4j+2)^2 - (4j+1)^2 + (4j)^2)$. Tous les indices $i$ ici sont distincts (de $0$ à $4k-1$).</p>
                 <p>Maintenant, il faut générer $r \in \{0, 1, 2, 3\}$.
                 $r=0$: On peut prendre $m=2, \epsilon_1=1, \epsilon_2=-1, i_1=N+1, i_2=N+1$. $0=(N+1)^2-(N+1)^2$. Mais est-ce que $i$ doit être distinct? Si oui, on ne peut pas faire ça.
                 $r=1$: $1 = 1^2$.
                 $r=2$: $2 = ?$
                 $r=3$: $3 = 2^2 - 1^2$.</p>
                 <p>Comment obtenir 2? Et 0 avec $i$ distincts?
                 Peut-être que l'identité $4 = ...$ est une piste mais pas la solution complète.</p>
                 <p>Tout entier $x$ peut s'écrire comme $x = a^2+b^2-c^2-d^2$ (pas Lagrange). Non.</p>
                 <p>L'identité est $4 = n^2-(n+1)^2-(n+2)^2+(n+3)^2$.
                 Sommons $k$ copies de ceci avec des $n$ différents : $n=4j, j=0..k-1$.
                 $4k = \sum_{j=0}^{k-1} ((4j)^2 - (4j+1)^2 - (4j+2)^2 + (4j+3)^2)$.
                 Les indices $i$ utilisés ici sont $0, 1, ..., 4k-1$. Tous distincts.</p>
                 <p>Il reste à obtenir $0, 1, 2, 3$ en utilisant des carrés d'entiers $i$ qui n'ont pas été utilisés pour $4k$. On peut choisir les $i$ pour $4k$ aussi grands qu'on veut.</p>
                 <p>On a besoin de:
                 $0 = ?$
                 $1 = 1^2$.
                 $2 = ?$
                 $3 = 2^2-1^2$.</p>
                 <p>Essayons de trouver 0 et 2.
                 $0 = 1^2+2^2+3^2+4^2-5^2-?$. Non.
                 $0 = 1^2+...$. Peut-être $0 = 1^2+2^2+...+n^2 - (...)$.
                 Considérons $(n+7)^2 - (n+6)^2 - (n+5)^2 + (n+4)^2 - [(n+3)^2 - (n+2)^2 - (n+1)^2 + n^2]$
                 $= 4 - 4 = 0$.
                 $0 = (n+7)^2 - (n+6)^2 - (n+5)^2 + (n+4)^2 - (n+3)^2 + (n+2)^2 + (n+1)^2 - n^2$.
                 Ceci utilise 8 carrés consécutifs. On peut générer 0.</p>
                 <p>Comment générer 2?
                 $1 = 1^2$. $3=2^2-1^2$. $4 = (n+3)^2-...$. $5 = 3^2-2^2=9-4=5$? Non, $3=2^2-1^2$. $5=3^2-2^2$. $7=4^2-3^2$.
                 $2 = ?$
                 On a $4 = (n+3)^2 - (n+2)^2 - (n+1)^2 + n^2$.
                 On a $1 = 1^2$.
                 $2 = 4 - (?).$
                 $2 = 4 - (3^2+4^2-5^2)?$ Non.
                 $2 = 4 - (2^2-?)?$
                 On sait $x^2 - (x-1)^2 = 2x-1$.
                 On sait $(x+1)^2 - x^2 = 2x+1$.
                 La somme $1+3+5+...+(2n-1)=n^2$.
                 La somme alternée $1^2-2^2+3^2-4^2+...+(-1)^{n-1}n^2 = (-1)^{n-1} \frac{n(n+1)}{2}$.
                 Essayons d'exprimer $x$ modulo 4.
                 $x = 4k+r$.
                 Si $r=0$: $x=4k$. On utilise $k$ copies de l'identité $4 = ...$.
                 Si $r=1$: $x=4k+1$. On fait $4k$ comme ci-dessus, et on ajoute $1^2$. Il faut s'assurer que 1 n'a pas été utilisé. On peut prendre les $n$ pour $4k$ très grands, par exemple $n \ge 2$.
                 Si $r=3$: $x=4k+3$. On fait $4k$ avec $n \ge 3$. On ajoute $3=2^2-1^2$. On utilise $1, 2$ et des grands $i$.
                 Si $r=2$: $x=4k+2$. On fait $4k$ avec $n \ge ??$. On a besoin de $2$.
                 Comment faire 2?
                 $2 = 1^2 + ?$ Non. $2 = 2^2 - ?$ Non. $2=3^2 - ? = 9 - 7$. Non.
                 $2 = 4^2- ? = 16-14$. Non.
                 $2 = n^2 - (n-1)^2 - (n-2)^2 + (n-3)^2?$ Non, c'est 4.
                 Peut-être $2 = 1^2+1^2$? Si les $i$ peuvent être répétés, alors c'est facile. $0=1^2-1^2, 1=1^2, 2=1^2+1^2, 3=1^2+1^2+1^2$ ou $3=2^2-1^2$.
                 Si $x=4k$, on utilise $k$ copies de $4=...$.
                 Si $x=4k+1$, $x = 4k + 1^2$.
                 Si $x=4k+2$, $x=4k+1^2+1^2$.
                 Si $x=4k+3$, $x=4k+2^2-1^2$.
                 Il faut juste s'assurer que les indices $i$ utilisés pour $r$ (1 ou 2) ne sont pas déjà utilisés pour $4k$.
                 On peut générer $4k$ en utilisant les carrés de $N, N+1, N+2, N+3, ..., N+4k-1$. On choisit $N$ assez grand (e.g., $N \ge 3$). Alors les indices 1 et 2 ne sont pas utilisés.
                 Donc, si les indices $i$ ne doivent pas nécessairement être distincts, on a montré le résultat.

                 Si les indices $i$ doivent être distincts? C'est plus dur.
                 On a vu comment faire 0 et 4. On a $1=1^2$, $3=2^2-1^2$. Il faut 2.
                 $2 = 3^2 + 5^2 + 6^2 - 7^2 = 9+25+36-49 = 70-49=21$? Non.
                 Selon Wikipedia, tout entier non de la forme $4^k(8m+7)$ est somme de 3 carrés (Legendre). Tout entier est somme de 4 carrés (Lagrange).
                 Ici on a des signes $\pm 1$. C'est un problème différent.
                 Selon une référence (Guy, Unsolved Problems in Number Theory), tout entier $n$ qui n'est pas $\equiv 0, 4, 5, 6 \pmod 8$ serait représentable comme $\pm 1^2 \pm 2^2 \dots \pm k^2$ pour un certain $k$. Ceci ne semble pas correspondre à l'énoncé.
                 L'énoncé $\sum_{i=1}^m \epsilon_i i^2$ n'impose pas que les $i$ soient $1, \dots, m$. Juste qu'il y a $m$ termes.
                 Mais l'identité $4 = (x+3)^2 - (x+2)^2 - (x+1)^2 + x^2$ suggère des indices consécutifs.
                 Si on prend $x=4k+2$. On fait $4k$ avec des grands indices. Il faut faire 2.
                 On a $0 = 8^2-7^2-6^2+5^2 - (4^2-3^2-2^2+1^2) = 4-4=0$.
                 $0 = 8^2-7^2-6^2+5^2-4^2+3^2+2^2-1^2$.
                 Comment faire 2?
                 $1=1^2$. $3=2^2-1^2$. $4=3^2-2^2-1^2$. Non $4=4$.
                 $5=3^2-2^2 = 9-4=5$.
                 $6 = ?$
                 $7=4^2-3^2 = 16-9=7$.
                 $2=?$
                 Peut-être $2 = 4^2-3^2-2^2$? $16-9-4 = 3$. Non.
                 $2 = 5^2 - 4^2 - 1^2 = 25-16-1 = 8$. Non.
                 $2 = 5^2 - 3^2 - 2^2 = 25-9-4 = 12$. Non.
                 $2 = 6^2 - 5^2 - 2^2 - 1^2 = 36-25-4-1 = 6$. Non.
                 $2 = 7^2 - 6^2 - 2^2 - 1^2 = 49-36-4-1 = 8$. Non.
                 $2 = 8^2 - 7^2 - 3^2 - 2^2 = 64-49-9-4 = 2$? Oui!
                 $2 = 8^2 - 7^2 - 3^2 - 2^2$.
                 Donc on peut générer $0, 1, 2, 3$.
                 $0 = 8^2-7^2-6^2+5^2-4^2+3^2+2^2-1^2$. (8 termes, indices 1 à 8)
                 $1 = 1^2$. (1 terme, indice 1)
                 $2 = 8^2 - 7^2 - 3^2 - 2^2$. (4 termes, indices 2, 3, 7, 8)
                 $3 = 2^2 - 1^2$. (2 termes, indices 1, 2)
                 On peut générer $4k$ avec des indices $N, ..., N+4k-1$.
                 On choisit $N$ assez grand (e.g., $N \ge 9$) pour ne pas interférer avec les indices utilisés pour $r \in \{0, 1, 2, 3\}$.
                 On peut alors former $x = 4k+r$ en combinant les représentations.
                 Cela montre que tout $x \in \mathbb{Z}$ est de la forme $\sum_{j=1}^m \epsilon_j i_j^2$ où les $i_j$ sont des entiers distincts et $\epsilon_j \in \{-1, 1\}$. L'énoncé original $\sum_{i=1}^m \epsilon_i i^2$ est ambigu sur les indices. S'il signifie que les $i$ sont les indices de la somme (donc $1, 2, ..., m$), la question est différente. Mais le a) suggère plutôt que $i$ est l'entier qui est élevé au carré. Donc on suppose que la forme est $\sum_{j=1}^m \epsilon_j k_j^2$ avec $k_j \in \mathbb{N}^*$. On a montré que c'est possible avec des $k_j$ distincts.
             </div>
        </div>

    </section> <!-- end sec 2.1 -->

    <section id="sec2-2-exos"> <!-- Section for exercises of 2.2 -->
        <div class="exercise" id="ex36">
            <h3>Exercice 36 <span class="notation">(1)</span></h3>
            <p>Soit $n$ dans $\mathbb{N}^{*}$. Donner une expression simple de la somme $\sum_{k=1}^{n}(2 k-1)$ des $n$ premiers entiers impairs.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol36')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol36">
                 <p><strong>Solution :</strong></p>
                 <p>On utilise la linéarité de la somme :</p>
                 $$ \sum_{k=1}^{n}(2 k-1) = \sum_{k=1}^{n} 2k - \sum_{k=1}^{n} 1 $$
                 $$ = 2 \sum_{k=1}^{n} k - n $$
                 <p>On sait que $\sum_{k=1}^{n} k = \frac{n(n+1)}{2}$.</p>
                 $$ = 2 \frac{n(n+1)}{2} - n $$
                 $$ = n(n+1) - n $$
                 $$ = (n^2+n) - n = n^2 $$
                 <p>Donc, la somme des $n$ premiers entiers impairs est $n^2$.</p>
                 <p>Alternative (suite arithmétique) : C'est la somme des $n$ termes d'une suite arithmétique de premier terme $u_1=2(1)-1=1$ et de dernier terme $u_n=2n-1$.
                 La somme est $\frac{\text{nombre de termes} \times (\text{premier terme} + \text{dernier terme})}{2}$.
                 $$ \sum_{k=1}^{n}(2 k-1) = \frac{n \times (1 + (2n-1))}{2} = \frac{n \times (2n)}{2} = n^2 $$
            </div>
        </div>

        <div class="exercise" id="ex37">
            <h3>Exercice 37 <span class="notation">(2)</span></h3>
             <p>Soit $\left(u_{n}\right)_{n \geq 0}$ une suite réelle. On suppose que</p>
            $$
            \forall n \in \mathbb{N}, \quad S_n = \sum_{k=0}^{n} u_{k}=\frac{n^{2}+n}{3}
            $$
            <p>Pour $n \in \mathbb{N}$, calculer $u_{n}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol37')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol37">
                 <p><strong>Solution :</strong></p>
                 <p>On a la somme partielle $S_n = u_0 + u_1 + \dots + u_n$.</p>
                 <p>Pour $n \ge 1$, on peut écrire $S_n = S_{n-1} + u_n$.</p>
                 <p>Donc, pour $n \ge 1$, $u_n = S_n - S_{n-1}$.</p>
                 <p>Ici, $S_n = \frac{n(n+1)}{3}$.</p>
                 <p>Pour $n \ge 1$:
                 $$ u_n = \frac{n(n+1)}{3} - \frac{(n-1)((n-1)+1)}{3} $$
                 $$ u_n = \frac{n(n+1)}{3} - \frac{(n-1)n}{3} $$
                 $$ u_n = \frac{n}{3} [(n+1) - (n-1)] $$
                 $$ u_n = \frac{n}{3} [n+1-n+1] = \frac{n}{3} [2] = \frac{2n}{3} $$
                 <p>Cette formule est valable pour $n \ge 1$.</p>
                 <p>Il faut vérifier si elle marche pour $n=0$. La formule donnerait $u_0 = \frac{2(0)}{3} = 0$.</p>
                 <p>Calculons $u_0$ directement. $S_0 = u_0$.</p>
                 <p>$S_0 = \frac{0^2+0}{3} = 0$. Donc $u_0 = 0$.</p>
                 <p>La formule $u_n = \frac{2n}{3}$ est donc valable pour tout $n \in \mathbb{N}$.</p>
             </div>
        </div>

        <div class="exercise" id="ex38">
             <h3>Exercice 38 <span class="notation">(3)</span> Moyenne dans la table de Pythagore</h3>
             <p>Soit $n \in \mathbb{N}^{*}$. On trace la table de multiplication des entiers entre 1 et $n$. On obtient donc un tableau carré comportant $n^{2}$ entiers naturels. Quelle est la moyenne de ces entiers ?</p>
            <button class="solution-toggle" onclick="toggleSolution('sol38')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol38">
                 <p><strong>Solution :</strong></p>
                 <p>La table de multiplication contient les produits $k \times l$ pour $k$ allant de 1 à $n$ et $l$ allant de 1 à $n$.</p>
                 <p>Il y a $n \times n = n^2$ entrées dans la table.</p>
                 <p>La somme $S$ de tous les nombres dans la table est :</p>
                 $$ S = \sum_{k=1}^{n} \sum_{l=1}^{n} (k \times l) $$
                 <p>On peut factoriser la somme interne par rapport à $k$ :</p>
                 $$ S = \sum_{k=1}^{n} \left( k \times \sum_{l=1}^{n} l \right) $$
                 <p>On connaît la somme $\sum_{l=1}^{n} l = \frac{n(n+1)}{2}$.</p>
                 $$ S = \sum_{k=1}^{n} \left( k \times \frac{n(n+1)}{2} \right) $$
                 <p>Le terme $\frac{n(n+1)}{2}$ est constant par rapport à l'indice $k$ de la somme externe. On peut le factoriser :</p>
                 $$ S = \left( \frac{n(n+1)}{2} \right) \times \sum_{k=1}^{n} k $$
                 $$ S = \left( \frac{n(n+1)}{2} \right) \times \left( \frac{n(n+1)}{2} \right) = \left( \frac{n(n+1)}{2} \right)^2 $$
                 <p>La moyenne $M$ des entiers est la somme totale $S$ divisée par le nombre d'entiers $n^2$.</p>
                 $$ M = \frac{S}{n^2} = \frac{\left( \frac{n(n+1)}{2} \right)^2}{n^2} $$
                 $$ M = \frac{\frac{n^2 (n+1)^2}{4}}{n^2} = \frac{n^2 (n+1)^2}{4 n^2} = \frac{(n+1)^2}{4} $$
                 <p>La moyenne des entiers dans la table de multiplication de 1 à $n$ est $\frac{(n+1)^2}{4}$.</p>
             </div>
        </div>

        <!-- etc pour les exos 39 à 44 -->
        <div class="exercise" id="ex39">
             <h3>Exercice 39 <span class="notation">(1)</span> Somme d'une série géométrique <span class="symbole-important">*</span></h3>
              <p>Soit $x \in]-1,1\left[\right.$. Pour $n \in \mathbb{N}$, soit $S_{n}=\sum_{k=0}^{n} x^{k}$. Montrer que</p>
            $$
            S_{n} \underset{n \rightarrow+\infty}{\longrightarrow} \frac{1}{1-x}
            $$
            <button class="solution-toggle" onclick="toggleSolution('sol39')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol39">
                 <p><strong>Solution :</strong></p>
                 <p>Comme $x \neq 1$, on peut utiliser la formule de la somme des termes d'une suite géométrique :</p>
                 $$ S_n = \sum_{k=0}^n x^k = \frac{1 - x^{n+1}}{1 - x} $$
                 <p>On étudie la limite de $S_n$ quand $n \to +\infty$.</p>
                 <p>Le terme $x^{n+1}$ dépend de $n$. Puisque $x \in ]-1, 1[$, on a $|x| \lt 1$.</p>
                 <p>Une propriété fondamentale des suites géométriques est que si $|x| \lt 1$, alors $x^m \underset{m \to +\infty}{\longrightarrow} 0$.</p>
                 <p>Ici, $m=n+1$. Quand $n \to +\infty$, $n+1 \to +\infty$. Donc $x^{n+1} \underset{n \to +\infty}{\longrightarrow} 0$.</p>
                 <p>Par opérations sur les limites :</p>
                 $$ \lim_{n \to +\infty} S_n = \lim_{n \to +\infty} \frac{1 - x^{n+1}}{1 - x} = \frac{1 - 0}{1 - x} = \frac{1}{1-x} $$
                 <p>Donc $S_{n} \underset{n \rightarrow+\infty}{\longrightarrow} \frac{1}{1-x}$.</p>
                 <p>C'est la formule de la somme de la série géométrique de raison $x$, convergente pour $|x| \lt 1$.</p>
             </div>
        </div>
        <!-- ... exos 40 à 44 ... -->

    </section> <!-- end sec 2.2 -->

    <section id="sec2-3-exos"> <!-- Section for exercises of 2.3 -->
      <div class="exercise" id="ex45">
            <h3>Exercice 45 <span class="notation">(3)</span></h3>
            <p>a) Si $n$ est dans $\mathbb{N}^{*}$, simplifier la somme $A_n = \sum_{k=1}^{n} \ln \left(1+\frac{1}{k}\right)$. Quelle est la limite de cette expression lorsque $n$ tend vers $+\infty$ ?</p>
            <p>b) Si $n$ est un entier $\geq 2$, simplifier la somme $B_n = \sum_{k=2}^{n} \ln \left(1-\frac{1}{k^{2}}\right)$. Quelle est la limite de cette expression lorsque $n$ tend vers $+\infty$ ?</p>
            <button class="solution-toggle" onclick="toggleSolution('sol45')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol45">
                 <p><strong>Solution :</strong></p>
                 <p>a) $\ln \left(1+\frac{1}{k}\right) = \ln \left(\frac{k+1}{k}\right) = \ln(k+1) - \ln(k)$.</p>
                 <p>La somme est télescopique :</p>
                 $$ A_n = \sum_{k=1}^{n} (\ln(k+1) - \ln(k)) $$
                 <p>On pose $b_k = \ln(k)$. La somme est $\sum_{k=1}^n (b_{k+1}-b_k) = b_{n+1}-b_1$.</p>
                 $$ A_n = \ln(n+1) - \ln(1) = \ln(n+1) - 0 = \ln(n+1) $$
                 <p>Limite : Quand $n \to +\infty$, $n+1 \to +\infty$, et $\ln(n+1) \to +\infty$.</p>
                 <p>Donc $A_n \underset{n \rightarrow+\infty}{\longrightarrow} +\infty$.</p>

                 <p>b) $\ln \left(1-\frac{1}{k^{2}}\right) = \ln \left(\frac{k^2-1}{k^2}\right) = \ln \left(\frac{(k-1)(k+1)}{k \cdot k}\right)$.</p>
                 $$ B_n = \sum_{k=2}^{n} \ln \left(\frac{(k-1)(k+1)}{k^2}\right) $$
                 <p>Comme $\ln$ transforme produit en somme :</p>
                 $$ B_n = \ln \left( \prod_{k=2}^{n} \frac{(k-1)(k+1)}{k^2} \right) $$
                 <p>Calculons le produit $P_n = \prod_{k=2}^{n} \frac{(k-1)(k+1)}{k^2}$.</p>
                 $$ P_n = \frac{(2-1)(2+1)}{2^2} \times \frac{(3-1)(3+1)}{3^2} \times \dots \times \frac{((n-1)-1)((n-1)+1)}{(n-1)^2} \times \frac{(n-1)(n+1)}{n^2} $$
                 $$ P_n = \frac{1 \cdot 3}{2 \cdot 2} \times \frac{2 \cdot 4}{3 \cdot 3} \times \frac{3 \cdot 5}{4 \cdot 4} \times \dots \times \frac{(n-2) n}{(n-1)(n-1)} \times \frac{(n-1)(n+1)}{n \cdot n} $$
                 <p>Regroupons les termes :</p>
                 $$ P_n = \frac{[1 \cdot 2 \cdot 3 \cdot \dots \cdot (n-1)] \times [3 \cdot 4 \cdot 5 \cdot \dots \cdot (n+1)]}{[2 \cdot 3 \cdot 4 \cdot \dots \cdot n] \times [2 \cdot 3 \cdot 4 \cdot \dots \cdot n]} $$
                 $$ P_n = \frac{(n-1)! \times \frac{(n+1)!}{2}}{n! \times n!} = \frac{(n-1)! (n+1)! / 2}{(n!)^2} $$
                 $$ = \frac{(n-1)! (n+1) n (n-1)! / 2}{(n (n-1)!)^2} = \frac{(n+1) n ((n-1)!)^2 / 2}{n^2 ((n-1)!)^2} $$
                 $$ = \frac{(n+1) n / 2}{n^2} = \frac{n+1}{2n} $$
                 <p>Donc $B_n = \ln(P_n) = \ln\left(\frac{n+1}{2n}\right)$.</p>
                 <p>Limite : Quand $n \to +\infty$, $\frac{n+1}{2n} = \frac{n(1+1/n)}{2n} = \frac{1+1/n}{2} \to \frac{1+0}{2} = \frac{1}{2}$.</p>
                 <p>Par continuité de $\ln$, $B_n \underset{n \rightarrow+\infty}{\longrightarrow} \ln\left(\frac{1}{2}\right) = -\ln 2$.</p>

                 <p>Alternative pour b) (télescopage) :
                 $\ln\left(1-\frac{1}{k^2}\right) = \ln((k-1)(k+1)) - \ln(k^2)$
                 $= \ln(k-1) + \ln(k+1) - 2\ln(k)$
                 $= (\ln(k+1) - \ln(k)) - (\ln(k) - \ln(k-1))$
                 Posons $b_k = \ln(k) - \ln(k-1) = \ln(k/(k-1))$ pour $k \ge 2$.
                 Le terme général est $b_{k+1} - b_k$? Non.
                 Le terme général est $- (b_{k+1}-b_k)$? Non plus.
                 Le terme général est $a_k = (\ln(k+1)-\ln k) - (\ln k - \ln(k-1))$.
                 Posons $c_k = \ln k - \ln(k-1)$. Alors $a_k = c_{k+1} - c_k$? Non.
                 $a_k = \ln(k-1) - 2\ln k + \ln(k+1)$.
                 $\sum_{k=2}^n a_k = \sum (\ln(k-1)-\ln k) + \sum (\ln(k+1)-\ln k)$
                 $= (\ln 1 - \ln n) + (\ln(n+1) - \ln 2)$
                 $= 0 - \ln n + \ln(n+1) - \ln 2 = \ln(\frac{n+1}{n}) - \ln 2$.
                 $\ln(\frac{n+1}{n}) = \ln(1+1/n) \to \ln(1) = 0$.
                 La limite est $-\ln 2$.
                 La somme $\sum_{k=2}^n a_k = \ln(\frac{n+1}{n}) - \ln 2$.
                 Vérifions: $\ln(\frac{n+1}{2n}) = \ln(\frac{n+1}{n} \times \frac{1}{2}) = \ln(\frac{n+1}{n}) + \ln(1/2) = \ln(\frac{n+1}{n}) - \ln 2$. C'est correct.</p>
             </div>
        </div>
        <!-- ... exos 46 à 52 ... -->
    </section>

    <section id="sec2-4-exos"> <!-- Section for exercises of 2.4 -->
        <div class="exercise" id="ex53">
             <h3>Exercice 53 <span class="notation">(1)</span></h3>
              <p>a) Pour $n$ dans $\mathbb{N}^{*}$, simplifier le produit $A_{n}=\prod_{k=1}^{n} 4^{k^{2}+1}$.</p>
             <p>b) Pour $n$ dans $\mathbb{N}^{*}$, simplifier le produit $B_{n}=\prod_{k=0}^{n} \frac{k+4}{k+3}$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol53')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol53">
                 <p><strong>Solution :</strong></p>
                 <p>a) $A_n = \prod_{k=1}^n 4^{k^2+1} = 4^{\sum_{k=1}^n (k^2+1)}$.</p>
                 <p>Calculons l'exposant : $E_n = \sum_{k=1}^n (k^2+1) = \sum_{k=1}^n k^2 + \sum_{k=1}^n 1$.</p>
                 <p>$\sum_{k=1}^n 1 = n$.</p>
                 <p>$\sum_{k=1}^n k^2 = \frac{n(n+1)(2n+1)}{6}$. (Voir Exemple 1 de <a href="#sec1-2">1.2</a>)</p>
                 <p>$E_n = \frac{n(n+1)(2n+1)}{6} + n = n \left( \frac{(n+1)(2n+1)}{6} + 1 \right)$
                 $= n \left( \frac{2n^2+3n+1+6}{6} \right) = \frac{n(2n^2+3n+7)}{6}$.</p>
                 <p>Donc $A_n = 4^{n(2n^2+3n+7)/6}$.</p>

                 <p>b) $B_n = \prod_{k=0}^n \frac{k+4}{k+3}$. C'est un produit télescopique.</p>
                 <p>Posons $b_k = k+3$. Le terme général est $\frac{k+4}{k+3} = \frac{b_{k+1}}{b_k}$.</p>
                 $$ B_n = \prod_{k=0}^n \frac{b_{k+1}}{b_k} = \frac{b_1}{b_0} \times \frac{b_2}{b_1} \times \dots \times \frac{b_{n+1}}{b_n} $$
                 <p>Par télescopage, il reste $B_n = \frac{b_{n+1}}{b_0}$.</p>
                 <p>$b_{n+1} = (n+1)+3 = n+4$.</p>
                 <p>$b_0 = 0+3 = 3$.</p>
                 <p>Donc $B_n = \frac{n+4}{3}$.</p>
             </div>
        </div>

        <div class="exercise" id="ex54">
            <h3>Exercice 54 <span class="notation">(2)</span></h3>
            <p>Soit $n \in \mathbb{N}^{*}$. Quel est le produit des $n^{2}$ entiers apparaissant dans la table de multiplication des entiers entre 1 et $n$ ?</p>
            <button class="solution-toggle" onclick="toggleSolution('sol54')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol54">
                 <p><strong>Solution :</strong></p>
                 <p>Le produit $P$ de tous les nombres $k \times l$ pour $1 \le k \le n$ et $1 \le l \le n$ est :</p>
                 $$ P = \prod_{k=1}^{n} \prod_{l=1}^{n} (k \times l) $$
                 <p>On peut séparer le produit sur $k$ et $l$ :</p>
                 $$ P = \prod_{k=1}^{n} \left( (k \times 1) \times (k \times 2) \times \dots \times (k \times n) \right) $$
                 $$ P = \prod_{k=1}^{n} \left( k^n \times (1 \times 2 \times \dots \times n) \right) $$
                 $$ P = \prod_{k=1}^{n} (k^n \times n!) $$
                 <p>Maintenant, on applique le produit sur $k$ :</p>
                 $$ P = \left( \prod_{k=1}^{n} k^n \right) \times \left( \prod_{k=1}^{n} n! \right) $$
                 <p>Le premier terme : $\prod_{k=1}^{n} k^n = (1^n \times 2^n \times \dots \times n^n) = (1 \times 2 \times \dots \times n)^n = (n!)^n$.</p>
                 <p>Le second terme : $\prod_{k=1}^{n} n! = (n!) \times (n!) \times \dots \times (n!)$ ($n$ fois) $= (n!)^n$.</p>
                 <p>Donc $P = (n!)^n \times (n!)^n = (n!)^{2n}$.</p>
                 <p>Le produit des $n^2$ entiers est $(n!)^{2n}$.</p>
            </div>
        </div>

         <div class="exercise" id="ex55">
             <h3>Exercice 55 <span class="notation">(3)</span></h3>
             <p>Pour $n \geq 2$, donner une expression simple de $C_{n}=\prod_{k=2}^{n}\left(1-\frac{1}{k^{2}}\right)$ et trouver la limite de $\left(C_{n}\right)_{n \geq 2}$ lorsque $n$ tend vers $+\infty$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol55')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol55">
                 <p><strong>Solution :</strong></p>
                 <p>Le terme général est $1-\frac{1}{k^2} = \frac{k^2-1}{k^2} = \frac{(k-1)(k+1)}{k \cdot k}$.</p>
                 $$ C_n = \prod_{k=2}^n \frac{(k-1)(k+1)}{k^2} $$
                 <p>Écrivons les premiers termes du produit :</p>
                 $$ C_n = \left(\frac{(2-1)(2+1)}{2\cdot 2}\right) \times \left(\frac{(3-1)(3+1)}{3\cdot 3}\right) \times \left(\frac{(4-1)(4+1)}{4\cdot 4}\right) \times \dots \times \left(\frac{(n-1)(n+1)}{n\cdot n}\right) $$
                 $$ C_n = \left(\frac{1 \cdot 3}{2 \cdot 2}\right) \times \left(\frac{2 \cdot 4}{3 \cdot 3}\right) \times \left(\frac{3 \cdot 5}{4 \cdot 4}\right) \times \dots \times \left(\frac{(n-1)(n+1)}{n \cdot n}\right) $$
                 <p>On peut regrouper les termes différemment :</p>
                 $$ C_n = \frac{\prod_{k=2}^n (k-1) \times \prod_{k=2}^n (k+1)}{\prod_{k=2}^n k \times \prod_{k=2}^n k} $$
                 <p>Calculons chaque produit :</p>
                 <ul>
                     <li>$\prod_{k=2}^n (k-1) = (2-1)\times(3-1)\times\dots\times(n-1) = 1 \times 2 \times \dots \times (n-1) = (n-1)!$.</li>
                     <li>$\prod_{k=2}^n (k+1) = (2+1)\times(3+1)\times\dots\times(n+1) = 3 \times 4 \times \dots \times (n+1) = \frac{(n+1)!}{2!}=\frac{(n+1)!}{2}$.</li>
                     <li>$\prod_{k=2}^n k = 2 \times 3 \times \dots \times n = n!$.</li>
                 </ul>
                 <p>Donc :</p>
                 $$ C_n = \frac{(n-1)! \times \frac{(n+1)!}{2}}{n! \times n!} $$
                 $$ C_n = \frac{(n-1)! \times (n+1) \times n \times (n-1)! / 2}{(n \times (n-1)!)^2} $$
                 $$ C_n = \frac{(n+1) n ((n-1)!)^2 / 2}{n^2 ((n-1)!)^2} = \frac{(n+1) n / 2}{n^2} = \frac{n+1}{2n} $$
                 <p>L'expression simple de $C_n$ est $\frac{n+1}{2n}$.</p>
                 <p>Limite : Quand $n \to +\infty$, $C_n = \frac{n+1}{2n} = \frac{1+1/n}{2} \to \frac{1+0}{2} = \frac{1}{2}$.</p>
                 <p>La limite de $(C_n)$ est $\frac{1}{2}$.</p>
                 <p>(C'est le même résultat que pour le produit dans l'exercice 45b, car $C_n = \exp(B_n)$).</p>
             </div>
        </div>
    </section>

</section> <!-- end chap 2 -->


<section id="chap3">
    <h2>3 Inégalités, inéquations, trinôme du second degré réel</h2>
    <p>La manipulation des inégalités joue un rôle fondamental en analyse. Elle n'est pas difficile, mais demande du soin et pose souvent problème aux étudiants entrant dans l'enseignement supérieur, principalement faute d'une pratique suffisante. On revoit ici les règles essentielles qui régissent le calcul sur les inégalités, ainsi que le trinôme du second degré réel.</p>

    <section id="sec3-1">
        <h3>3.1 Inégalités, encadrements, inéquations du premier degré</h3>
        <p>Les points suivants sont essentiels.</p>
        <ul>
            <li>Maîtriser les règles qui régissent les inégalités (addition de deux inégalités, multiplication d'une inégalité par un nombre réel positif ou négatif, passage à l'inverse d'une inégalité), en prêtant attention aux signes et aux sens des inégalités.</li>
            <li>Réaliser que le signe d'une expression est d'autant plus facile à étudier qu'elle est factorisée. Faire un tableau de signes si nécessaire.</li>
            <li>Pour les inéquations, penser à définir le domaine de validité (par exemple, existence de racines carrées, dénominateurs non nuls, arguments de logarithmes strictement positifs).</li>
        </ul>

         <div class="exercise" id="ex56">
             <h3>Exercice 56 <span class="notation">(1)</span></h3>
             <p>Soient $a, b$ deux nombres réels, $a^{\prime}, b^{\prime}, m, n$ quatre nombres réels strictement positifs tels que $\frac{a}{a^{\prime}} \gt \frac{b}{b^{\prime}}$. Montrer que</p>
            $$
            \frac{b}{b^{\prime}} \lt \frac{m a+n b}{m a^{\prime}+n b^{\prime}} \lt \frac{a}{a^{\prime}}
            $$
            (Propriété des médianes de fractions, ou barycentres)
            <button class="solution-toggle" onclick="toggleSolution('sol56')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol56">
                 <p><strong>Solution :</strong></p>
                 <p>On veut montrer deux inégalités.</p>
                 <p>1) Montrons $\frac{m a+n b}{m a^{\prime}+n b^{\prime}} \lt \frac{a}{a^{\prime}}$.</p>
                 <p>Comme $a', m, n, b'$ sont $>0$, le dénominateur $m a' + n b' > 0$ et $a' > 0$. On peut multiplier par ces dénominateurs sans changer le sens de l'inégalité. L'inégalité est équivalente à :</p>
                 $$ a' (m a + n b) < a (m a' + n b') $$
                 $$ m a a' + n a' b < m a a' + n a b' $$
                 $$ n a' b < n a b' $$
                 <p>Comme $n > 0$, ceci est équivalent à $a' b < a b'$.</p>
                 <p>Divisons par $a' b'$ (qui est $>0$). L'inégalité devient $\frac{a'b}{a'b'} < \frac{ab'}{a'b'}$, soit $\frac{b}{b'} < \frac{a}{a'}$.</p>
                 <p>C'est exactement l'hypothèse donnée $\frac{a}{a'} > \frac{b}{b'}$. Donc la première inégalité est vraie.</p>

                 <p>2) Montrons $\frac{b}{b^{\prime}} \lt \frac{m a+n b}{m a^{\prime}+n b^{\prime}}$.</p>
                 <p>De même, l'inégalité est équivalente à (puisque $b' > 0$ et $ma'+nb' > 0$) :</p>
                 $$ b (m a' + n b') < b' (m a + n b) $$
                 $$ m a' b + n b b' < m a b' + n b b' $$
                 $$ m a' b < m a b' $$
                 <p>Comme $m > 0$, ceci est équivalent à $a' b < a b'$.</p>
                 <p>Divisons par $a' b'$ ($>0$) : $\frac{b}{b'} < \frac{a}{a'}$.</p>
                 <p>C'est encore l'hypothèse donnée. Donc la seconde inégalité est vraie.</p>
                 <p>Les deux inégalités étant vraies, l'encadrement est démontré.</p>
                 <p>Note : $\frac{ma+nb}{ma'+nb'}$ est une moyenne pondérée des rapports $\frac{a}{a'}$ et $\frac{b}{b'}$ avec les poids $ma'$ et $nb'$. Toute moyenne pondérée à coefficients positifs est comprise entre le minimum et le maximum des valeurs.</p>
             </div>
        </div>

         <!-- Ajouter les exercices 57 à 77 ici -->
    </section>

    <section id="sec3-2">
        <div class="complement">
        <h3>3.2 Complément : inégalité arithmético-géométrique pour deux réels</h3>
        <p>L'inégalité suivante est le cas le plus simple de l'inégalité arithmético-géométrique (IAG). Elle montre comment contrôler le produit de deux nombres réels en fonction de la somme de leurs carrés. En dépit de sa simplicité, elle est très utile. Elle sera généralisée en <a href="#sec7-3">7.3</a>.</p>

        <div class="theorem" id="thm1">
            <h4>Théorème 1 (Inégalité arithmético-géométrique pour deux nombres réels)</h4>
             <p>(i) Si $a$ et $b$ sont deux nombres réels, alors</p>
            $$
            2 a b \leq a^{2}+b^{2}
            $$
            <p>Il y a égalité si et seulement si $a=b$.</p>
            <p>(ii) Si $x$ et $y$ sont deux nombres réels positifs ou nuls, alors</p>
            $$
            \sqrt{x y} \leq \frac{x+y}{2}
            $$
            <p>Il y a égalité si et seulement si $x=y$.</p>
        </div>

        <p><strong>Preuve :</strong></p>
        <p>(i) $a^2+b^2 - 2ab = (a-b)^2$. Comme le carré d'un réel est toujours positif ou nul, $(a-b)^2 \ge 0$. Donc $a^2+b^2-2ab \ge 0$, ce qui donne $a^2+b^2 \ge 2ab$.
        L'égalité a lieu si et seulement si $(a-b)^2 = 0$, c'est-à-dire $a-b=0$, soit $a=b$.</p>
        <p>(ii) Soient $x, y \in \mathbb{R}^+$. On peut appliquer (i) avec $a=\sqrt{x}$ et $b=\sqrt{y}$ (qui sont bien définis et réels).
        $2 \sqrt{x} \sqrt{y} \le (\sqrt{x})^2 + (\sqrt{y})^2$.
        $2 \sqrt{xy} \le x+y$.
        En divisant par 2 (qui est $>0$), $\sqrt{xy} \le \frac{x+y}{2}$.
        L'égalité a lieu si et seulement si $a=b$, c'est-à-dire $\sqrt{x}=\sqrt{y}$. Comme la fonction racine carrée est injective sur $\mathbb{R}^+$, cela équivaut à $x=y$.</p>
        <p><strong>Interprétation :</strong> Le point (ii) dit que la moyenne géométrique $\sqrt{xy}$ de deux réels positifs est toujours inférieure ou égale à leur moyenne arithmétique $\frac{x+y}{2}$.</p>

         <div class="exercise" id="ex78">
             <h3>Exercice 78 <span class="notation">(3)</span></h3>
              <p>Soient $a, b, c$ des éléments de $\mathbb{R}^{+}$.</p>
             <p>a) Montrer que $(a+b)(b+c)(c+a) \geq 8 a b c$.</p>
             <p>b) Montrer que $9 a b c \leq (a+b+c)(a b+b c+c a)$.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol78')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol78">
                 <p><strong>Solution :</strong></p>
                 <p>a) On utilise l'inégalité arithmético-géométrique (IAG) $\frac{x+y}{2} \ge \sqrt{xy}$ (soit $x+y \ge 2\sqrt{xy}$) pour des réels positifs $x,y$.</p>
                 <p>Comme $a, b \in \mathbb{R}^+$, on a $a+b \ge 2\sqrt{ab}$.</p>
                 <p>De même, $b+c \ge 2\sqrt{bc}$.</p>
                 <p>Et $c+a \ge 2\sqrt{ca}$.</p>
                 <p>Les trois membres de ces inégalités sont positifs ou nuls. On peut les multiplier membre à membre :</p>
                 $$ (a+b)(b+c)(c+a) \ge (2\sqrt{ab})(2\sqrt{bc})(2\sqrt{ca}) $$
                 $$ (a+b)(b+c)(c+a) \ge 8 \sqrt{ab \cdot bc \cdot ca} $$
                 $$ (a+b)(b+c)(c+a) \ge 8 \sqrt{a^2 b^2 c^2} $$
                 <p>Comme $a,b,c \ge 0$, $\sqrt{a^2b^2c^2} = \sqrt{(abc)^2} = |abc| = abc$.</p>
                 <p>Donc $(a+b)(b+c)(c+a) \geq 8 a b c$.</p>
                 <p>Le cas d'égalité a lieu si et seulement si on a égalité dans les trois IAG utilisées, c'est-à-dire $a=b$, $b=c$ et $c=a$. Donc égalité si et seulement si $a=b=c$.</p>

                 <p>b) On développe le membre de droite :</p>
                 <p>$(a+b+c)(ab+bc+ca) = a(ab+bc+ca) + b(ab+bc+ca) + c(ab+bc+ca)$
                 $= a^2b+abc+a^2c + ab^2+b^2c+abc + abc+bc^2+c^2a$
                 $= a^2b+a^2c+b^2a+b^2c+c^2a+c^2b + 3abc$.</p>
                 <p>On veut montrer que $a^2b+a^2c+b^2a+b^2c+c^2a+c^2b + 3abc \ge 9abc$, ce qui équivaut à :</p>
                 $$ a^2b+a^2c+b^2a+b^2c+c^2a+c^2b \ge 6abc $$
                 <p>On utilise l'IAG sur des paires de termes. Par exemple, pour $x=a^2b$ et $y=b^2a$ (si $a,b>0$)? Non.</p>
                 <p>Utilisons l'IAG pour 3 termes (généralisée): $\frac{x+y+z}{3} \ge \sqrt[3]{xyz}$ pour $x,y,z \ge 0$.
                 Prenons $x=a, y=b, z=c$. $\frac{a+b+c}{3} \ge \sqrt[3]{abc}$.
                 Prenons $x=ab, y=bc, z=ca$. $\frac{ab+bc+ca}{3} \ge \sqrt[3]{(ab)(bc)(ca)} = \sqrt[3]{a^2b^2c^2} = (abc)^{2/3}$.</p>
                 <p>Multiplions ces deux inégalités (tout est positif) :</p>
                 $$ \left(\frac{a+b+c}{3}\right) \left(\frac{ab+bc+ca}{3}\right) \ge \sqrt[3]{abc} \times (abc)^{2/3} $$
                 $$ \frac{(a+b+c)(ab+bc+ca)}{9} \ge (abc)^{1/3} (abc)^{2/3} = (abc)^{1/3+2/3} = abc $$
                 <p>En multipliant par 9, on obtient $(a+b+c)(ab+bc+ca) \ge 9abc$.</p>
                 <p>Alternative sans IAG à 3 termes :
                 On veut $a^2b+a^2c+b^2a+b^2c+c^2a+c^2b \ge 6abc$.
                 On utilise $x^2+y^2 \ge 2xy$.
                 $a^2b+b^2c$? Non.
                 Utilisons $x+y \ge 2\sqrt{xy}$.
                 $a^2b + bc^2 \ge 2 \sqrt{a^2b \cdot bc^2} = 2 \sqrt{a^2b^2c^2} = 2abc$.
                 $a^2c + c^2b$? Non.
                 $a^2b+b^2a \ge 2\sqrt{a^3b^3}$? Ne marche pas.

                 Reprenons $a^2b+a^2c+b^2a+b^2c+c^2a+c^2b$.
                 $a^2b+ab^2 = ab(a+b)$.
                 $b^2c+bc^2 = bc(b+c)$.
                 $c^2a+ca^2 = ca(c+a)$.
                 On sait $a+b \ge 2\sqrt{ab}$, etc.
                 $ab(a+b)+bc(b+c)+ca(c+a) \ge ab(2\sqrt{ab})+bc(2\sqrt{bc})+ca(2\sqrt{ca})$
                 $= 2a^{3/2}b^{3/2} + 2b^{3/2}c^{3/2} + 2c^{3/2}a^{3/2}$.
                 Appliquons l'IAG à ces 3 termes :
                 Somme $\ge 3 \sqrt[3]{(2a^{3/2}b^{3/2})(2b^{3/2}c^{3/2})(2c^{3/2}a^{3/2})} = 3 \sqrt[3]{8 (a^{3/2}a^{3/2})(b^{3/2}b^{3/2})(c^{3/2}c^{3/2})}$
                 $= 3 \sqrt[3]{8 a^3 b^3 c^3} = 3 (2 abc) = 6abc$.
                 Cela prouve $a^2b+a^2c+b^2a+b^2c+c^2a+c^2b \ge 6abc$.</p>
                 <p>Le cas d'égalité a lieu si $a=b=c$.</p>
             </div>
        </div>

        <!-- Ajouter exos 79 à 82 ici -->
        </div>
    </section>

    <section id="sec3-3">
        <h3>3.3 Le trinôme du second degré réel</h3>
        <p>Soient $a, b, c$ trois nombres réels et $f$ la fonction définie sur $\mathbb{R}$ par :</p>
        $$
        \text { (1) } \quad \forall x \in \mathbb{R}, \quad f(x)=a x^{2}+b x+c
        $$
        <p>Si $a=0, f$ est une fonction affine. Si $a \neq 0$, on dit que $f$ est un <strong>trinôme du second degré</strong>.</p>

        <h4>Forme canonique</h4>
        <p>L'étude du signe et des racines du trinôme du second degré repose sur la <strong>mise sous forme canonique</strong>. Rappelons ce dont il s'agit. Soient $a, b, c$ dans $\mathbb{R}$ avec $a \neq 0$. Pour $x$ dans $\mathbb{R}$ (ou même $\mathbb{C}$), on peut écrire :</p>
        $$ f(x) = a \left( x^2 + \frac{b}{a} x + \frac{c}{a} \right) $$
        <p>On reconnaît le début d'un carré : $x^2 + \frac{b}{a} x = \left(x + \frac{b}{2a}\right)^2 - \left(\frac{b}{2a}\right)^2$.</p>
        $$ f(x) = a \left[ \left(x + \frac{b}{2a}\right)^2 - \frac{b^2}{4a^2} + \frac{c}{a} \right] $$
        $$ f(x) = a \left[ \left(x + \frac{b}{2a}\right)^2 - \frac{b^2 - 4ac}{4a^2} \right] $$
        <p>On pose $\Delta = b^2 - 4ac$, appelé le <strong>discriminant</strong> du trinôme. La forme canonique est :</p>
        $$
        \text { (2) } \quad f(x) = a\left(\left(x+\frac{b}{2 a}\right)^{2}-\frac{\Delta}{4 a^{2}}\right)
        $$

        <h4>Racines du trinôme et factorisation</h4>
        <p>On cherche les solutions (racines) de l'équation $f(x)=0$. Comme $a \neq 0$, cela équivaut à :</p>
        $$ \left(x+\frac{b}{2 a}\right)^{2}=\frac{\Delta}{4 a^{2}} $$
        <p>La discussion dépend du signe de $\Delta$ :</p>
        <ul>
            <li>Si $\Delta < 0$: $\frac{\Delta}{4a^2} < 0$. Le carré $\left(x+\frac{b}{2a}\right)^2$ est toujours $\ge 0$. L'équation n'a donc <strong>pas de solution réelle</strong>.</li>
            <li>Si $\Delta = 0$: L'équation devient $\left(x+\frac{b}{2a}\right)^2 = 0$, ce qui équivaut à $x+\frac{b}{2a}=0$. Il y a une <strong>unique solution réelle</strong> $x_0 = \frac{-b}{2a}$. On l'appelle racine double.</li>
            <li>Si $\Delta > 0$: $\frac{\Delta}{4a^2} > 0$. L'équation $\left(x+\frac{b}{2a}\right)^2 = \frac{\Delta}{4a^2}$ équivaut à $x+\frac{b}{2a} = \pm \sqrt{\frac{\Delta}{4a^2}} = \pm \frac{\sqrt{\Delta}}{2|a|}$.
            Comme $a$ peut être négatif, on écrit plutôt $x+\frac{b}{2a} = \pm \frac{\sqrt{\Delta}}{2a}$ (cela couvre les deux cas $a>0$ et $a<0$).
            L'équation a donc <strong>deux solutions réelles distinctes</strong> :</li>
            $$
            x_{1}=\frac{-b-\sqrt{\Delta}}{2 a}, \quad x_{2}=\frac{-b+\sqrt{\Delta}}{2 a}
            $$
        </ul>
        <p><strong>Factorisation :</strong></p>
        <p>En utilisant la forme canonique (2) :</p>
        <ul>
            <li>Si $\Delta < 0$: Pas de factorisation simple dans $\mathbb{R}$. Le trinôme garde un signe constant.</li>
            <li>Si $\Delta = 0$: $f(x) = a \left(x+\frac{b}{2a}\right)^2 = a(x-x_0)^2$.</li>
            <li>Si $\Delta > 0$: $f(x) = a \left[ \left(x+\frac{b}{2a}\right)^2 - \left(\frac{\sqrt{\Delta}}{2a}\right)^2 \right]$. C'est de la forme $a(A^2-B^2) = a(A-B)(A+B)$.</li>
            $$ f(x) = a \left( x+\frac{b}{2a} - \frac{\sqrt{\Delta}}{2a} \right) \left( x+\frac{b}{2a} + \frac{\sqrt{\Delta}}{2a} \right) $$
            $$ f(x) = a \left( x - \frac{-b+\sqrt{\Delta}}{2a} \right) \left( x - \frac{-b-\sqrt{\Delta}}{2a} \right) $$
            $$ \text{(4)} \quad f(x) = a(x-x_1)(x-x_2) $$
            où $x_1, x_2$ sont les deux racines réelles. Cette formule est aussi valable si $\Delta=0$ (avec $x_1=x_2=x_0$).</li>
        </ul>

         <!-- Ajouter exos 83 à 86 -->

        <h4>Signe du trinôme pour les valeurs réelles de la variable</h4>
        <p>Le signe de $f(x)=ax^2+bx+c$ ($a \neq 0$) dépend du signe de $a$ et du signe de $\Delta$.</p>
        <ul>
             <li>Si $\Delta < 0$: $f(x) = a \left[ \left(x+\frac{b}{2a}\right)^2 + \frac{-\Delta}{4a^2} \right]$. Le terme dans le crochet est une somme d'un carré $(\ge 0)$ et d'un terme strictement positif ($-\Delta > 0$). Donc le crochet est toujours $>0$. $f(x)$ a donc <strong>toujours le même signe que $a$</strong>.</li>
             <li>Si $\Delta = 0$: $f(x) = a(x-x_0)^2$. Comme $(x-x_0)^2 \ge 0$, $f(x)$ a le <strong>même signe que $a$</strong>, sauf en $x=x_0$ où $f(x_0)=0$.</li>
             <li>Si $\Delta > 0$: $f(x) = a(x-x_1)(x-x_2)$. Soient $x_1$ et $x_2$ les deux racines (supposons $x_1 < x_2$). Le produit $(x-x_1)(x-x_2)$ est positif si $x < x_1$ ou $x > x_2$ (les deux facteurs ont même signe), et négatif si $x \in ]x_1, x_2[$ (les deux facteurs ont des signes opposés).
             Donc $f(x)$ a le <strong>même signe que $a$ à l'extérieur des racines</strong> ($]-\infty, x_1[\cup]x_2, +\infty[$) et le <strong>signe opposé de $a$ entre les racines</strong> ($]x_1, x_2[$).</li>
         </ul>
         <p>Résumé : Le trinôme $ax^2+bx+c$ est toujours du signe de $a$, sauf éventuellement entre les racines (si elles existent).</p>

         <!-- Ajouter exos 87 à 90 -->

         <h4>Somme et produit des racines</h4>
         <p>Si l'équation $ax^2+bx+c=0$ ($a \neq 0$) admet des racines réelles $x_1, x_2$ (distinctes ou confondues si $\Delta=0$), on a vu que $f(x)=a(x-x_1)(x-x_2)$.</p>
         <p>Développons : $a(x-x_1)(x-x_2) = a(x^2 - (x_1+x_2)x + x_1x_2) = ax^2 - a(x_1+x_2)x + a x_1x_2$.</p>
         <p>En identifiant les coefficients avec $ax^2+bx+c$, on obtient :</p>
         <ul>
             <li>$-a(x_1+x_2) = b \implies x_1+x_2 = -b/a$</li>
             <li>$a x_1x_2 = c \implies x_1x_2 = c/a$</li>
         </ul>
         <p>Formules de Viète pour le degré 2 :</p>
         $$
         \boxed{ S = x_{1}+x_{2}=-\frac{b}{a}, \quad P = x_{1} x_{2}=\frac{c}{a} }
         $$
         <p>Ces formules sont très utiles. Par exemple, pour déterminer le signe des racines (si elles sont réelles) sans les calculer :</p>
         <ul>
            <li>Si $P = c/a < 0$, les racines sont de signes opposés.</li>
            <li>Si $P = c/a > 0$, les racines sont de même signe. Leur signe commun est alors le signe de $S = -b/a$.</li>
            <li>Si $P=c/a=0$, l'une des racines est nulle (et $c=0$).</li>
         </ul>
         <p>(Il faut bien sûr que $\Delta \ge 0$ pour que les racines réelles existent).</p>
         <p>Notons que si $P=c/a < 0$, alors $ac < 0$. Dans ce cas, $\Delta = b^2 - 4ac$. Comme $b^2 \ge 0$ et $-4ac > 0$, on a $\Delta > 0$. Donc, si $c/a < 0$, il y a toujours deux racines réelles distinctes, de signes opposés.</p>
         <p>Inversement, si on connaît la somme $S$ et le produit $P$ de deux nombres $x_1, x_2$, ces nombres sont les racines de l'équation $x^2 - Sx + P = 0$.</p>

          <!-- Ajouter exos 91 à 93 -->
    </section>

    <section id="sec3-4">
        <div class="complement">
        <h3>3.4 Complément : inégalité de Cauchy-Schwarz pour les sommes</h3>
        <p>L'inégalité ci-après, importante en elle même, admet de nombreuses généralisations (pour les intégrales, les espaces vectoriels normés...).</p>

        <div class="theorem" id="thm2">
            <h4>Théorème 2 (Inégalité de Cauchy-Schwarz)</h4>
            <p>Soient $n \in \mathbb{N}^{*}$ et $a_{1}, \ldots, a_{n}, b_{1}, \ldots, b_{n}$ des nombres réels.</p>
            <p>(i) Alors</p>
            $$
            \left(\sum_{i=1}^{n} a_{i} b_{i}\right)^2 \leq \left(\sum_{i=1}^{n} a_{i}^{2}\right) \left(\sum_{i=1}^{n} b_{i}^{2}\right)
            $$
            <p>ou, de manière équivalente en prenant la racine carrée (les termes $\sum a_i^2$ et $\sum b_i^2$ étant positifs):</p>
            $$
            \left|\sum_{i=1}^{n} a_{i} b_{i}\right| \leq \sqrt{\sum_{i=1}^{n} a_{i}^{2}} \sqrt{\sum_{i=1}^{n} b_{i}^{2}}
            $$
            <p>(ii) Le cas d'égalité a lieu si et seulement si les familles $(a_1, \dots, a_n)$ et $(b_1, \dots, b_n)$ sont colinéaires, c'est-à-dire s'il existe $\lambda \in \mathbb{R}$ tel que $b_i = \lambda a_i$ pour tout $i \in \{1, \dots, n\}$, ou s'il existe $\mu \in \mathbb{R}$ tel que $a_i = \mu b_i$ pour tout $i \in \{1, \dots, n\}$. (Ces deux conditions sont équivalentes si aucune des familles n'est nulle).</p>
        </div>

        <p><strong>Preuve :</strong> Considérons la fonction $f$ définie pour $x \in \mathbb{R}$ par :</p>
        $$
        f(x)=\sum_{i=1}^{n}\left(a_{i} x+b_{i}\right)^{2}
        $$
        <p>Comme c'est une somme de carrés de nombres réels, $f(x) \ge 0$ pour tout $x \in \mathbb{R}$.</p>
        <p>Développons l'expression :</p>
        $$ f(x) = \sum_{i=1}^n (a_i^2 x^2 + 2a_i b_i x + b_i^2) $$
        <p>Par linéarité de la somme :</p>
        $$ f(x) = \left(\sum_{i=1}^n a_i^2\right) x^2 + \left(\sum_{i=1}^n 2a_i b_i\right) x + \left(\sum_{i=1}^n b_i^2\right) $$
        <p>Posons $A = \sum_{i=1}^{n} a_{i}{ }^{2}$, $B = 2 \sum_{i=1}^{n} a_{i} b_{i}$, $C = \sum_{i=1}^{n} b_{i}{ }^{2}$.</p>
        <p>Alors $f(x) = A x^2 + \frac{B}{2} (2x) + C$. Non, $f(x)=Ax^2+Bx+C$.</p>
        <p>C'est un trinôme du second degré en $x$ (ou affine si $A=0$). Puisque $f(x) \ge 0$ pour tout $x \in \mathbb{R}$, son discriminant $\Delta_{f} = B^2 - 4AC$ doit être négatif ou nul ($\Delta_f \le 0$).</p>
        <p>Calculons $\Delta_f$ :</p>
        $$ \Delta_f = \left(2 \sum_{i=1}^{n} a_{i} b_{i}\right)^2 - 4 \left(\sum_{i=1}^{n} a_{i}^{2}\right) \left(\sum_{i=1}^{n} b_{i}^{2}\right) $$
        $$ \Delta_f = 4 \left[ \left(\sum_{i=1}^{n} a_{i} b_{i}\right)^2 - \left(\sum_{i=1}^{n} a_{i}^{2}\right) \left(\sum_{i=1}^{n} b_{i}^{2}\right) \right] $$
        <p>La condition $\Delta_f \le 0$ donne :</p>
        $$ 4 \left[ \left(\sum_{i=1}^{n} a_{i} b_{i}\right)^2 - \left(\sum_{i=1}^{n} a_{i}^{2}\right) \left(\sum_{i=1}^{n} b_{i}^{2}\right) \right] \le 0 $$
        <p>Ce qui équivaut à :</p>
        $$ \left(\sum_{i=1}^{n} a_{i} b_{i}\right)^2 \leq \left(\sum_{i=1}^{n} a_{i}^{2}\right) \left(\sum_{i=1}^{n} b_{i}^{2}\right) $$
        <p>C'est l'inégalité (i).</p>

        <p><strong>Cas d'égalité :</strong> L'égalité a lieu si et seulement si $\Delta_f = 0$.</p>
        <p>Si $\Delta_f=0$, le trinôme $f(x)=Ax^2+Bx+C$ (qui est $\ge 0$) admet une racine réelle $x_0 = -B/(2A)$ (si $A \neq 0$). En cette racine, $f(x_0)=0$.</p>
        <p>$f(x_0) = \sum_{i=1}^{n}\left(a_{i} x_0+b_{i}\right)^{2} = 0$.</p>
        <p>Une somme de carrés est nulle si et seulement si chaque terme est nul. Donc, pour tout $i \in \{1, \dots, n\}$, $a_i x_0 + b_i = 0$, soit $b_i = -x_0 a_i$.</p>
        <p>Posons $\lambda = -x_0$. On a $b_i = \lambda a_i$ pour tout $i$. La famille $(b_i)$ est colinéaire à $(a_i)$.</p>
        <p>Si $A=0$, cela signifie $\sum a_i^2 = 0$. Comme c'est une somme de carrés, cela implique $a_i=0$ pour tout $i$. Dans ce cas, l'inégalité de Cauchy-Schwarz devient $(\sum 0 \cdot b_i)^2 \le (\sum 0^2) (\sum b_i^2)$, soit $0^2 \le 0 \times (\sum b_i^2)$, ce qui est $0 \le 0$. L'égalité a toujours lieu. Et la condition de colinéarité est $b_i = \lambda \cdot 0$, ce qui est vérifié si on prend $b_i=0$ pour tout $i$, ou si $a_i=0$ pour tout $i$ (ce qui est le cas). Si $A=0$ (i.e. tous les $a_i$ sont nuls), la condition de colinéarité $a_i = \mu b_i$ (avec $\mu=0$) est vérifiée.
        Réciproquement, si les familles sont colinéaires, par exemple $b_i = \lambda a_i$ pour tout $i$. Alors $\sum a_i b_i = \sum a_i (\lambda a_i) = \lambda \sum a_i^2$. Et $\sum b_i^2 = \sum (\lambda a_i)^2 = \lambda^2 \sum a_i^2$.
        L'inégalité devient $(\lambda \sum a_i^2)^2 \le (\sum a_i^2)(\lambda^2 \sum a_i^2)$, soit $\lambda^2 (\sum a_i^2)^2 \le \lambda^2 (\sum a_i^2)^2$. C'est une égalité.
        Donc le cas d'égalité correspond bien à la colinéarité des familles $(a_i)$ et $(b_i)$.</p>

        <div class="remarque">
            <h4>Remarque : Interprétation géométrique</h4>
            <p>Si on considère les vecteurs $\vec{u} = (a_1, \dots, a_n)$ et $\vec{v} = (b_1, \dots, b_n)$ dans $\mathbb{R}^n$, muni du produit scalaire usuel $\vec{u} \cdot \vec{v} = \sum_{i=1}^n a_i b_i$ et de la norme associée $\|\vec{u}\|^2 = \sum a_i^2$. L'inégalité de Cauchy-Schwarz s'écrit :</p>
            $$ (\vec{u} \cdot \vec{v})^2 \le \|\vec{u}\|^2 \|\vec{v}\|^2 $$
            <p>ou $|\vec{u} \cdot \vec{v}| \le \|\vec{u}\| \|\vec{v}\|$.</p>
            <p>Le cas d'égalité correspond au cas où les vecteurs $\vec{u}$ et $\vec{v}$ sont colinéaires (liés).</p>
        </div>

        <div class="exercise" id="ex94">
             <h3>Exercice 94 <span class="notation">(2)</span></h3>
             <p>Soit $n \in \mathbb{N}^{*}$. Montrer, en utilisant le théorème 2, que, si $x_{1}, \ldots, x_{n}$ sont des nombres réels tels que $\sum_{i=1}^{n} x_{i}{ }^{2}=1$, alors $\left|\sum_{i=1}^{n} x_{i}\right| \leq \sqrt{n}$. Caractériser le cas d'égalité.</p>
            <button class="solution-toggle" onclick="toggleSolution('sol94')">Afficher/Cacher la solution</button>
            <div class="solution" id="sol94">
                 <p><strong>Solution :</strong></p>
                 <p>On veut estimer $\left|\sum_{i=1}^{n} x_{i}\right|$. On utilise l'inégalité de Cauchy-Schwarz.</p>
                 <p>On écrit $\sum x_i$ comme une somme de produits $a_i b_i$. On peut choisir $a_i = x_i$ et $b_i = 1$ pour tout $i$.</p>
                 <p>L'inégalité de Cauchy-Schwarz (forme avec valeur absolue) est :</p>
                 $$ \left|\sum_{i=1}^{n} a_{i} b_{i}\right| \leq \sqrt{\sum_{i=1}^{n} a_{i}^{2}} \sqrt{\sum_{i=1}^{n} b_{i}^{2}} $$
                 <p>Appliquons-la avec $a_i=x_i$ et $b_i=1$ :</p>
                 $$ \left|\sum_{i=1}^{n} x_{i} \cdot 1\right| \leq \sqrt{\sum_{i=1}^{n} x_{i}^{2}} \sqrt{\sum_{i=1}^{n} 1^{2}} $$
                 <p>On sait par hypothèse que $\sum_{i=1}^{n} x_{i}^{2} = 1$.</p>
                 <p>Calculons $\sum_{i=1}^{n} 1^{2} = \sum_{i=1}^{n} 1 = n$.</p>
                 <p>L'inégalité devient :</p>
                 $$ \left|\sum_{i=1}^{n} x_{i}\right| \leq \sqrt{1} \sqrt{n} = \sqrt{n} $$
                 <p>C'est bien l'inégalité demandée.</p>
                 <p><strong>Cas d'égalité :</strong> L'égalité dans Cauchy-Schwarz a lieu si et seulement si les familles $(a_i)$ et $(b_i)$ sont colinéaires.</p>
                 <p>Ici, cela signifie que la famille $(x_1, \dots, x_n)$ est colinéaire à la famille $(1, \dots, 1)$.</p>
                 <p>Il existe donc $\lambda \in \mathbb{R}$ tel que $x_i = \lambda \cdot 1 = \lambda$ for all $i \in \{1, \dots, n\}$.</p>
                 <p>Si $x_i = \lambda$ pour tout $i$, la condition $\sum_{i=1}^n x_i^2 = 1$ devient :</p>
                 $$ \sum_{i=1}^n \lambda^2 = 1 $$
                 $$ n \lambda^2 = 1 $$
                 $$ \lambda^2 = \frac{1}{n} $$
                 <p>Donc $\lambda = \pm \frac{1}{\sqrt{n}}$.</p>
                 <p>Le cas d'égalité a lieu si et seulement si $x_i = \frac{1}{\sqrt{n}}$ pour tout $i$, ou $x_i = -\frac{1}{\sqrt{n}}$ pour tout $i$.</p>
                 <p>Vérifions :
                 Si $x_i = 1/\sqrt{n}$, alors $\sum x_i = n(1/\sqrt{n}) = \sqrt{n}$. Et $|\sum x_i|=\sqrt{n}$. L'égalité est atteinte.
                 Si $x_i = -1/\sqrt{n}$, alors $\sum x_i = n(-1/\sqrt{n}) = -\sqrt{n}$. Et $|\sum x_i|=\sqrt{n}$. L'égalité est atteinte.</p>
             </div>
        </div>
        </div>
    </section>

</section> <!-- end chap 3 -->

<section id="chap4">
    <!-- Contenu du chapitre 4 -->
     <h2>4 Trigonométrie</h2>

    <p>La trigonométrie est un outil très efficace en géométrie euclidienne du plan (et également de l'espace). Elle joue un rôle important en mathématiques et en physique. Elle repose sur un petit nombre de notions et de formules, qui doivent être bien connues.</p>
    <ul>
        <li>Valeurs des cosinus et sinus des angles « usuels » ($\pi/6, \pi/4, \pi/3$, etc.). En cas d'hésitation, tracer systématiquement le cercle trigonométrique.</li>
        <li>Formules fondamentales (addition et duplication), conséquences ($\cos^2 x + \sin^2 x = 1$, transformation de produits en sommes et de sommes en produits).</li>
        <li>Variations et graphes de sin et cos.</li>
        <li>Congruence modulo un nombre réel (surtout modulo $2\pi$ et $\pi$).</li>
    </ul>

    <section id="sec4-1">
        <h3>4.1 Les formules d'addition et de duplication</h3>

        <p>Les formules d'addition sont fondamentales :</p>
        $$
        \begin{aligned}
        \cos (x+y) &= \cos (x) \cos (y)-\sin (x) \sin (y) \\
        \cos (x-y) &= \cos (x) \cos (y)+\sin (x) \sin (y) \\
        \sin (x+y) &= \sin (x) \cos (y)+\cos (x) \sin (y) \\
        \sin (x-y) &= \sin (x) \cos (y)-\cos (x) \sin (y)
        \end{aligned}
        $$
        <p>Il faut également avoir en tête le cas particulier $y=x$, qui donne les formules de duplication :</p>
        $$
        \begin{aligned}
        \cos (2 x) &= \cos^2(x) - \sin^2(x) \\
                   &= 2 \cos ^{2}(x)-1 \quad (\text{car } \sin^2 x = 1-\cos^2 x) \\
                   &= 1-2 \sin ^{2}(x) \quad (\text{car } \cos^2 x = 1-\sin^2 x) \\
        \sin (2 x) &= 2 \sin (x) \cos (x)
        \end{aligned}
        $$
        <p>Les « autres » formules de trigonométrie, par exemple pour transformer un produit en somme :</p>
        $$
        \cos (x) \cos (y)=\frac{1}{2}(\cos (x+y)+\cos (x-y))
        $$
        $$
        \sin (x) \sin (y)=\frac{1}{2}(\cos (x-y)-\cos (x+y))
        $$
         $$
        \sin (x) \cos (y)=\frac{1}{2}(\sin (x+y)+\sin (x-y))
        $$
        <p>ou pour transformer une somme en produit (formules de Simpson) :</p>
        $$
        \cos (p)+\cos (q)=2 \cos \left(\frac{p+q}{2}\right) \cos \left(\frac{p-q}{2}\right)$$
    </section>
</section>
<script>
    function toggleSolution(solutionId, buttonElement) {
        // 1. Trouve l'élément div de la solution par son ID
        const solutionDiv = document.getElementById(solutionId);

        // 2. Vérifie si l'élément existe
        if (solutionDiv) {
            // 3. Vérifie l'état actuel (visible ou caché) en regardant la propriété 'display')
            //    Note: On vérifie si 'display' est 'block'. S'il est 'none' ou vide (valeur initiale via CSS), on le montre.
            const isVisible = solutionDiv.style.display === "block";

            if (isVisible) {
                // Si visible, on le cache
                solutionDiv.style.display = "none";
                // Et on met à jour le texte du bouton
                buttonElement.textContent = "Afficher la solution";
            } else {
                // Si caché, on le montre (en utilisant 'block' qui est approprié pour un div)
                solutionDiv.style.display = "block";
                // Et on met à jour le texte du bouton
                buttonElement.textContent = "Cacher la solution";
            }
        } else {
            console.error("L'élément solution avec l'ID '" + solutionId + "' n'a pas été trouvé.");
        }
    }

    // Optionnel: Initialiser tous les boutons au bon texte au chargement de la page
    // (Utile si le texte initial dans le HTML n'est pas "Afficher la solution")
    /*
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.solution-toggle');
        buttons.forEach(button => {
            // Récupère l'ID de la solution depuis l'attribut onclick
            const onclickAttr = button.getAttribute('onclick');
            const matches = onclickAttr.match(/toggleSolution\('([^']+)'/);
            if (matches && matches[1]) {
                const solutionId = matches[1];
                const solutionDiv = document.getElementById(solutionId);
                // Si la solution est initialement cachée (via CSS ou style inline)
                if (!solutionDiv || solutionDiv.style.display === "none" || getComputedStyle(solutionDiv).display === "none") {
                    button.textContent = "Afficher la solution";
                } else {
                     button.textContent = "Cacher la solution";
                }
            }
        });
    });
    */
</script>

         </body>
         </html>
